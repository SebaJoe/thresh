import{z as sa,A as M0,B as Bk,o as Nt,c as Ut,a as ot,t as Ht,F as Ei,r as Es,k as Ce,f as ir,b as _e,d as gn,j as hd,C as fd,L as E_,D as _c,E as xi,G as Uk,H as zk,I as Hk,J as Cf,s as x_,h as jk,K as Gk}from"./index-b7227de2.js";var mc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */mc.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,_="__lodash_placeholder__",v=1,S=2,A=4,P=1,z=2,X=1,it=2,tt=4,_t=8,bt=16,$t=32,yt=64,Qt=128,Se=256,He=512,oe=30,Me="...",mr=800,yr=16,wt=1,Ie=2,re=3,cn=1/0,ar=9007199254740991,ol=17976931348623157e292,$s=0/0,vr=4294967295,al=vr-1,Fu=vr>>>1,Oi=[["ary",Qt],["bind",X],["bindKey",it],["curry",_t],["curryRight",bt],["flip",He],["partial",$t],["partialRight",yt],["rearg",Se]],mn="[object Arguments]",si="[object Array]",Vu="[object AsyncFunction]",Di="[object Boolean]",Lt="[object Date]",qs="[object DOMException]",yn="[object Error]",Mr="[object Function]",ss="[object GeneratorFunction]",me="[object Map]",Pi="[object Number]",Pn="[object Null]",un="[object Object]",vn="[object Promise]",tn="[object Proxy]",os="[object RegExp]",lr="[object Set]",oi="[object String]",as="[object Symbol]",ll="[object Undefined]",ai="[object WeakMap]",hn="[object WeakSet]",ls="[object ArrayBuffer]",Ne="[object DataView]",qo="[object Float32Array]",Lr="[object Float64Array]",rn="[object Int8Array]",li="[object Int16Array]",ci="[object Int32Array]",Mi="[object Uint8Array]",cs="[object Uint8ClampedArray]",ui="[object Uint16Array]",zn="[object Uint32Array]",us=/\b__p \+= '';/g,Bs=/\b(__p \+=) '' \+/g,Li=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ni=/&(?:amp|lt|gt|quot|#39);/g,Us=/[&<>"']/g,Bo=RegExp(Ni.source),cl=RegExp(Us.source),zs=/<%-([\s\S]+?)%>/g,Ye=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Fi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,ul=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hs=/[\\^$.*+?()[\]{}|]/g,hl=RegExp(Hs.source),Qe=/^\s+/,Et=/\s/,fl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dl=/\{\n\/\* \[wrapped with (.+)\] \*/,$u=/,? & /,Vi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hn=/[()=,{}\[\]\/\s]/,js=/\\(\\)?/g,Gs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uo=/\w*$/,Ws=/^[-+]0x[0-9a-f]+$/i,Ks=/^0b[01]+$/i,jn=/^\[object .+?Constructor\]$/,h=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,m=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,y=/($^)/,E=/['\n\r\u2028\u2029\\]/g,k="\\ud800-\\udfff",j="\\u0300-\\u036f",F="\\ufe20-\\ufe2f",H="\\u20d0-\\u20ff",C=j+F+H,M="\\u2700-\\u27bf",Z="a-z\\xdf-\\xf6\\xf8-\\xff",R="\\xac\\xb1\\xd7\\xf7",O="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",D="\\u2000-\\u206f",B=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Q="A-Z\\xc0-\\xd6\\xd8-\\xde",nt="\\ufe0e\\ufe0f",ut=R+O+D+B,st="['’]",Y="["+k+"]",N="["+ut+"]",q="["+C+"]",V="\\d+",vt="["+M+"]",xt="["+Z+"]",gt="[^"+k+ut+V+M+Z+Q+"]",T="\\ud83c[\\udffb-\\udfff]",et="(?:"+q+"|"+T+")",ht="[^"+k+"]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="["+Q+"]",K="\\u200d",qt="(?:"+xt+"|"+gt+")",we="(?:"+mt+"|"+gt+")",Dt="(?:"+st+"(?:d|ll|m|re|s|t|ve))?",Kt="(?:"+st+"(?:D|LL|M|RE|S|T|VE))?",Re=et+"?",Oe="["+nt+"]?",Ee="(?:"+K+"(?:"+[ht,Tt,Rt].join("|")+")"+Oe+Re+")*",fn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$i="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yt=Oe+Re+Ee,Ot="(?:"+[vt,Tt,Rt].join("|")+")"+Yt,kt="(?:"+[ht+q+"?",q,Tt,Rt,Y].join("|")+")",Zt=RegExp(st,"g"),Ct=RegExp(q,"g"),ee=RegExp(T+"(?="+T+")|"+kt+Yt,"g"),Be=RegExp([mt+"?"+xt+"+"+Dt+"(?="+[N,mt,"$"].join("|")+")",we+"+"+Kt+"(?="+[N,mt+qt,"$"].join("|")+")",mt+"?"+qt+"+"+Dt,mt+"+"+Kt,$i,fn,V,Ot].join("|"),"g"),Ae=RegExp("["+K+k+C+nt+"]"),Gn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nr=-1,Bt={};Bt[qo]=Bt[Lr]=Bt[rn]=Bt[li]=Bt[ci]=Bt[Mi]=Bt[cs]=Bt[ui]=Bt[zn]=!0,Bt[mn]=Bt[si]=Bt[ls]=Bt[Di]=Bt[Ne]=Bt[Lt]=Bt[yn]=Bt[Mr]=Bt[me]=Bt[Pi]=Bt[un]=Bt[os]=Bt[lr]=Bt[oi]=Bt[ai]=!1;var W={};W[mn]=W[si]=W[ls]=W[Ne]=W[Di]=W[Lt]=W[qo]=W[Lr]=W[rn]=W[li]=W[ci]=W[me]=W[Pi]=W[un]=W[os]=W[lr]=W[oi]=W[as]=W[Mi]=W[cs]=W[ui]=W[zn]=!0,W[yn]=W[Mr]=W[ai]=!1;var zt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},De={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ye={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},br=parseFloat,zo=parseInt,Ys=typeof sa=="object"&&sa&&sa.Object===Object&&sa,hi=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Ys||hi||Function("return this")(),qu=t&&!t.nodeType&&t,hs=qu&&!0&&e&&!e.nodeType&&e,_p=hs&&hs.exports===qu,Bu=_p&&Ys.process,wr=function(){try{var U=hs&&hs.require&&hs.require("util").types;return U||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),mp=wr&&wr.isArrayBuffer,yp=wr&&wr.isDate,vp=wr&&wr.isMap,bp=wr&&wr.isRegExp,wp=wr&&wr.isSet,Ep=wr&&wr.isTypedArray;function cr(U,rt,J){switch(J.length){case 0:return U.call(rt);case 1:return U.call(rt,J[0]);case 2:return U.call(rt,J[0],J[1]);case 3:return U.call(rt,J[0],J[1],J[2])}return U.apply(rt,J)}function ub(U,rt,J,It){for(var te=-1,ve=U==null?0:U.length;++te<ve;){var dn=U[te];rt(It,dn,J(dn),U)}return It}function Er(U,rt){for(var J=-1,It=U==null?0:U.length;++J<It&&rt(U[J],J,U)!==!1;);return U}function hb(U,rt){for(var J=U==null?0:U.length;J--&&rt(U[J],J,U)!==!1;);return U}function xp(U,rt){for(var J=-1,It=U==null?0:U.length;++J<It;)if(!rt(U[J],J,U))return!1;return!0}function qi(U,rt){for(var J=-1,It=U==null?0:U.length,te=0,ve=[];++J<It;){var dn=U[J];rt(dn,J,U)&&(ve[te++]=dn)}return ve}function pl(U,rt){var J=U==null?0:U.length;return!!J&&Qs(U,rt,0)>-1}function Uu(U,rt,J){for(var It=-1,te=U==null?0:U.length;++It<te;)if(J(rt,U[It]))return!0;return!1}function Ue(U,rt){for(var J=-1,It=U==null?0:U.length,te=Array(It);++J<It;)te[J]=rt(U[J],J,U);return te}function Bi(U,rt){for(var J=-1,It=rt.length,te=U.length;++J<It;)U[te+J]=rt[J];return U}function zu(U,rt,J,It){var te=-1,ve=U==null?0:U.length;for(It&&ve&&(J=U[++te]);++te<ve;)J=rt(J,U[te],te,U);return J}function fb(U,rt,J,It){var te=U==null?0:U.length;for(It&&te&&(J=U[--te]);te--;)J=rt(J,U[te],te,U);return J}function Hu(U,rt){for(var J=-1,It=U==null?0:U.length;++J<It;)if(rt(U[J],J,U))return!0;return!1}var db=ju("length");function pb(U){return U.split("")}function gb(U){return U.match(Vi)||[]}function Sp(U,rt,J){var It;return J(U,function(te,ve,dn){if(rt(te,ve,dn))return It=ve,!1}),It}function gl(U,rt,J,It){for(var te=U.length,ve=J+(It?1:-1);It?ve--:++ve<te;)if(rt(U[ve],ve,U))return ve;return-1}function Qs(U,rt,J){return rt===rt?Cb(U,rt,J):gl(U,Ap,J)}function _b(U,rt,J,It){for(var te=J-1,ve=U.length;++te<ve;)if(It(U[te],rt))return te;return-1}function Ap(U){return U!==U}function kp(U,rt){var J=U==null?0:U.length;return J?Wu(U,rt)/J:$s}function ju(U){return function(rt){return rt==null?n:rt[U]}}function Gu(U){return function(rt){return U==null?n:U[rt]}}function Cp(U,rt,J,It,te){return te(U,function(ve,dn,Pe){J=It?(It=!1,ve):rt(J,ve,dn,Pe)}),J}function mb(U,rt){var J=U.length;for(U.sort(rt);J--;)U[J]=U[J].value;return U}function Wu(U,rt){for(var J,It=-1,te=U.length;++It<te;){var ve=rt(U[It]);ve!==n&&(J=J===n?ve:J+ve)}return J}function Ku(U,rt){for(var J=-1,It=Array(U);++J<U;)It[J]=rt(J);return It}function yb(U,rt){return Ue(rt,function(J){return[J,U[J]]})}function Tp(U){return U&&U.slice(0,Dp(U)+1).replace(Qe,"")}function ur(U){return function(rt){return U(rt)}}function Yu(U,rt){return Ue(rt,function(J){return U[J]})}function Ho(U,rt){return U.has(rt)}function Ip(U,rt){for(var J=-1,It=U.length;++J<It&&Qs(rt,U[J],0)>-1;);return J}function Rp(U,rt){for(var J=U.length;J--&&Qs(rt,U[J],0)>-1;);return J}function vb(U,rt){for(var J=U.length,It=0;J--;)U[J]===rt&&++It;return It}var bb=Gu(zt),wb=Gu(De);function Eb(U){return"\\"+Ve[U]}function xb(U,rt){return U==null?n:U[rt]}function Zs(U){return Ae.test(U)}function Sb(U){return Gn.test(U)}function Ab(U){for(var rt,J=[];!(rt=U.next()).done;)J.push(rt.value);return J}function Qu(U){var rt=-1,J=Array(U.size);return U.forEach(function(It,te){J[++rt]=[te,It]}),J}function Op(U,rt){return function(J){return U(rt(J))}}function Ui(U,rt){for(var J=-1,It=U.length,te=0,ve=[];++J<It;){var dn=U[J];(dn===rt||dn===_)&&(U[J]=_,ve[te++]=J)}return ve}function _l(U){var rt=-1,J=Array(U.size);return U.forEach(function(It){J[++rt]=It}),J}function kb(U){var rt=-1,J=Array(U.size);return U.forEach(function(It){J[++rt]=[It,It]}),J}function Cb(U,rt,J){for(var It=J-1,te=U.length;++It<te;)if(U[It]===rt)return It;return-1}function Tb(U,rt,J){for(var It=J+1;It--;)if(U[It]===rt)return It;return It}function Xs(U){return Zs(U)?Rb(U):db(U)}function Fr(U){return Zs(U)?Ob(U):pb(U)}function Dp(U){for(var rt=U.length;rt--&&Et.test(U.charAt(rt)););return rt}var Ib=Gu(ye);function Rb(U){for(var rt=ee.lastIndex=0;ee.test(U);)++rt;return rt}function Ob(U){return U.match(ee)||[]}function Db(U){return U.match(Be)||[]}var Pb=function U(rt){rt=rt==null?Ge:Js.defaults(Ge.Object(),rt,Js.pick(Ge,Wn));var J=rt.Array,It=rt.Date,te=rt.Error,ve=rt.Function,dn=rt.Math,Pe=rt.Object,Zu=rt.RegExp,Mb=rt.String,xr=rt.TypeError,ml=J.prototype,Lb=ve.prototype,to=Pe.prototype,yl=rt["__core-js_shared__"],vl=Lb.toString,ke=to.hasOwnProperty,Nb=0,Pp=function(){var s=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),bl=to.toString,Fb=vl.call(Pe),Vb=Ge._,$b=Zu("^"+vl.call(ke).replace(Hs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=_p?rt.Buffer:n,zi=rt.Symbol,El=rt.Uint8Array,Mp=wl?wl.allocUnsafe:n,xl=Op(Pe.getPrototypeOf,Pe),Lp=Pe.create,Np=to.propertyIsEnumerable,Sl=ml.splice,Fp=zi?zi.isConcatSpreadable:n,jo=zi?zi.iterator:n,fs=zi?zi.toStringTag:n,Al=function(){try{var s=ms(Pe,"defineProperty");return s({},"",{}),s}catch{}}(),qb=rt.clearTimeout!==Ge.clearTimeout&&rt.clearTimeout,Bb=It&&It.now!==Ge.Date.now&&It.now,Ub=rt.setTimeout!==Ge.setTimeout&&rt.setTimeout,kl=dn.ceil,Cl=dn.floor,Xu=Pe.getOwnPropertySymbols,zb=wl?wl.isBuffer:n,Vp=rt.isFinite,Hb=ml.join,jb=Op(Pe.keys,Pe),pn=dn.max,Mn=dn.min,Gb=It.now,Wb=rt.parseInt,$p=dn.random,Kb=ml.reverse,Ju=ms(rt,"DataView"),Go=ms(rt,"Map"),th=ms(rt,"Promise"),eo=ms(rt,"Set"),Wo=ms(rt,"WeakMap"),Ko=ms(Pe,"create"),Tl=Wo&&new Wo,no={},Yb=ys(Ju),Qb=ys(Go),Zb=ys(th),Xb=ys(eo),Jb=ys(Wo),Il=zi?zi.prototype:n,Yo=Il?Il.valueOf:n,qp=Il?Il.toString:n;function w(s){if(Ze(s)&&!ne(s)&&!(s instanceof ue)){if(s instanceof Sr)return s;if(ke.call(s,"__wrapped__"))return Bg(s)}return new Sr(s)}var ro=function(){function s(){}return function(a){if(!We(a))return{};if(Lp)return Lp(a);s.prototype=a;var u=new s;return s.prototype=n,u}}();function Rl(){}function Sr(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}w.templateSettings={escape:zs,evaluate:Ye,interpolate:je,variable:"",imports:{_:w}},w.prototype=Rl.prototype,w.prototype.constructor=w,Sr.prototype=ro(Rl.prototype),Sr.prototype.constructor=Sr;function ue(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=vr,this.__views__=[]}function tw(){var s=new ue(this.__wrapped__);return s.__actions__=tr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=tr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=tr(this.__views__),s}function ew(){if(this.__filtered__){var s=new ue(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function nw(){var s=this.__wrapped__.value(),a=this.__dir__,u=ne(s),p=a<0,b=u?s.length:0,x=pE(0,b,this.__views__),I=x.start,L=x.end,G=L-I,at=p?L:I-1,lt=this.__iteratees__,ft=lt.length,St=0,Pt=Mn(G,this.__takeCount__);if(!u||!p&&b==G&&Pt==G)return ug(s,this.__actions__);var Gt=[];t:for(;G--&&St<Pt;){at+=a;for(var se=-1,Wt=s[at];++se<ft;){var ce=lt[se],he=ce.iteratee,dr=ce.type,Qn=he(Wt);if(dr==Ie)Wt=Qn;else if(!Qn){if(dr==wt)continue t;break t}}Gt[St++]=Wt}return Gt}ue.prototype=ro(Rl.prototype),ue.prototype.constructor=ue;function ds(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var p=s[a];this.set(p[0],p[1])}}function rw(){this.__data__=Ko?Ko(null):{},this.size=0}function iw(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function sw(s){var a=this.__data__;if(Ko){var u=a[s];return u===f?n:u}return ke.call(a,s)?a[s]:n}function ow(s){var a=this.__data__;return Ko?a[s]!==n:ke.call(a,s)}function aw(s,a){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=Ko&&a===n?f:a,this}ds.prototype.clear=rw,ds.prototype.delete=iw,ds.prototype.get=sw,ds.prototype.has=ow,ds.prototype.set=aw;function fi(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var p=s[a];this.set(p[0],p[1])}}function lw(){this.__data__=[],this.size=0}function cw(s){var a=this.__data__,u=Ol(a,s);if(u<0)return!1;var p=a.length-1;return u==p?a.pop():Sl.call(a,u,1),--this.size,!0}function uw(s){var a=this.__data__,u=Ol(a,s);return u<0?n:a[u][1]}function hw(s){return Ol(this.__data__,s)>-1}function fw(s,a){var u=this.__data__,p=Ol(u,s);return p<0?(++this.size,u.push([s,a])):u[p][1]=a,this}fi.prototype.clear=lw,fi.prototype.delete=cw,fi.prototype.get=uw,fi.prototype.has=hw,fi.prototype.set=fw;function di(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var p=s[a];this.set(p[0],p[1])}}function dw(){this.size=0,this.__data__={hash:new ds,map:new(Go||fi),string:new ds}}function pw(s){var a=zl(this,s).delete(s);return this.size-=a?1:0,a}function gw(s){return zl(this,s).get(s)}function _w(s){return zl(this,s).has(s)}function mw(s,a){var u=zl(this,s),p=u.size;return u.set(s,a),this.size+=u.size==p?0:1,this}di.prototype.clear=dw,di.prototype.delete=pw,di.prototype.get=gw,di.prototype.has=_w,di.prototype.set=mw;function ps(s){var a=-1,u=s==null?0:s.length;for(this.__data__=new di;++a<u;)this.add(s[a])}function yw(s){return this.__data__.set(s,f),this}function vw(s){return this.__data__.has(s)}ps.prototype.add=ps.prototype.push=yw,ps.prototype.has=vw;function Vr(s){var a=this.__data__=new fi(s);this.size=a.size}function bw(){this.__data__=new fi,this.size=0}function ww(s){var a=this.__data__,u=a.delete(s);return this.size=a.size,u}function Ew(s){return this.__data__.get(s)}function xw(s){return this.__data__.has(s)}function Sw(s,a){var u=this.__data__;if(u instanceof fi){var p=u.__data__;if(!Go||p.length<i-1)return p.push([s,a]),this.size=++u.size,this;u=this.__data__=new di(p)}return u.set(s,a),this.size=u.size,this}Vr.prototype.clear=bw,Vr.prototype.delete=ww,Vr.prototype.get=Ew,Vr.prototype.has=xw,Vr.prototype.set=Sw;function Bp(s,a){var u=ne(s),p=!u&&vs(s),b=!u&&!p&&Ki(s),x=!u&&!p&&!b&&ao(s),I=u||p||b||x,L=I?Ku(s.length,Mb):[],G=L.length;for(var at in s)(a||ke.call(s,at))&&!(I&&(at=="length"||b&&(at=="offset"||at=="parent")||x&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||mi(at,G)))&&L.push(at);return L}function Up(s){var a=s.length;return a?s[hh(0,a-1)]:n}function Aw(s,a){return Hl(tr(s),gs(a,0,s.length))}function kw(s){return Hl(tr(s))}function eh(s,a,u){(u!==n&&!$r(s[a],u)||u===n&&!(a in s))&&pi(s,a,u)}function Qo(s,a,u){var p=s[a];(!(ke.call(s,a)&&$r(p,u))||u===n&&!(a in s))&&pi(s,a,u)}function Ol(s,a){for(var u=s.length;u--;)if($r(s[u][0],a))return u;return-1}function Cw(s,a,u,p){return Hi(s,function(b,x,I){a(p,b,u(b),I)}),p}function zp(s,a){return s&&Wr(a,bn(a),s)}function Tw(s,a){return s&&Wr(a,nr(a),s)}function pi(s,a,u){a=="__proto__"&&Al?Al(s,a,{configurable:!0,enumerable:!0,value:u,writable:!0}):s[a]=u}function nh(s,a){for(var u=-1,p=a.length,b=J(p),x=s==null;++u<p;)b[u]=x?n:Nh(s,a[u]);return b}function gs(s,a,u){return s===s&&(u!==n&&(s=s<=u?s:u),a!==n&&(s=s>=a?s:a)),s}function Ar(s,a,u,p,b,x){var I,L=a&v,G=a&S,at=a&A;if(u&&(I=b?u(s,p,b,x):u(s)),I!==n)return I;if(!We(s))return s;var lt=ne(s);if(lt){if(I=_E(s),!L)return tr(s,I)}else{var ft=Ln(s),St=ft==Mr||ft==ss;if(Ki(s))return dg(s,L);if(ft==un||ft==mn||St&&!b){if(I=G||St?{}:Dg(s),!L)return G?sE(s,Tw(I,s)):iE(s,zp(I,s))}else{if(!W[ft])return b?s:{};I=mE(s,ft,L)}}x||(x=new Vr);var Pt=x.get(s);if(Pt)return Pt;x.set(s,I),a_(s)?s.forEach(function(Wt){I.add(Ar(Wt,a,u,Wt,s,x))}):s_(s)&&s.forEach(function(Wt,ce){I.set(ce,Ar(Wt,a,u,ce,s,x))});var Gt=at?G?Eh:wh:G?nr:bn,se=lt?n:Gt(s);return Er(se||s,function(Wt,ce){se&&(ce=Wt,Wt=s[ce]),Qo(I,ce,Ar(Wt,a,u,ce,s,x))}),I}function Iw(s){var a=bn(s);return function(u){return Hp(u,s,a)}}function Hp(s,a,u){var p=u.length;if(s==null)return!p;for(s=Pe(s);p--;){var b=u[p],x=a[b],I=s[b];if(I===n&&!(b in s)||!x(I))return!1}return!0}function jp(s,a,u){if(typeof s!="function")throw new xr(l);return ra(function(){s.apply(n,u)},a)}function Zo(s,a,u,p){var b=-1,x=pl,I=!0,L=s.length,G=[],at=a.length;if(!L)return G;u&&(a=Ue(a,ur(u))),p?(x=Uu,I=!1):a.length>=i&&(x=Ho,I=!1,a=new ps(a));t:for(;++b<L;){var lt=s[b],ft=u==null?lt:u(lt);if(lt=p||lt!==0?lt:0,I&&ft===ft){for(var St=at;St--;)if(a[St]===ft)continue t;G.push(lt)}else x(a,ft,p)||G.push(lt)}return G}var Hi=yg(Gr),Gp=yg(ih,!0);function Rw(s,a){var u=!0;return Hi(s,function(p,b,x){return u=!!a(p,b,x),u}),u}function Dl(s,a,u){for(var p=-1,b=s.length;++p<b;){var x=s[p],I=a(x);if(I!=null&&(L===n?I===I&&!fr(I):u(I,L)))var L=I,G=x}return G}function Ow(s,a,u,p){var b=s.length;for(u=ie(u),u<0&&(u=-u>b?0:b+u),p=p===n||p>b?b:ie(p),p<0&&(p+=b),p=u>p?0:c_(p);u<p;)s[u++]=a;return s}function Wp(s,a){var u=[];return Hi(s,function(p,b,x){a(p,b,x)&&u.push(p)}),u}function Cn(s,a,u,p,b){var x=-1,I=s.length;for(u||(u=vE),b||(b=[]);++x<I;){var L=s[x];a>0&&u(L)?a>1?Cn(L,a-1,u,p,b):Bi(b,L):p||(b[b.length]=L)}return b}var rh=vg(),Kp=vg(!0);function Gr(s,a){return s&&rh(s,a,bn)}function ih(s,a){return s&&Kp(s,a,bn)}function Pl(s,a){return qi(a,function(u){return yi(s[u])})}function _s(s,a){a=Gi(a,s);for(var u=0,p=a.length;s!=null&&u<p;)s=s[Kr(a[u++])];return u&&u==p?s:n}function Yp(s,a,u){var p=a(s);return ne(s)?p:Bi(p,u(s))}function Kn(s){return s==null?s===n?ll:Pn:fs&&fs in Pe(s)?dE(s):kE(s)}function sh(s,a){return s>a}function Dw(s,a){return s!=null&&ke.call(s,a)}function Pw(s,a){return s!=null&&a in Pe(s)}function Mw(s,a,u){return s>=Mn(a,u)&&s<pn(a,u)}function oh(s,a,u){for(var p=u?Uu:pl,b=s[0].length,x=s.length,I=x,L=J(x),G=1/0,at=[];I--;){var lt=s[I];I&&a&&(lt=Ue(lt,ur(a))),G=Mn(lt.length,G),L[I]=!u&&(a||b>=120&&lt.length>=120)?new ps(I&&lt):n}lt=s[0];var ft=-1,St=L[0];t:for(;++ft<b&&at.length<G;){var Pt=lt[ft],Gt=a?a(Pt):Pt;if(Pt=u||Pt!==0?Pt:0,!(St?Ho(St,Gt):p(at,Gt,u))){for(I=x;--I;){var se=L[I];if(!(se?Ho(se,Gt):p(s[I],Gt,u)))continue t}St&&St.push(Gt),at.push(Pt)}}return at}function Lw(s,a,u,p){return Gr(s,function(b,x,I){a(p,u(b),x,I)}),p}function Xo(s,a,u){a=Gi(a,s),s=Ng(s,a);var p=s==null?s:s[Kr(Cr(a))];return p==null?n:cr(p,s,u)}function Qp(s){return Ze(s)&&Kn(s)==mn}function Nw(s){return Ze(s)&&Kn(s)==ls}function Fw(s){return Ze(s)&&Kn(s)==Lt}function Jo(s,a,u,p,b){return s===a?!0:s==null||a==null||!Ze(s)&&!Ze(a)?s!==s&&a!==a:Vw(s,a,u,p,Jo,b)}function Vw(s,a,u,p,b,x){var I=ne(s),L=ne(a),G=I?si:Ln(s),at=L?si:Ln(a);G=G==mn?un:G,at=at==mn?un:at;var lt=G==un,ft=at==un,St=G==at;if(St&&Ki(s)){if(!Ki(a))return!1;I=!0,lt=!1}if(St&&!lt)return x||(x=new Vr),I||ao(s)?Ig(s,a,u,p,b,x):hE(s,a,G,u,p,b,x);if(!(u&P)){var Pt=lt&&ke.call(s,"__wrapped__"),Gt=ft&&ke.call(a,"__wrapped__");if(Pt||Gt){var se=Pt?s.value():s,Wt=Gt?a.value():a;return x||(x=new Vr),b(se,Wt,u,p,x)}}return St?(x||(x=new Vr),fE(s,a,u,p,b,x)):!1}function $w(s){return Ze(s)&&Ln(s)==me}function ah(s,a,u,p){var b=u.length,x=b,I=!p;if(s==null)return!x;for(s=Pe(s);b--;){var L=u[b];if(I&&L[2]?L[1]!==s[L[0]]:!(L[0]in s))return!1}for(;++b<x;){L=u[b];var G=L[0],at=s[G],lt=L[1];if(I&&L[2]){if(at===n&&!(G in s))return!1}else{var ft=new Vr;if(p)var St=p(at,lt,G,s,a,ft);if(!(St===n?Jo(lt,at,P|z,p,ft):St))return!1}}return!0}function Zp(s){if(!We(s)||wE(s))return!1;var a=yi(s)?$b:jn;return a.test(ys(s))}function qw(s){return Ze(s)&&Kn(s)==os}function Bw(s){return Ze(s)&&Ln(s)==lr}function Uw(s){return Ze(s)&&Ql(s.length)&&!!Bt[Kn(s)]}function Xp(s){return typeof s=="function"?s:s==null?rr:typeof s=="object"?ne(s)?eg(s[0],s[1]):tg(s):b_(s)}function lh(s){if(!na(s))return jb(s);var a=[];for(var u in Pe(s))ke.call(s,u)&&u!="constructor"&&a.push(u);return a}function zw(s){if(!We(s))return AE(s);var a=na(s),u=[];for(var p in s)p=="constructor"&&(a||!ke.call(s,p))||u.push(p);return u}function ch(s,a){return s<a}function Jp(s,a){var u=-1,p=er(s)?J(s.length):[];return Hi(s,function(b,x,I){p[++u]=a(b,x,I)}),p}function tg(s){var a=Sh(s);return a.length==1&&a[0][2]?Mg(a[0][0],a[0][1]):function(u){return u===s||ah(u,s,a)}}function eg(s,a){return kh(s)&&Pg(a)?Mg(Kr(s),a):function(u){var p=Nh(u,s);return p===n&&p===a?Fh(u,s):Jo(a,p,P|z)}}function Ml(s,a,u,p,b){s!==a&&rh(a,function(x,I){if(b||(b=new Vr),We(x))Hw(s,a,I,u,Ml,p,b);else{var L=p?p(Th(s,I),x,I+"",s,a,b):n;L===n&&(L=x),eh(s,I,L)}},nr)}function Hw(s,a,u,p,b,x,I){var L=Th(s,u),G=Th(a,u),at=I.get(G);if(at){eh(s,u,at);return}var lt=x?x(L,G,u+"",s,a,I):n,ft=lt===n;if(ft){var St=ne(G),Pt=!St&&Ki(G),Gt=!St&&!Pt&&ao(G);lt=G,St||Pt||Gt?ne(L)?lt=L:en(L)?lt=tr(L):Pt?(ft=!1,lt=dg(G,!0)):Gt?(ft=!1,lt=pg(G,!0)):lt=[]:ia(G)||vs(G)?(lt=L,vs(L)?lt=u_(L):(!We(L)||yi(L))&&(lt=Dg(G))):ft=!1}ft&&(I.set(G,lt),b(lt,G,p,x,I),I.delete(G)),eh(s,u,lt)}function ng(s,a){var u=s.length;if(u)return a+=a<0?u:0,mi(a,u)?s[a]:n}function rg(s,a,u){a.length?a=Ue(a,function(x){return ne(x)?function(I){return _s(I,x.length===1?x[0]:x)}:x}):a=[rr];var p=-1;a=Ue(a,ur(jt()));var b=Jp(s,function(x,I,L){var G=Ue(a,function(at){return at(x)});return{criteria:G,index:++p,value:x}});return mb(b,function(x,I){return rE(x,I,u)})}function jw(s,a){return ig(s,a,function(u,p){return Fh(s,p)})}function ig(s,a,u){for(var p=-1,b=a.length,x={};++p<b;){var I=a[p],L=_s(s,I);u(L,I)&&ta(x,Gi(I,s),L)}return x}function Gw(s){return function(a){return _s(a,s)}}function uh(s,a,u,p){var b=p?_b:Qs,x=-1,I=a.length,L=s;for(s===a&&(a=tr(a)),u&&(L=Ue(s,ur(u)));++x<I;)for(var G=0,at=a[x],lt=u?u(at):at;(G=b(L,lt,G,p))>-1;)L!==s&&Sl.call(L,G,1),Sl.call(s,G,1);return s}function sg(s,a){for(var u=s?a.length:0,p=u-1;u--;){var b=a[u];if(u==p||b!==x){var x=b;mi(b)?Sl.call(s,b,1):ph(s,b)}}return s}function hh(s,a){return s+Cl($p()*(a-s+1))}function Ww(s,a,u,p){for(var b=-1,x=pn(kl((a-s)/(u||1)),0),I=J(x);x--;)I[p?x:++b]=s,s+=u;return I}function fh(s,a){var u="";if(!s||a<1||a>ar)return u;do a%2&&(u+=s),a=Cl(a/2),a&&(s+=s);while(a);return u}function ae(s,a){return Ih(Lg(s,a,rr),s+"")}function Kw(s){return Up(lo(s))}function Yw(s,a){var u=lo(s);return Hl(u,gs(a,0,u.length))}function ta(s,a,u,p){if(!We(s))return s;a=Gi(a,s);for(var b=-1,x=a.length,I=x-1,L=s;L!=null&&++b<x;){var G=Kr(a[b]),at=u;if(G==="__proto__"||G==="constructor"||G==="prototype")return s;if(b!=I){var lt=L[G];at=p?p(lt,G,L):n,at===n&&(at=We(lt)?lt:mi(a[b+1])?[]:{})}Qo(L,G,at),L=L[G]}return s}var og=Tl?function(s,a){return Tl.set(s,a),s}:rr,Qw=Al?function(s,a){return Al(s,"toString",{configurable:!0,enumerable:!1,value:$h(a),writable:!0})}:rr;function Zw(s){return Hl(lo(s))}function kr(s,a,u){var p=-1,b=s.length;a<0&&(a=-a>b?0:b+a),u=u>b?b:u,u<0&&(u+=b),b=a>u?0:u-a>>>0,a>>>=0;for(var x=J(b);++p<b;)x[p]=s[p+a];return x}function Xw(s,a){var u;return Hi(s,function(p,b,x){return u=a(p,b,x),!u}),!!u}function Ll(s,a,u){var p=0,b=s==null?p:s.length;if(typeof a=="number"&&a===a&&b<=Fu){for(;p<b;){var x=p+b>>>1,I=s[x];I!==null&&!fr(I)&&(u?I<=a:I<a)?p=x+1:b=x}return b}return dh(s,a,rr,u)}function dh(s,a,u,p){var b=0,x=s==null?0:s.length;if(x===0)return 0;a=u(a);for(var I=a!==a,L=a===null,G=fr(a),at=a===n;b<x;){var lt=Cl((b+x)/2),ft=u(s[lt]),St=ft!==n,Pt=ft===null,Gt=ft===ft,se=fr(ft);if(I)var Wt=p||Gt;else at?Wt=Gt&&(p||St):L?Wt=Gt&&St&&(p||!Pt):G?Wt=Gt&&St&&!Pt&&(p||!se):Pt||se?Wt=!1:Wt=p?ft<=a:ft<a;Wt?b=lt+1:x=lt}return Mn(x,al)}function ag(s,a){for(var u=-1,p=s.length,b=0,x=[];++u<p;){var I=s[u],L=a?a(I):I;if(!u||!$r(L,G)){var G=L;x[b++]=I===0?0:I}}return x}function lg(s){return typeof s=="number"?s:fr(s)?$s:+s}function hr(s){if(typeof s=="string")return s;if(ne(s))return Ue(s,hr)+"";if(fr(s))return qp?qp.call(s):"";var a=s+"";return a=="0"&&1/s==-cn?"-0":a}function ji(s,a,u){var p=-1,b=pl,x=s.length,I=!0,L=[],G=L;if(u)I=!1,b=Uu;else if(x>=i){var at=a?null:cE(s);if(at)return _l(at);I=!1,b=Ho,G=new ps}else G=a?[]:L;t:for(;++p<x;){var lt=s[p],ft=a?a(lt):lt;if(lt=u||lt!==0?lt:0,I&&ft===ft){for(var St=G.length;St--;)if(G[St]===ft)continue t;a&&G.push(ft),L.push(lt)}else b(G,ft,u)||(G!==L&&G.push(ft),L.push(lt))}return L}function ph(s,a){return a=Gi(a,s),s=Ng(s,a),s==null||delete s[Kr(Cr(a))]}function cg(s,a,u,p){return ta(s,a,u(_s(s,a)),p)}function Nl(s,a,u,p){for(var b=s.length,x=p?b:-1;(p?x--:++x<b)&&a(s[x],x,s););return u?kr(s,p?0:x,p?x+1:b):kr(s,p?x+1:0,p?b:x)}function ug(s,a){var u=s;return u instanceof ue&&(u=u.value()),zu(a,function(p,b){return b.func.apply(b.thisArg,Bi([p],b.args))},u)}function gh(s,a,u){var p=s.length;if(p<2)return p?ji(s[0]):[];for(var b=-1,x=J(p);++b<p;)for(var I=s[b],L=-1;++L<p;)L!=b&&(x[b]=Zo(x[b]||I,s[L],a,u));return ji(Cn(x,1),a,u)}function hg(s,a,u){for(var p=-1,b=s.length,x=a.length,I={};++p<b;){var L=p<x?a[p]:n;u(I,s[p],L)}return I}function _h(s){return en(s)?s:[]}function mh(s){return typeof s=="function"?s:rr}function Gi(s,a){return ne(s)?s:kh(s,a)?[s]:qg(xe(s))}var Jw=ae;function Wi(s,a,u){var p=s.length;return u=u===n?p:u,!a&&u>=p?s:kr(s,a,u)}var fg=qb||function(s){return Ge.clearTimeout(s)};function dg(s,a){if(a)return s.slice();var u=s.length,p=Mp?Mp(u):new s.constructor(u);return s.copy(p),p}function yh(s){var a=new s.constructor(s.byteLength);return new El(a).set(new El(s)),a}function tE(s,a){var u=a?yh(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.byteLength)}function eE(s){var a=new s.constructor(s.source,Uo.exec(s));return a.lastIndex=s.lastIndex,a}function nE(s){return Yo?Pe(Yo.call(s)):{}}function pg(s,a){var u=a?yh(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.length)}function gg(s,a){if(s!==a){var u=s!==n,p=s===null,b=s===s,x=fr(s),I=a!==n,L=a===null,G=a===a,at=fr(a);if(!L&&!at&&!x&&s>a||x&&I&&G&&!L&&!at||p&&I&&G||!u&&G||!b)return 1;if(!p&&!x&&!at&&s<a||at&&u&&b&&!p&&!x||L&&u&&b||!I&&b||!G)return-1}return 0}function rE(s,a,u){for(var p=-1,b=s.criteria,x=a.criteria,I=b.length,L=u.length;++p<I;){var G=gg(b[p],x[p]);if(G){if(p>=L)return G;var at=u[p];return G*(at=="desc"?-1:1)}}return s.index-a.index}function _g(s,a,u,p){for(var b=-1,x=s.length,I=u.length,L=-1,G=a.length,at=pn(x-I,0),lt=J(G+at),ft=!p;++L<G;)lt[L]=a[L];for(;++b<I;)(ft||b<x)&&(lt[u[b]]=s[b]);for(;at--;)lt[L++]=s[b++];return lt}function mg(s,a,u,p){for(var b=-1,x=s.length,I=-1,L=u.length,G=-1,at=a.length,lt=pn(x-L,0),ft=J(lt+at),St=!p;++b<lt;)ft[b]=s[b];for(var Pt=b;++G<at;)ft[Pt+G]=a[G];for(;++I<L;)(St||b<x)&&(ft[Pt+u[I]]=s[b++]);return ft}function tr(s,a){var u=-1,p=s.length;for(a||(a=J(p));++u<p;)a[u]=s[u];return a}function Wr(s,a,u,p){var b=!u;u||(u={});for(var x=-1,I=a.length;++x<I;){var L=a[x],G=p?p(u[L],s[L],L,u,s):n;G===n&&(G=s[L]),b?pi(u,L,G):Qo(u,L,G)}return u}function iE(s,a){return Wr(s,Ah(s),a)}function sE(s,a){return Wr(s,Rg(s),a)}function Fl(s,a){return function(u,p){var b=ne(u)?ub:Cw,x=a?a():{};return b(u,s,jt(p,2),x)}}function io(s){return ae(function(a,u){var p=-1,b=u.length,x=b>1?u[b-1]:n,I=b>2?u[2]:n;for(x=s.length>3&&typeof x=="function"?(b--,x):n,I&&Yn(u[0],u[1],I)&&(x=b<3?n:x,b=1),a=Pe(a);++p<b;){var L=u[p];L&&s(a,L,p,x)}return a})}function yg(s,a){return function(u,p){if(u==null)return u;if(!er(u))return s(u,p);for(var b=u.length,x=a?b:-1,I=Pe(u);(a?x--:++x<b)&&p(I[x],x,I)!==!1;);return u}}function vg(s){return function(a,u,p){for(var b=-1,x=Pe(a),I=p(a),L=I.length;L--;){var G=I[s?L:++b];if(u(x[G],G,x)===!1)break}return a}}function oE(s,a,u){var p=a&X,b=ea(s);function x(){var I=this&&this!==Ge&&this instanceof x?b:s;return I.apply(p?u:this,arguments)}return x}function bg(s){return function(a){a=xe(a);var u=Zs(a)?Fr(a):n,p=u?u[0]:a.charAt(0),b=u?Wi(u,1).join(""):a.slice(1);return p[s]()+b}}function so(s){return function(a){return zu(y_(m_(a).replace(Zt,"")),s,"")}}function ea(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=ro(s.prototype),p=s.apply(u,a);return We(p)?p:u}}function aE(s,a,u){var p=ea(s);function b(){for(var x=arguments.length,I=J(x),L=x,G=oo(b);L--;)I[L]=arguments[L];var at=x<3&&I[0]!==G&&I[x-1]!==G?[]:Ui(I,G);if(x-=at.length,x<u)return Ag(s,a,Vl,b.placeholder,n,I,at,n,n,u-x);var lt=this&&this!==Ge&&this instanceof b?p:s;return cr(lt,this,I)}return b}function wg(s){return function(a,u,p){var b=Pe(a);if(!er(a)){var x=jt(u,3);a=bn(a),u=function(L){return x(b[L],L,b)}}var I=s(a,u,p);return I>-1?b[x?a[I]:I]:n}}function Eg(s){return _i(function(a){var u=a.length,p=u,b=Sr.prototype.thru;for(s&&a.reverse();p--;){var x=a[p];if(typeof x!="function")throw new xr(l);if(b&&!I&&Ul(x)=="wrapper")var I=new Sr([],!0)}for(p=I?p:u;++p<u;){x=a[p];var L=Ul(x),G=L=="wrapper"?xh(x):n;G&&Ch(G[0])&&G[1]==(Qt|_t|$t|Se)&&!G[4].length&&G[9]==1?I=I[Ul(G[0])].apply(I,G[3]):I=x.length==1&&Ch(x)?I[L]():I.thru(x)}return function(){var at=arguments,lt=at[0];if(I&&at.length==1&&ne(lt))return I.plant(lt).value();for(var ft=0,St=u?a[ft].apply(this,at):lt;++ft<u;)St=a[ft].call(this,St);return St}})}function Vl(s,a,u,p,b,x,I,L,G,at){var lt=a&Qt,ft=a&X,St=a&it,Pt=a&(_t|bt),Gt=a&He,se=St?n:ea(s);function Wt(){for(var ce=arguments.length,he=J(ce),dr=ce;dr--;)he[dr]=arguments[dr];if(Pt)var Qn=oo(Wt),pr=vb(he,Qn);if(p&&(he=_g(he,p,b,Pt)),x&&(he=mg(he,x,I,Pt)),ce-=pr,Pt&&ce<at){var nn=Ui(he,Qn);return Ag(s,a,Vl,Wt.placeholder,u,he,nn,L,G,at-ce)}var qr=ft?u:this,bi=St?qr[s]:s;return ce=he.length,L?he=CE(he,L):Gt&&ce>1&&he.reverse(),lt&&G<ce&&(he.length=G),this&&this!==Ge&&this instanceof Wt&&(bi=se||ea(bi)),bi.apply(qr,he)}return Wt}function xg(s,a){return function(u,p){return Lw(u,s,a(p),{})}}function $l(s,a){return function(u,p){var b;if(u===n&&p===n)return a;if(u!==n&&(b=u),p!==n){if(b===n)return p;typeof u=="string"||typeof p=="string"?(u=hr(u),p=hr(p)):(u=lg(u),p=lg(p)),b=s(u,p)}return b}}function vh(s){return _i(function(a){return a=Ue(a,ur(jt())),ae(function(u){var p=this;return s(a,function(b){return cr(b,p,u)})})})}function ql(s,a){a=a===n?" ":hr(a);var u=a.length;if(u<2)return u?fh(a,s):a;var p=fh(a,kl(s/Xs(a)));return Zs(a)?Wi(Fr(p),0,s).join(""):p.slice(0,s)}function lE(s,a,u,p){var b=a&X,x=ea(s);function I(){for(var L=-1,G=arguments.length,at=-1,lt=p.length,ft=J(lt+G),St=this&&this!==Ge&&this instanceof I?x:s;++at<lt;)ft[at]=p[at];for(;G--;)ft[at++]=arguments[++L];return cr(St,b?u:this,ft)}return I}function Sg(s){return function(a,u,p){return p&&typeof p!="number"&&Yn(a,u,p)&&(u=p=n),a=vi(a),u===n?(u=a,a=0):u=vi(u),p=p===n?a<u?1:-1:vi(p),Ww(a,u,p,s)}}function Bl(s){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=Tr(a),u=Tr(u)),s(a,u)}}function Ag(s,a,u,p,b,x,I,L,G,at){var lt=a&_t,ft=lt?I:n,St=lt?n:I,Pt=lt?x:n,Gt=lt?n:x;a|=lt?$t:yt,a&=~(lt?yt:$t),a&tt||(a&=~(X|it));var se=[s,a,b,Pt,ft,Gt,St,L,G,at],Wt=u.apply(n,se);return Ch(s)&&Fg(Wt,se),Wt.placeholder=p,Vg(Wt,s,a)}function bh(s){var a=dn[s];return function(u,p){if(u=Tr(u),p=p==null?0:Mn(ie(p),292),p&&Vp(u)){var b=(xe(u)+"e").split("e"),x=a(b[0]+"e"+(+b[1]+p));return b=(xe(x)+"e").split("e"),+(b[0]+"e"+(+b[1]-p))}return a(u)}}var cE=eo&&1/_l(new eo([,-0]))[1]==cn?function(s){return new eo(s)}:Uh;function kg(s){return function(a){var u=Ln(a);return u==me?Qu(a):u==lr?kb(a):yb(a,s(a))}}function gi(s,a,u,p,b,x,I,L){var G=a&it;if(!G&&typeof s!="function")throw new xr(l);var at=p?p.length:0;if(at||(a&=~($t|yt),p=b=n),I=I===n?I:pn(ie(I),0),L=L===n?L:ie(L),at-=b?b.length:0,a&yt){var lt=p,ft=b;p=b=n}var St=G?n:xh(s),Pt=[s,a,u,p,b,lt,ft,x,I,L];if(St&&SE(Pt,St),s=Pt[0],a=Pt[1],u=Pt[2],p=Pt[3],b=Pt[4],L=Pt[9]=Pt[9]===n?G?0:s.length:pn(Pt[9]-at,0),!L&&a&(_t|bt)&&(a&=~(_t|bt)),!a||a==X)var Gt=oE(s,a,u);else a==_t||a==bt?Gt=aE(s,a,L):(a==$t||a==(X|$t))&&!b.length?Gt=lE(s,a,u,p):Gt=Vl.apply(n,Pt);var se=St?og:Fg;return Vg(se(Gt,Pt),s,a)}function Cg(s,a,u,p){return s===n||$r(s,to[u])&&!ke.call(p,u)?a:s}function Tg(s,a,u,p,b,x){return We(s)&&We(a)&&(x.set(a,s),Ml(s,a,n,Tg,x),x.delete(a)),s}function uE(s){return ia(s)?n:s}function Ig(s,a,u,p,b,x){var I=u&P,L=s.length,G=a.length;if(L!=G&&!(I&&G>L))return!1;var at=x.get(s),lt=x.get(a);if(at&&lt)return at==a&&lt==s;var ft=-1,St=!0,Pt=u&z?new ps:n;for(x.set(s,a),x.set(a,s);++ft<L;){var Gt=s[ft],se=a[ft];if(p)var Wt=I?p(se,Gt,ft,a,s,x):p(Gt,se,ft,s,a,x);if(Wt!==n){if(Wt)continue;St=!1;break}if(Pt){if(!Hu(a,function(ce,he){if(!Ho(Pt,he)&&(Gt===ce||b(Gt,ce,u,p,x)))return Pt.push(he)})){St=!1;break}}else if(!(Gt===se||b(Gt,se,u,p,x))){St=!1;break}}return x.delete(s),x.delete(a),St}function hE(s,a,u,p,b,x,I){switch(u){case Ne:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case ls:return!(s.byteLength!=a.byteLength||!x(new El(s),new El(a)));case Di:case Lt:case Pi:return $r(+s,+a);case yn:return s.name==a.name&&s.message==a.message;case os:case oi:return s==a+"";case me:var L=Qu;case lr:var G=p&P;if(L||(L=_l),s.size!=a.size&&!G)return!1;var at=I.get(s);if(at)return at==a;p|=z,I.set(s,a);var lt=Ig(L(s),L(a),p,b,x,I);return I.delete(s),lt;case as:if(Yo)return Yo.call(s)==Yo.call(a)}return!1}function fE(s,a,u,p,b,x){var I=u&P,L=wh(s),G=L.length,at=wh(a),lt=at.length;if(G!=lt&&!I)return!1;for(var ft=G;ft--;){var St=L[ft];if(!(I?St in a:ke.call(a,St)))return!1}var Pt=x.get(s),Gt=x.get(a);if(Pt&&Gt)return Pt==a&&Gt==s;var se=!0;x.set(s,a),x.set(a,s);for(var Wt=I;++ft<G;){St=L[ft];var ce=s[St],he=a[St];if(p)var dr=I?p(he,ce,St,a,s,x):p(ce,he,St,s,a,x);if(!(dr===n?ce===he||b(ce,he,u,p,x):dr)){se=!1;break}Wt||(Wt=St=="constructor")}if(se&&!Wt){var Qn=s.constructor,pr=a.constructor;Qn!=pr&&"constructor"in s&&"constructor"in a&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof pr=="function"&&pr instanceof pr)&&(se=!1)}return x.delete(s),x.delete(a),se}function _i(s){return Ih(Lg(s,n,Hg),s+"")}function wh(s){return Yp(s,bn,Ah)}function Eh(s){return Yp(s,nr,Rg)}var xh=Tl?function(s){return Tl.get(s)}:Uh;function Ul(s){for(var a=s.name+"",u=no[a],p=ke.call(no,a)?u.length:0;p--;){var b=u[p],x=b.func;if(x==null||x==s)return b.name}return a}function oo(s){var a=ke.call(w,"placeholder")?w:s;return a.placeholder}function jt(){var s=w.iteratee||qh;return s=s===qh?Xp:s,arguments.length?s(arguments[0],arguments[1]):s}function zl(s,a){var u=s.__data__;return bE(a)?u[typeof a=="string"?"string":"hash"]:u.map}function Sh(s){for(var a=bn(s),u=a.length;u--;){var p=a[u],b=s[p];a[u]=[p,b,Pg(b)]}return a}function ms(s,a){var u=xb(s,a);return Zp(u)?u:n}function dE(s){var a=ke.call(s,fs),u=s[fs];try{s[fs]=n;var p=!0}catch{}var b=bl.call(s);return p&&(a?s[fs]=u:delete s[fs]),b}var Ah=Xu?function(s){return s==null?[]:(s=Pe(s),qi(Xu(s),function(a){return Np.call(s,a)}))}:zh,Rg=Xu?function(s){for(var a=[];s;)Bi(a,Ah(s)),s=xl(s);return a}:zh,Ln=Kn;(Ju&&Ln(new Ju(new ArrayBuffer(1)))!=Ne||Go&&Ln(new Go)!=me||th&&Ln(th.resolve())!=vn||eo&&Ln(new eo)!=lr||Wo&&Ln(new Wo)!=ai)&&(Ln=function(s){var a=Kn(s),u=a==un?s.constructor:n,p=u?ys(u):"";if(p)switch(p){case Yb:return Ne;case Qb:return me;case Zb:return vn;case Xb:return lr;case Jb:return ai}return a});function pE(s,a,u){for(var p=-1,b=u.length;++p<b;){var x=u[p],I=x.size;switch(x.type){case"drop":s+=I;break;case"dropRight":a-=I;break;case"take":a=Mn(a,s+I);break;case"takeRight":s=pn(s,a-I);break}}return{start:s,end:a}}function gE(s){var a=s.match(dl);return a?a[1].split($u):[]}function Og(s,a,u){a=Gi(a,s);for(var p=-1,b=a.length,x=!1;++p<b;){var I=Kr(a[p]);if(!(x=s!=null&&u(s,I)))break;s=s[I]}return x||++p!=b?x:(b=s==null?0:s.length,!!b&&Ql(b)&&mi(I,b)&&(ne(s)||vs(s)))}function _E(s){var a=s.length,u=new s.constructor(a);return a&&typeof s[0]=="string"&&ke.call(s,"index")&&(u.index=s.index,u.input=s.input),u}function Dg(s){return typeof s.constructor=="function"&&!na(s)?ro(xl(s)):{}}function mE(s,a,u){var p=s.constructor;switch(a){case ls:return yh(s);case Di:case Lt:return new p(+s);case Ne:return tE(s,u);case qo:case Lr:case rn:case li:case ci:case Mi:case cs:case ui:case zn:return pg(s,u);case me:return new p;case Pi:case oi:return new p(s);case os:return eE(s);case lr:return new p;case as:return nE(s)}}function yE(s,a){var u=a.length;if(!u)return s;var p=u-1;return a[p]=(u>1?"& ":"")+a[p],a=a.join(u>2?", ":" "),s.replace(fl,`{
/* [wrapped with `+a+`] */
`)}function vE(s){return ne(s)||vs(s)||!!(Fp&&s&&s[Fp])}function mi(s,a){var u=typeof s;return a=a??ar,!!a&&(u=="number"||u!="symbol"&&g.test(s))&&s>-1&&s%1==0&&s<a}function Yn(s,a,u){if(!We(u))return!1;var p=typeof a;return(p=="number"?er(u)&&mi(a,u.length):p=="string"&&a in u)?$r(u[a],s):!1}function kh(s,a){if(ne(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||fr(s)?!0:Fe.test(s)||!Fi.test(s)||a!=null&&s in Pe(a)}function bE(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function Ch(s){var a=Ul(s),u=w[a];if(typeof u!="function"||!(a in ue.prototype))return!1;if(s===u)return!0;var p=xh(u);return!!p&&s===p[0]}function wE(s){return!!Pp&&Pp in s}var EE=yl?yi:Hh;function na(s){var a=s&&s.constructor,u=typeof a=="function"&&a.prototype||to;return s===u}function Pg(s){return s===s&&!We(s)}function Mg(s,a){return function(u){return u==null?!1:u[s]===a&&(a!==n||s in Pe(u))}}function xE(s){var a=Kl(s,function(p){return u.size===d&&u.clear(),p}),u=a.cache;return a}function SE(s,a){var u=s[1],p=a[1],b=u|p,x=b<(X|it|Qt),I=p==Qt&&u==_t||p==Qt&&u==Se&&s[7].length<=a[8]||p==(Qt|Se)&&a[7].length<=a[8]&&u==_t;if(!(x||I))return s;p&X&&(s[2]=a[2],b|=u&X?0:tt);var L=a[3];if(L){var G=s[3];s[3]=G?_g(G,L,a[4]):L,s[4]=G?Ui(s[3],_):a[4]}return L=a[5],L&&(G=s[5],s[5]=G?mg(G,L,a[6]):L,s[6]=G?Ui(s[5],_):a[6]),L=a[7],L&&(s[7]=L),p&Qt&&(s[8]=s[8]==null?a[8]:Mn(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=b,s}function AE(s){var a=[];if(s!=null)for(var u in Pe(s))a.push(u);return a}function kE(s){return bl.call(s)}function Lg(s,a,u){return a=pn(a===n?s.length-1:a,0),function(){for(var p=arguments,b=-1,x=pn(p.length-a,0),I=J(x);++b<x;)I[b]=p[a+b];b=-1;for(var L=J(a+1);++b<a;)L[b]=p[b];return L[a]=u(I),cr(s,this,L)}}function Ng(s,a){return a.length<2?s:_s(s,kr(a,0,-1))}function CE(s,a){for(var u=s.length,p=Mn(a.length,u),b=tr(s);p--;){var x=a[p];s[p]=mi(x,u)?b[x]:n}return s}function Th(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var Fg=$g(og),ra=Ub||function(s,a){return Ge.setTimeout(s,a)},Ih=$g(Qw);function Vg(s,a,u){var p=a+"";return Ih(s,yE(p,TE(gE(p),u)))}function $g(s){var a=0,u=0;return function(){var p=Gb(),b=yr-(p-u);if(u=p,b>0){if(++a>=mr)return arguments[0]}else a=0;return s.apply(n,arguments)}}function Hl(s,a){var u=-1,p=s.length,b=p-1;for(a=a===n?p:a;++u<a;){var x=hh(u,b),I=s[x];s[x]=s[u],s[u]=I}return s.length=a,s}var qg=xE(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(ul,function(u,p,b,x){a.push(b?x.replace(js,"$1"):p||u)}),a});function Kr(s){if(typeof s=="string"||fr(s))return s;var a=s+"";return a=="0"&&1/s==-cn?"-0":a}function ys(s){if(s!=null){try{return vl.call(s)}catch{}try{return s+""}catch{}}return""}function TE(s,a){return Er(Oi,function(u){var p="_."+u[0];a&u[1]&&!pl(s,p)&&s.push(p)}),s.sort()}function Bg(s){if(s instanceof ue)return s.clone();var a=new Sr(s.__wrapped__,s.__chain__);return a.__actions__=tr(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function IE(s,a,u){(u?Yn(s,a,u):a===n)?a=1:a=pn(ie(a),0);var p=s==null?0:s.length;if(!p||a<1)return[];for(var b=0,x=0,I=J(kl(p/a));b<p;)I[x++]=kr(s,b,b+=a);return I}function RE(s){for(var a=-1,u=s==null?0:s.length,p=0,b=[];++a<u;){var x=s[a];x&&(b[p++]=x)}return b}function OE(){var s=arguments.length;if(!s)return[];for(var a=J(s-1),u=arguments[0],p=s;p--;)a[p-1]=arguments[p];return Bi(ne(u)?tr(u):[u],Cn(a,1))}var DE=ae(function(s,a){return en(s)?Zo(s,Cn(a,1,en,!0)):[]}),PE=ae(function(s,a){var u=Cr(a);return en(u)&&(u=n),en(s)?Zo(s,Cn(a,1,en,!0),jt(u,2)):[]}),ME=ae(function(s,a){var u=Cr(a);return en(u)&&(u=n),en(s)?Zo(s,Cn(a,1,en,!0),n,u):[]});function LE(s,a,u){var p=s==null?0:s.length;return p?(a=u||a===n?1:ie(a),kr(s,a<0?0:a,p)):[]}function NE(s,a,u){var p=s==null?0:s.length;return p?(a=u||a===n?1:ie(a),a=p-a,kr(s,0,a<0?0:a)):[]}function FE(s,a){return s&&s.length?Nl(s,jt(a,3),!0,!0):[]}function VE(s,a){return s&&s.length?Nl(s,jt(a,3),!0):[]}function $E(s,a,u,p){var b=s==null?0:s.length;return b?(u&&typeof u!="number"&&Yn(s,a,u)&&(u=0,p=b),Ow(s,a,u,p)):[]}function Ug(s,a,u){var p=s==null?0:s.length;if(!p)return-1;var b=u==null?0:ie(u);return b<0&&(b=pn(p+b,0)),gl(s,jt(a,3),b)}function zg(s,a,u){var p=s==null?0:s.length;if(!p)return-1;var b=p-1;return u!==n&&(b=ie(u),b=u<0?pn(p+b,0):Mn(b,p-1)),gl(s,jt(a,3),b,!0)}function Hg(s){var a=s==null?0:s.length;return a?Cn(s,1):[]}function qE(s){var a=s==null?0:s.length;return a?Cn(s,cn):[]}function BE(s,a){var u=s==null?0:s.length;return u?(a=a===n?1:ie(a),Cn(s,a)):[]}function UE(s){for(var a=-1,u=s==null?0:s.length,p={};++a<u;){var b=s[a];p[b[0]]=b[1]}return p}function jg(s){return s&&s.length?s[0]:n}function zE(s,a,u){var p=s==null?0:s.length;if(!p)return-1;var b=u==null?0:ie(u);return b<0&&(b=pn(p+b,0)),Qs(s,a,b)}function HE(s){var a=s==null?0:s.length;return a?kr(s,0,-1):[]}var jE=ae(function(s){var a=Ue(s,_h);return a.length&&a[0]===s[0]?oh(a):[]}),GE=ae(function(s){var a=Cr(s),u=Ue(s,_h);return a===Cr(u)?a=n:u.pop(),u.length&&u[0]===s[0]?oh(u,jt(a,2)):[]}),WE=ae(function(s){var a=Cr(s),u=Ue(s,_h);return a=typeof a=="function"?a:n,a&&u.pop(),u.length&&u[0]===s[0]?oh(u,n,a):[]});function KE(s,a){return s==null?"":Hb.call(s,a)}function Cr(s){var a=s==null?0:s.length;return a?s[a-1]:n}function YE(s,a,u){var p=s==null?0:s.length;if(!p)return-1;var b=p;return u!==n&&(b=ie(u),b=b<0?pn(p+b,0):Mn(b,p-1)),a===a?Tb(s,a,b):gl(s,Ap,b,!0)}function QE(s,a){return s&&s.length?ng(s,ie(a)):n}var ZE=ae(Gg);function Gg(s,a){return s&&s.length&&a&&a.length?uh(s,a):s}function XE(s,a,u){return s&&s.length&&a&&a.length?uh(s,a,jt(u,2)):s}function JE(s,a,u){return s&&s.length&&a&&a.length?uh(s,a,n,u):s}var tx=_i(function(s,a){var u=s==null?0:s.length,p=nh(s,a);return sg(s,Ue(a,function(b){return mi(b,u)?+b:b}).sort(gg)),p});function ex(s,a){var u=[];if(!(s&&s.length))return u;var p=-1,b=[],x=s.length;for(a=jt(a,3);++p<x;){var I=s[p];a(I,p,s)&&(u.push(I),b.push(p))}return sg(s,b),u}function Rh(s){return s==null?s:Kb.call(s)}function nx(s,a,u){var p=s==null?0:s.length;return p?(u&&typeof u!="number"&&Yn(s,a,u)?(a=0,u=p):(a=a==null?0:ie(a),u=u===n?p:ie(u)),kr(s,a,u)):[]}function rx(s,a){return Ll(s,a)}function ix(s,a,u){return dh(s,a,jt(u,2))}function sx(s,a){var u=s==null?0:s.length;if(u){var p=Ll(s,a);if(p<u&&$r(s[p],a))return p}return-1}function ox(s,a){return Ll(s,a,!0)}function ax(s,a,u){return dh(s,a,jt(u,2),!0)}function lx(s,a){var u=s==null?0:s.length;if(u){var p=Ll(s,a,!0)-1;if($r(s[p],a))return p}return-1}function cx(s){return s&&s.length?ag(s):[]}function ux(s,a){return s&&s.length?ag(s,jt(a,2)):[]}function hx(s){var a=s==null?0:s.length;return a?kr(s,1,a):[]}function fx(s,a,u){return s&&s.length?(a=u||a===n?1:ie(a),kr(s,0,a<0?0:a)):[]}function dx(s,a,u){var p=s==null?0:s.length;return p?(a=u||a===n?1:ie(a),a=p-a,kr(s,a<0?0:a,p)):[]}function px(s,a){return s&&s.length?Nl(s,jt(a,3),!1,!0):[]}function gx(s,a){return s&&s.length?Nl(s,jt(a,3)):[]}var _x=ae(function(s){return ji(Cn(s,1,en,!0))}),mx=ae(function(s){var a=Cr(s);return en(a)&&(a=n),ji(Cn(s,1,en,!0),jt(a,2))}),yx=ae(function(s){var a=Cr(s);return a=typeof a=="function"?a:n,ji(Cn(s,1,en,!0),n,a)});function vx(s){return s&&s.length?ji(s):[]}function bx(s,a){return s&&s.length?ji(s,jt(a,2)):[]}function wx(s,a){return a=typeof a=="function"?a:n,s&&s.length?ji(s,n,a):[]}function Oh(s){if(!(s&&s.length))return[];var a=0;return s=qi(s,function(u){if(en(u))return a=pn(u.length,a),!0}),Ku(a,function(u){return Ue(s,ju(u))})}function Wg(s,a){if(!(s&&s.length))return[];var u=Oh(s);return a==null?u:Ue(u,function(p){return cr(a,n,p)})}var Ex=ae(function(s,a){return en(s)?Zo(s,a):[]}),xx=ae(function(s){return gh(qi(s,en))}),Sx=ae(function(s){var a=Cr(s);return en(a)&&(a=n),gh(qi(s,en),jt(a,2))}),Ax=ae(function(s){var a=Cr(s);return a=typeof a=="function"?a:n,gh(qi(s,en),n,a)}),kx=ae(Oh);function Cx(s,a){return hg(s||[],a||[],Qo)}function Tx(s,a){return hg(s||[],a||[],ta)}var Ix=ae(function(s){var a=s.length,u=a>1?s[a-1]:n;return u=typeof u=="function"?(s.pop(),u):n,Wg(s,u)});function Kg(s){var a=w(s);return a.__chain__=!0,a}function Rx(s,a){return a(s),s}function jl(s,a){return a(s)}var Ox=_i(function(s){var a=s.length,u=a?s[0]:0,p=this.__wrapped__,b=function(x){return nh(x,s)};return a>1||this.__actions__.length||!(p instanceof ue)||!mi(u)?this.thru(b):(p=p.slice(u,+u+(a?1:0)),p.__actions__.push({func:jl,args:[b],thisArg:n}),new Sr(p,this.__chain__).thru(function(x){return a&&!x.length&&x.push(n),x}))});function Dx(){return Kg(this)}function Px(){return new Sr(this.value(),this.__chain__)}function Mx(){this.__values__===n&&(this.__values__=l_(this.value()));var s=this.__index__>=this.__values__.length,a=s?n:this.__values__[this.__index__++];return{done:s,value:a}}function Lx(){return this}function Nx(s){for(var a,u=this;u instanceof Rl;){var p=Bg(u);p.__index__=0,p.__values__=n,a?b.__wrapped__=p:a=p;var b=p;u=u.__wrapped__}return b.__wrapped__=s,a}function Fx(){var s=this.__wrapped__;if(s instanceof ue){var a=s;return this.__actions__.length&&(a=new ue(this)),a=a.reverse(),a.__actions__.push({func:jl,args:[Rh],thisArg:n}),new Sr(a,this.__chain__)}return this.thru(Rh)}function Vx(){return ug(this.__wrapped__,this.__actions__)}var $x=Fl(function(s,a,u){ke.call(s,u)?++s[u]:pi(s,u,1)});function qx(s,a,u){var p=ne(s)?xp:Rw;return u&&Yn(s,a,u)&&(a=n),p(s,jt(a,3))}function Bx(s,a){var u=ne(s)?qi:Wp;return u(s,jt(a,3))}var Ux=wg(Ug),zx=wg(zg);function Hx(s,a){return Cn(Gl(s,a),1)}function jx(s,a){return Cn(Gl(s,a),cn)}function Gx(s,a,u){return u=u===n?1:ie(u),Cn(Gl(s,a),u)}function Yg(s,a){var u=ne(s)?Er:Hi;return u(s,jt(a,3))}function Qg(s,a){var u=ne(s)?hb:Gp;return u(s,jt(a,3))}var Wx=Fl(function(s,a,u){ke.call(s,u)?s[u].push(a):pi(s,u,[a])});function Kx(s,a,u,p){s=er(s)?s:lo(s),u=u&&!p?ie(u):0;var b=s.length;return u<0&&(u=pn(b+u,0)),Zl(s)?u<=b&&s.indexOf(a,u)>-1:!!b&&Qs(s,a,u)>-1}var Yx=ae(function(s,a,u){var p=-1,b=typeof a=="function",x=er(s)?J(s.length):[];return Hi(s,function(I){x[++p]=b?cr(a,I,u):Xo(I,a,u)}),x}),Qx=Fl(function(s,a,u){pi(s,u,a)});function Gl(s,a){var u=ne(s)?Ue:Jp;return u(s,jt(a,3))}function Zx(s,a,u,p){return s==null?[]:(ne(a)||(a=a==null?[]:[a]),u=p?n:u,ne(u)||(u=u==null?[]:[u]),rg(s,a,u))}var Xx=Fl(function(s,a,u){s[u?0:1].push(a)},function(){return[[],[]]});function Jx(s,a,u){var p=ne(s)?zu:Cp,b=arguments.length<3;return p(s,jt(a,4),u,b,Hi)}function tS(s,a,u){var p=ne(s)?fb:Cp,b=arguments.length<3;return p(s,jt(a,4),u,b,Gp)}function eS(s,a){var u=ne(s)?qi:Wp;return u(s,Yl(jt(a,3)))}function nS(s){var a=ne(s)?Up:Kw;return a(s)}function rS(s,a,u){(u?Yn(s,a,u):a===n)?a=1:a=ie(a);var p=ne(s)?Aw:Yw;return p(s,a)}function iS(s){var a=ne(s)?kw:Zw;return a(s)}function sS(s){if(s==null)return 0;if(er(s))return Zl(s)?Xs(s):s.length;var a=Ln(s);return a==me||a==lr?s.size:lh(s).length}function oS(s,a,u){var p=ne(s)?Hu:Xw;return u&&Yn(s,a,u)&&(a=n),p(s,jt(a,3))}var aS=ae(function(s,a){if(s==null)return[];var u=a.length;return u>1&&Yn(s,a[0],a[1])?a=[]:u>2&&Yn(a[0],a[1],a[2])&&(a=[a[0]]),rg(s,Cn(a,1),[])}),Wl=Bb||function(){return Ge.Date.now()};function lS(s,a){if(typeof a!="function")throw new xr(l);return s=ie(s),function(){if(--s<1)return a.apply(this,arguments)}}function Zg(s,a,u){return a=u?n:a,a=s&&a==null?s.length:a,gi(s,Qt,n,n,n,n,a)}function Xg(s,a){var u;if(typeof a!="function")throw new xr(l);return s=ie(s),function(){return--s>0&&(u=a.apply(this,arguments)),s<=1&&(a=n),u}}var Dh=ae(function(s,a,u){var p=X;if(u.length){var b=Ui(u,oo(Dh));p|=$t}return gi(s,p,a,u,b)}),Jg=ae(function(s,a,u){var p=X|it;if(u.length){var b=Ui(u,oo(Jg));p|=$t}return gi(a,p,s,u,b)});function t_(s,a,u){a=u?n:a;var p=gi(s,_t,n,n,n,n,n,a);return p.placeholder=t_.placeholder,p}function e_(s,a,u){a=u?n:a;var p=gi(s,bt,n,n,n,n,n,a);return p.placeholder=e_.placeholder,p}function n_(s,a,u){var p,b,x,I,L,G,at=0,lt=!1,ft=!1,St=!0;if(typeof s!="function")throw new xr(l);a=Tr(a)||0,We(u)&&(lt=!!u.leading,ft="maxWait"in u,x=ft?pn(Tr(u.maxWait)||0,a):x,St="trailing"in u?!!u.trailing:St);function Pt(nn){var qr=p,bi=b;return p=b=n,at=nn,I=s.apply(bi,qr),I}function Gt(nn){return at=nn,L=ra(ce,a),lt?Pt(nn):I}function se(nn){var qr=nn-G,bi=nn-at,w_=a-qr;return ft?Mn(w_,x-bi):w_}function Wt(nn){var qr=nn-G,bi=nn-at;return G===n||qr>=a||qr<0||ft&&bi>=x}function ce(){var nn=Wl();if(Wt(nn))return he(nn);L=ra(ce,se(nn))}function he(nn){return L=n,St&&p?Pt(nn):(p=b=n,I)}function dr(){L!==n&&fg(L),at=0,p=G=b=L=n}function Qn(){return L===n?I:he(Wl())}function pr(){var nn=Wl(),qr=Wt(nn);if(p=arguments,b=this,G=nn,qr){if(L===n)return Gt(G);if(ft)return fg(L),L=ra(ce,a),Pt(G)}return L===n&&(L=ra(ce,a)),I}return pr.cancel=dr,pr.flush=Qn,pr}var cS=ae(function(s,a){return jp(s,1,a)}),uS=ae(function(s,a,u){return jp(s,Tr(a)||0,u)});function hS(s){return gi(s,He)}function Kl(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new xr(l);var u=function(){var p=arguments,b=a?a.apply(this,p):p[0],x=u.cache;if(x.has(b))return x.get(b);var I=s.apply(this,p);return u.cache=x.set(b,I)||x,I};return u.cache=new(Kl.Cache||di),u}Kl.Cache=di;function Yl(s){if(typeof s!="function")throw new xr(l);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function fS(s){return Xg(2,s)}var dS=Jw(function(s,a){a=a.length==1&&ne(a[0])?Ue(a[0],ur(jt())):Ue(Cn(a,1),ur(jt()));var u=a.length;return ae(function(p){for(var b=-1,x=Mn(p.length,u);++b<x;)p[b]=a[b].call(this,p[b]);return cr(s,this,p)})}),Ph=ae(function(s,a){var u=Ui(a,oo(Ph));return gi(s,$t,n,a,u)}),r_=ae(function(s,a){var u=Ui(a,oo(r_));return gi(s,yt,n,a,u)}),pS=_i(function(s,a){return gi(s,Se,n,n,n,a)});function gS(s,a){if(typeof s!="function")throw new xr(l);return a=a===n?a:ie(a),ae(s,a)}function _S(s,a){if(typeof s!="function")throw new xr(l);return a=a==null?0:pn(ie(a),0),ae(function(u){var p=u[a],b=Wi(u,0,a);return p&&Bi(b,p),cr(s,this,b)})}function mS(s,a,u){var p=!0,b=!0;if(typeof s!="function")throw new xr(l);return We(u)&&(p="leading"in u?!!u.leading:p,b="trailing"in u?!!u.trailing:b),n_(s,a,{leading:p,maxWait:a,trailing:b})}function yS(s){return Zg(s,1)}function vS(s,a){return Ph(mh(a),s)}function bS(){if(!arguments.length)return[];var s=arguments[0];return ne(s)?s:[s]}function wS(s){return Ar(s,A)}function ES(s,a){return a=typeof a=="function"?a:n,Ar(s,A,a)}function xS(s){return Ar(s,v|A)}function SS(s,a){return a=typeof a=="function"?a:n,Ar(s,v|A,a)}function AS(s,a){return a==null||Hp(s,a,bn(a))}function $r(s,a){return s===a||s!==s&&a!==a}var kS=Bl(sh),CS=Bl(function(s,a){return s>=a}),vs=Qp(function(){return arguments}())?Qp:function(s){return Ze(s)&&ke.call(s,"callee")&&!Np.call(s,"callee")},ne=J.isArray,TS=mp?ur(mp):Nw;function er(s){return s!=null&&Ql(s.length)&&!yi(s)}function en(s){return Ze(s)&&er(s)}function IS(s){return s===!0||s===!1||Ze(s)&&Kn(s)==Di}var Ki=zb||Hh,RS=yp?ur(yp):Fw;function OS(s){return Ze(s)&&s.nodeType===1&&!ia(s)}function DS(s){if(s==null)return!0;if(er(s)&&(ne(s)||typeof s=="string"||typeof s.splice=="function"||Ki(s)||ao(s)||vs(s)))return!s.length;var a=Ln(s);if(a==me||a==lr)return!s.size;if(na(s))return!lh(s).length;for(var u in s)if(ke.call(s,u))return!1;return!0}function PS(s,a){return Jo(s,a)}function MS(s,a,u){u=typeof u=="function"?u:n;var p=u?u(s,a):n;return p===n?Jo(s,a,n,u):!!p}function Mh(s){if(!Ze(s))return!1;var a=Kn(s);return a==yn||a==qs||typeof s.message=="string"&&typeof s.name=="string"&&!ia(s)}function LS(s){return typeof s=="number"&&Vp(s)}function yi(s){if(!We(s))return!1;var a=Kn(s);return a==Mr||a==ss||a==Vu||a==tn}function i_(s){return typeof s=="number"&&s==ie(s)}function Ql(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=ar}function We(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function Ze(s){return s!=null&&typeof s=="object"}var s_=vp?ur(vp):$w;function NS(s,a){return s===a||ah(s,a,Sh(a))}function FS(s,a,u){return u=typeof u=="function"?u:n,ah(s,a,Sh(a),u)}function VS(s){return o_(s)&&s!=+s}function $S(s){if(EE(s))throw new te(o);return Zp(s)}function qS(s){return s===null}function BS(s){return s==null}function o_(s){return typeof s=="number"||Ze(s)&&Kn(s)==Pi}function ia(s){if(!Ze(s)||Kn(s)!=un)return!1;var a=xl(s);if(a===null)return!0;var u=ke.call(a,"constructor")&&a.constructor;return typeof u=="function"&&u instanceof u&&vl.call(u)==Fb}var Lh=bp?ur(bp):qw;function US(s){return i_(s)&&s>=-ar&&s<=ar}var a_=wp?ur(wp):Bw;function Zl(s){return typeof s=="string"||!ne(s)&&Ze(s)&&Kn(s)==oi}function fr(s){return typeof s=="symbol"||Ze(s)&&Kn(s)==as}var ao=Ep?ur(Ep):Uw;function zS(s){return s===n}function HS(s){return Ze(s)&&Ln(s)==ai}function jS(s){return Ze(s)&&Kn(s)==hn}var GS=Bl(ch),WS=Bl(function(s,a){return s<=a});function l_(s){if(!s)return[];if(er(s))return Zl(s)?Fr(s):tr(s);if(jo&&s[jo])return Ab(s[jo]());var a=Ln(s),u=a==me?Qu:a==lr?_l:lo;return u(s)}function vi(s){if(!s)return s===0?s:0;if(s=Tr(s),s===cn||s===-cn){var a=s<0?-1:1;return a*ol}return s===s?s:0}function ie(s){var a=vi(s),u=a%1;return a===a?u?a-u:a:0}function c_(s){return s?gs(ie(s),0,vr):0}function Tr(s){if(typeof s=="number")return s;if(fr(s))return $s;if(We(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=We(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=Tp(s);var u=Ks.test(s);return u||h.test(s)?zo(s.slice(2),u?2:8):Ws.test(s)?$s:+s}function u_(s){return Wr(s,nr(s))}function KS(s){return s?gs(ie(s),-ar,ar):s===0?s:0}function xe(s){return s==null?"":hr(s)}var YS=io(function(s,a){if(na(a)||er(a)){Wr(a,bn(a),s);return}for(var u in a)ke.call(a,u)&&Qo(s,u,a[u])}),h_=io(function(s,a){Wr(a,nr(a),s)}),Xl=io(function(s,a,u,p){Wr(a,nr(a),s,p)}),QS=io(function(s,a,u,p){Wr(a,bn(a),s,p)}),ZS=_i(nh);function XS(s,a){var u=ro(s);return a==null?u:zp(u,a)}var JS=ae(function(s,a){s=Pe(s);var u=-1,p=a.length,b=p>2?a[2]:n;for(b&&Yn(a[0],a[1],b)&&(p=1);++u<p;)for(var x=a[u],I=nr(x),L=-1,G=I.length;++L<G;){var at=I[L],lt=s[at];(lt===n||$r(lt,to[at])&&!ke.call(s,at))&&(s[at]=x[at])}return s}),tA=ae(function(s){return s.push(n,Tg),cr(f_,n,s)});function eA(s,a){return Sp(s,jt(a,3),Gr)}function nA(s,a){return Sp(s,jt(a,3),ih)}function rA(s,a){return s==null?s:rh(s,jt(a,3),nr)}function iA(s,a){return s==null?s:Kp(s,jt(a,3),nr)}function sA(s,a){return s&&Gr(s,jt(a,3))}function oA(s,a){return s&&ih(s,jt(a,3))}function aA(s){return s==null?[]:Pl(s,bn(s))}function lA(s){return s==null?[]:Pl(s,nr(s))}function Nh(s,a,u){var p=s==null?n:_s(s,a);return p===n?u:p}function cA(s,a){return s!=null&&Og(s,a,Dw)}function Fh(s,a){return s!=null&&Og(s,a,Pw)}var uA=xg(function(s,a,u){a!=null&&typeof a.toString!="function"&&(a=bl.call(a)),s[a]=u},$h(rr)),hA=xg(function(s,a,u){a!=null&&typeof a.toString!="function"&&(a=bl.call(a)),ke.call(s,a)?s[a].push(u):s[a]=[u]},jt),fA=ae(Xo);function bn(s){return er(s)?Bp(s):lh(s)}function nr(s){return er(s)?Bp(s,!0):zw(s)}function dA(s,a){var u={};return a=jt(a,3),Gr(s,function(p,b,x){pi(u,a(p,b,x),p)}),u}function pA(s,a){var u={};return a=jt(a,3),Gr(s,function(p,b,x){pi(u,b,a(p,b,x))}),u}var gA=io(function(s,a,u){Ml(s,a,u)}),f_=io(function(s,a,u,p){Ml(s,a,u,p)}),_A=_i(function(s,a){var u={};if(s==null)return u;var p=!1;a=Ue(a,function(x){return x=Gi(x,s),p||(p=x.length>1),x}),Wr(s,Eh(s),u),p&&(u=Ar(u,v|S|A,uE));for(var b=a.length;b--;)ph(u,a[b]);return u});function mA(s,a){return d_(s,Yl(jt(a)))}var yA=_i(function(s,a){return s==null?{}:jw(s,a)});function d_(s,a){if(s==null)return{};var u=Ue(Eh(s),function(p){return[p]});return a=jt(a),ig(s,u,function(p,b){return a(p,b[0])})}function vA(s,a,u){a=Gi(a,s);var p=-1,b=a.length;for(b||(b=1,s=n);++p<b;){var x=s==null?n:s[Kr(a[p])];x===n&&(p=b,x=u),s=yi(x)?x.call(s):x}return s}function bA(s,a,u){return s==null?s:ta(s,a,u)}function wA(s,a,u,p){return p=typeof p=="function"?p:n,s==null?s:ta(s,a,u,p)}var p_=kg(bn),g_=kg(nr);function EA(s,a,u){var p=ne(s),b=p||Ki(s)||ao(s);if(a=jt(a,4),u==null){var x=s&&s.constructor;b?u=p?new x:[]:We(s)?u=yi(x)?ro(xl(s)):{}:u={}}return(b?Er:Gr)(s,function(I,L,G){return a(u,I,L,G)}),u}function xA(s,a){return s==null?!0:ph(s,a)}function SA(s,a,u){return s==null?s:cg(s,a,mh(u))}function AA(s,a,u,p){return p=typeof p=="function"?p:n,s==null?s:cg(s,a,mh(u),p)}function lo(s){return s==null?[]:Yu(s,bn(s))}function kA(s){return s==null?[]:Yu(s,nr(s))}function CA(s,a,u){return u===n&&(u=a,a=n),u!==n&&(u=Tr(u),u=u===u?u:0),a!==n&&(a=Tr(a),a=a===a?a:0),gs(Tr(s),a,u)}function TA(s,a,u){return a=vi(a),u===n?(u=a,a=0):u=vi(u),s=Tr(s),Mw(s,a,u)}function IA(s,a,u){if(u&&typeof u!="boolean"&&Yn(s,a,u)&&(a=u=n),u===n&&(typeof a=="boolean"?(u=a,a=n):typeof s=="boolean"&&(u=s,s=n)),s===n&&a===n?(s=0,a=1):(s=vi(s),a===n?(a=s,s=0):a=vi(a)),s>a){var p=s;s=a,a=p}if(u||s%1||a%1){var b=$p();return Mn(s+b*(a-s+br("1e-"+((b+"").length-1))),a)}return hh(s,a)}var RA=so(function(s,a,u){return a=a.toLowerCase(),s+(u?__(a):a)});function __(s){return Vh(xe(s).toLowerCase())}function m_(s){return s=xe(s),s&&s.replace(m,bb).replace(Ct,"")}function OA(s,a,u){s=xe(s),a=hr(a);var p=s.length;u=u===n?p:gs(ie(u),0,p);var b=u;return u-=a.length,u>=0&&s.slice(u,b)==a}function DA(s){return s=xe(s),s&&cl.test(s)?s.replace(Us,wb):s}function PA(s){return s=xe(s),s&&hl.test(s)?s.replace(Hs,"\\$&"):s}var MA=so(function(s,a,u){return s+(u?"-":"")+a.toLowerCase()}),LA=so(function(s,a,u){return s+(u?" ":"")+a.toLowerCase()}),NA=bg("toLowerCase");function FA(s,a,u){s=xe(s),a=ie(a);var p=a?Xs(s):0;if(!a||p>=a)return s;var b=(a-p)/2;return ql(Cl(b),u)+s+ql(kl(b),u)}function VA(s,a,u){s=xe(s),a=ie(a);var p=a?Xs(s):0;return a&&p<a?s+ql(a-p,u):s}function $A(s,a,u){s=xe(s),a=ie(a);var p=a?Xs(s):0;return a&&p<a?ql(a-p,u)+s:s}function qA(s,a,u){return u||a==null?a=0:a&&(a=+a),Wb(xe(s).replace(Qe,""),a||0)}function BA(s,a,u){return(u?Yn(s,a,u):a===n)?a=1:a=ie(a),fh(xe(s),a)}function UA(){var s=arguments,a=xe(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var zA=so(function(s,a,u){return s+(u?"_":"")+a.toLowerCase()});function HA(s,a,u){return u&&typeof u!="number"&&Yn(s,a,u)&&(a=u=n),u=u===n?vr:u>>>0,u?(s=xe(s),s&&(typeof a=="string"||a!=null&&!Lh(a))&&(a=hr(a),!a&&Zs(s))?Wi(Fr(s),0,u):s.split(a,u)):[]}var jA=so(function(s,a,u){return s+(u?" ":"")+Vh(a)});function GA(s,a,u){return s=xe(s),u=u==null?0:gs(ie(u),0,s.length),a=hr(a),s.slice(u,u+a.length)==a}function WA(s,a,u){var p=w.templateSettings;u&&Yn(s,a,u)&&(a=n),s=xe(s),a=Xl({},a,p,Cg);var b=Xl({},a.imports,p.imports,Cg),x=bn(b),I=Yu(b,x),L,G,at=0,lt=a.interpolate||y,ft="__p += '",St=Zu((a.escape||y).source+"|"+lt.source+"|"+(lt===je?Gs:y).source+"|"+(a.evaluate||y).source+"|$","g"),Pt="//# sourceURL="+(ke.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nr+"]")+`
`;s.replace(St,function(Wt,ce,he,dr,Qn,pr){return he||(he=dr),ft+=s.slice(at,pr).replace(E,Eb),ce&&(L=!0,ft+=`' +
__e(`+ce+`) +
'`),Qn&&(G=!0,ft+=`';
`+Qn+`;
__p += '`),he&&(ft+=`' +
((__t = (`+he+`)) == null ? '' : __t) +
'`),at=pr+Wt.length,Wt}),ft+=`';
`;var Gt=ke.call(a,"variable")&&a.variable;if(!Gt)ft=`with (obj) {
`+ft+`
}
`;else if(Hn.test(Gt))throw new te(c);ft=(G?ft.replace(us,""):ft).replace(Bs,"$1").replace(Li,"$1;"),ft="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var se=v_(function(){return ve(x,Pt+"return "+ft).apply(n,I)});if(se.source=ft,Mh(se))throw se;return se}function KA(s){return xe(s).toLowerCase()}function YA(s){return xe(s).toUpperCase()}function QA(s,a,u){if(s=xe(s),s&&(u||a===n))return Tp(s);if(!s||!(a=hr(a)))return s;var p=Fr(s),b=Fr(a),x=Ip(p,b),I=Rp(p,b)+1;return Wi(p,x,I).join("")}function ZA(s,a,u){if(s=xe(s),s&&(u||a===n))return s.slice(0,Dp(s)+1);if(!s||!(a=hr(a)))return s;var p=Fr(s),b=Rp(p,Fr(a))+1;return Wi(p,0,b).join("")}function XA(s,a,u){if(s=xe(s),s&&(u||a===n))return s.replace(Qe,"");if(!s||!(a=hr(a)))return s;var p=Fr(s),b=Ip(p,Fr(a));return Wi(p,b).join("")}function JA(s,a){var u=oe,p=Me;if(We(a)){var b="separator"in a?a.separator:b;u="length"in a?ie(a.length):u,p="omission"in a?hr(a.omission):p}s=xe(s);var x=s.length;if(Zs(s)){var I=Fr(s);x=I.length}if(u>=x)return s;var L=u-Xs(p);if(L<1)return p;var G=I?Wi(I,0,L).join(""):s.slice(0,L);if(b===n)return G+p;if(I&&(L+=G.length-L),Lh(b)){if(s.slice(L).search(b)){var at,lt=G;for(b.global||(b=Zu(b.source,xe(Uo.exec(b))+"g")),b.lastIndex=0;at=b.exec(lt);)var ft=at.index;G=G.slice(0,ft===n?L:ft)}}else if(s.indexOf(hr(b),L)!=L){var St=G.lastIndexOf(b);St>-1&&(G=G.slice(0,St))}return G+p}function tk(s){return s=xe(s),s&&Bo.test(s)?s.replace(Ni,Ib):s}var ek=so(function(s,a,u){return s+(u?" ":"")+a.toUpperCase()}),Vh=bg("toUpperCase");function y_(s,a,u){return s=xe(s),a=u?n:a,a===n?Sb(s)?Db(s):gb(s):s.match(a)||[]}var v_=ae(function(s,a){try{return cr(s,n,a)}catch(u){return Mh(u)?u:new te(u)}}),nk=_i(function(s,a){return Er(a,function(u){u=Kr(u),pi(s,u,Dh(s[u],s))}),s});function rk(s){var a=s==null?0:s.length,u=jt();return s=a?Ue(s,function(p){if(typeof p[1]!="function")throw new xr(l);return[u(p[0]),p[1]]}):[],ae(function(p){for(var b=-1;++b<a;){var x=s[b];if(cr(x[0],this,p))return cr(x[1],this,p)}})}function ik(s){return Iw(Ar(s,v))}function $h(s){return function(){return s}}function sk(s,a){return s==null||s!==s?a:s}var ok=Eg(),ak=Eg(!0);function rr(s){return s}function qh(s){return Xp(typeof s=="function"?s:Ar(s,v))}function lk(s){return tg(Ar(s,v))}function ck(s,a){return eg(s,Ar(a,v))}var uk=ae(function(s,a){return function(u){return Xo(u,s,a)}}),hk=ae(function(s,a){return function(u){return Xo(s,u,a)}});function Bh(s,a,u){var p=bn(a),b=Pl(a,p);u==null&&!(We(a)&&(b.length||!p.length))&&(u=a,a=s,s=this,b=Pl(a,bn(a)));var x=!(We(u)&&"chain"in u)||!!u.chain,I=yi(s);return Er(b,function(L){var G=a[L];s[L]=G,I&&(s.prototype[L]=function(){var at=this.__chain__;if(x||at){var lt=s(this.__wrapped__),ft=lt.__actions__=tr(this.__actions__);return ft.push({func:G,args:arguments,thisArg:s}),lt.__chain__=at,lt}return G.apply(s,Bi([this.value()],arguments))})}),s}function fk(){return Ge._===this&&(Ge._=Vb),this}function Uh(){}function dk(s){return s=ie(s),ae(function(a){return ng(a,s)})}var pk=vh(Ue),gk=vh(xp),_k=vh(Hu);function b_(s){return kh(s)?ju(Kr(s)):Gw(s)}function mk(s){return function(a){return s==null?n:_s(s,a)}}var yk=Sg(),vk=Sg(!0);function zh(){return[]}function Hh(){return!1}function bk(){return{}}function wk(){return""}function Ek(){return!0}function xk(s,a){if(s=ie(s),s<1||s>ar)return[];var u=vr,p=Mn(s,vr);a=jt(a),s-=vr;for(var b=Ku(p,a);++u<s;)a(u);return b}function Sk(s){return ne(s)?Ue(s,Kr):fr(s)?[s]:tr(qg(xe(s)))}function Ak(s){var a=++Nb;return xe(s)+a}var kk=$l(function(s,a){return s+a},0),Ck=bh("ceil"),Tk=$l(function(s,a){return s/a},1),Ik=bh("floor");function Rk(s){return s&&s.length?Dl(s,rr,sh):n}function Ok(s,a){return s&&s.length?Dl(s,jt(a,2),sh):n}function Dk(s){return kp(s,rr)}function Pk(s,a){return kp(s,jt(a,2))}function Mk(s){return s&&s.length?Dl(s,rr,ch):n}function Lk(s,a){return s&&s.length?Dl(s,jt(a,2),ch):n}var Nk=$l(function(s,a){return s*a},1),Fk=bh("round"),Vk=$l(function(s,a){return s-a},0);function $k(s){return s&&s.length?Wu(s,rr):0}function qk(s,a){return s&&s.length?Wu(s,jt(a,2)):0}return w.after=lS,w.ary=Zg,w.assign=YS,w.assignIn=h_,w.assignInWith=Xl,w.assignWith=QS,w.at=ZS,w.before=Xg,w.bind=Dh,w.bindAll=nk,w.bindKey=Jg,w.castArray=bS,w.chain=Kg,w.chunk=IE,w.compact=RE,w.concat=OE,w.cond=rk,w.conforms=ik,w.constant=$h,w.countBy=$x,w.create=XS,w.curry=t_,w.curryRight=e_,w.debounce=n_,w.defaults=JS,w.defaultsDeep=tA,w.defer=cS,w.delay=uS,w.difference=DE,w.differenceBy=PE,w.differenceWith=ME,w.drop=LE,w.dropRight=NE,w.dropRightWhile=FE,w.dropWhile=VE,w.fill=$E,w.filter=Bx,w.flatMap=Hx,w.flatMapDeep=jx,w.flatMapDepth=Gx,w.flatten=Hg,w.flattenDeep=qE,w.flattenDepth=BE,w.flip=hS,w.flow=ok,w.flowRight=ak,w.fromPairs=UE,w.functions=aA,w.functionsIn=lA,w.groupBy=Wx,w.initial=HE,w.intersection=jE,w.intersectionBy=GE,w.intersectionWith=WE,w.invert=uA,w.invertBy=hA,w.invokeMap=Yx,w.iteratee=qh,w.keyBy=Qx,w.keys=bn,w.keysIn=nr,w.map=Gl,w.mapKeys=dA,w.mapValues=pA,w.matches=lk,w.matchesProperty=ck,w.memoize=Kl,w.merge=gA,w.mergeWith=f_,w.method=uk,w.methodOf=hk,w.mixin=Bh,w.negate=Yl,w.nthArg=dk,w.omit=_A,w.omitBy=mA,w.once=fS,w.orderBy=Zx,w.over=pk,w.overArgs=dS,w.overEvery=gk,w.overSome=_k,w.partial=Ph,w.partialRight=r_,w.partition=Xx,w.pick=yA,w.pickBy=d_,w.property=b_,w.propertyOf=mk,w.pull=ZE,w.pullAll=Gg,w.pullAllBy=XE,w.pullAllWith=JE,w.pullAt=tx,w.range=yk,w.rangeRight=vk,w.rearg=pS,w.reject=eS,w.remove=ex,w.rest=gS,w.reverse=Rh,w.sampleSize=rS,w.set=bA,w.setWith=wA,w.shuffle=iS,w.slice=nx,w.sortBy=aS,w.sortedUniq=cx,w.sortedUniqBy=ux,w.split=HA,w.spread=_S,w.tail=hx,w.take=fx,w.takeRight=dx,w.takeRightWhile=px,w.takeWhile=gx,w.tap=Rx,w.throttle=mS,w.thru=jl,w.toArray=l_,w.toPairs=p_,w.toPairsIn=g_,w.toPath=Sk,w.toPlainObject=u_,w.transform=EA,w.unary=yS,w.union=_x,w.unionBy=mx,w.unionWith=yx,w.uniq=vx,w.uniqBy=bx,w.uniqWith=wx,w.unset=xA,w.unzip=Oh,w.unzipWith=Wg,w.update=SA,w.updateWith=AA,w.values=lo,w.valuesIn=kA,w.without=Ex,w.words=y_,w.wrap=vS,w.xor=xx,w.xorBy=Sx,w.xorWith=Ax,w.zip=kx,w.zipObject=Cx,w.zipObjectDeep=Tx,w.zipWith=Ix,w.entries=p_,w.entriesIn=g_,w.extend=h_,w.extendWith=Xl,Bh(w,w),w.add=kk,w.attempt=v_,w.camelCase=RA,w.capitalize=__,w.ceil=Ck,w.clamp=CA,w.clone=wS,w.cloneDeep=xS,w.cloneDeepWith=SS,w.cloneWith=ES,w.conformsTo=AS,w.deburr=m_,w.defaultTo=sk,w.divide=Tk,w.endsWith=OA,w.eq=$r,w.escape=DA,w.escapeRegExp=PA,w.every=qx,w.find=Ux,w.findIndex=Ug,w.findKey=eA,w.findLast=zx,w.findLastIndex=zg,w.findLastKey=nA,w.floor=Ik,w.forEach=Yg,w.forEachRight=Qg,w.forIn=rA,w.forInRight=iA,w.forOwn=sA,w.forOwnRight=oA,w.get=Nh,w.gt=kS,w.gte=CS,w.has=cA,w.hasIn=Fh,w.head=jg,w.identity=rr,w.includes=Kx,w.indexOf=zE,w.inRange=TA,w.invoke=fA,w.isArguments=vs,w.isArray=ne,w.isArrayBuffer=TS,w.isArrayLike=er,w.isArrayLikeObject=en,w.isBoolean=IS,w.isBuffer=Ki,w.isDate=RS,w.isElement=OS,w.isEmpty=DS,w.isEqual=PS,w.isEqualWith=MS,w.isError=Mh,w.isFinite=LS,w.isFunction=yi,w.isInteger=i_,w.isLength=Ql,w.isMap=s_,w.isMatch=NS,w.isMatchWith=FS,w.isNaN=VS,w.isNative=$S,w.isNil=BS,w.isNull=qS,w.isNumber=o_,w.isObject=We,w.isObjectLike=Ze,w.isPlainObject=ia,w.isRegExp=Lh,w.isSafeInteger=US,w.isSet=a_,w.isString=Zl,w.isSymbol=fr,w.isTypedArray=ao,w.isUndefined=zS,w.isWeakMap=HS,w.isWeakSet=jS,w.join=KE,w.kebabCase=MA,w.last=Cr,w.lastIndexOf=YE,w.lowerCase=LA,w.lowerFirst=NA,w.lt=GS,w.lte=WS,w.max=Rk,w.maxBy=Ok,w.mean=Dk,w.meanBy=Pk,w.min=Mk,w.minBy=Lk,w.stubArray=zh,w.stubFalse=Hh,w.stubObject=bk,w.stubString=wk,w.stubTrue=Ek,w.multiply=Nk,w.nth=QE,w.noConflict=fk,w.noop=Uh,w.now=Wl,w.pad=FA,w.padEnd=VA,w.padStart=$A,w.parseInt=qA,w.random=IA,w.reduce=Jx,w.reduceRight=tS,w.repeat=BA,w.replace=UA,w.result=vA,w.round=Fk,w.runInContext=U,w.sample=nS,w.size=sS,w.snakeCase=zA,w.some=oS,w.sortedIndex=rx,w.sortedIndexBy=ix,w.sortedIndexOf=sx,w.sortedLastIndex=ox,w.sortedLastIndexBy=ax,w.sortedLastIndexOf=lx,w.startCase=jA,w.startsWith=GA,w.subtract=Vk,w.sum=$k,w.sumBy=qk,w.template=WA,w.times=xk,w.toFinite=vi,w.toInteger=ie,w.toLength=c_,w.toLower=KA,w.toNumber=Tr,w.toSafeInteger=KS,w.toString=xe,w.toUpper=YA,w.trim=QA,w.trimEnd=ZA,w.trimStart=XA,w.truncate=JA,w.unescape=tk,w.uniqueId=Ak,w.upperCase=ek,w.upperFirst=Vh,w.each=Yg,w.eachRight=Qg,w.first=jg,Bh(w,function(){var s={};return Gr(w,function(a,u){ke.call(w.prototype,u)||(s[u]=a)}),s}(),{chain:!1}),w.VERSION=r,Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){w[s].placeholder=w}),Er(["drop","take"],function(s,a){ue.prototype[s]=function(u){u=u===n?1:pn(ie(u),0);var p=this.__filtered__&&!a?new ue(this):this.clone();return p.__filtered__?p.__takeCount__=Mn(u,p.__takeCount__):p.__views__.push({size:Mn(u,vr),type:s+(p.__dir__<0?"Right":"")}),p},ue.prototype[s+"Right"]=function(u){return this.reverse()[s](u).reverse()}}),Er(["filter","map","takeWhile"],function(s,a){var u=a+1,p=u==wt||u==re;ue.prototype[s]=function(b){var x=this.clone();return x.__iteratees__.push({iteratee:jt(b,3),type:u}),x.__filtered__=x.__filtered__||p,x}}),Er(["head","last"],function(s,a){var u="take"+(a?"Right":"");ue.prototype[s]=function(){return this[u](1).value()[0]}}),Er(["initial","tail"],function(s,a){var u="drop"+(a?"":"Right");ue.prototype[s]=function(){return this.__filtered__?new ue(this):this[u](1)}}),ue.prototype.compact=function(){return this.filter(rr)},ue.prototype.find=function(s){return this.filter(s).head()},ue.prototype.findLast=function(s){return this.reverse().find(s)},ue.prototype.invokeMap=ae(function(s,a){return typeof s=="function"?new ue(this):this.map(function(u){return Xo(u,s,a)})}),ue.prototype.reject=function(s){return this.filter(Yl(jt(s)))},ue.prototype.slice=function(s,a){s=ie(s);var u=this;return u.__filtered__&&(s>0||a<0)?new ue(u):(s<0?u=u.takeRight(-s):s&&(u=u.drop(s)),a!==n&&(a=ie(a),u=a<0?u.dropRight(-a):u.take(a-s)),u)},ue.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},ue.prototype.toArray=function(){return this.take(vr)},Gr(ue.prototype,function(s,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),b=w[p?"take"+(a=="last"?"Right":""):a],x=p||/^find/.test(a);b&&(w.prototype[a]=function(){var I=this.__wrapped__,L=p?[1]:arguments,G=I instanceof ue,at=L[0],lt=G||ne(I),ft=function(ce){var he=b.apply(w,Bi([ce],L));return p&&St?he[0]:he};lt&&u&&typeof at=="function"&&at.length!=1&&(G=lt=!1);var St=this.__chain__,Pt=!!this.__actions__.length,Gt=x&&!St,se=G&&!Pt;if(!x&&lt){I=se?I:new ue(this);var Wt=s.apply(I,L);return Wt.__actions__.push({func:jl,args:[ft],thisArg:n}),new Sr(Wt,St)}return Gt&&se?s.apply(this,L):(Wt=this.thru(ft),Gt?p?Wt.value()[0]:Wt.value():Wt)})}),Er(["pop","push","shift","sort","splice","unshift"],function(s){var a=ml[s],u=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",p=/^(?:pop|shift)$/.test(s);w.prototype[s]=function(){var b=arguments;if(p&&!this.__chain__){var x=this.value();return a.apply(ne(x)?x:[],b)}return this[u](function(I){return a.apply(ne(I)?I:[],b)})}}),Gr(ue.prototype,function(s,a){var u=w[a];if(u){var p=u.name+"";ke.call(no,p)||(no[p]=[]),no[p].push({name:a,func:u})}}),no[Vl(n,it).name]=[{name:"wrapper",func:n}],ue.prototype.clone=tw,ue.prototype.reverse=ew,ue.prototype.value=nw,w.prototype.at=Ox,w.prototype.chain=Dx,w.prototype.commit=Px,w.prototype.next=Mx,w.prototype.plant=Nx,w.prototype.reverse=Fx,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=Vx,w.prototype.first=w.prototype.head,jo&&(w.prototype[jo]=Lx),w},Js=Pb();hs?((hs.exports=Js)._=Js,qu._=Js):Ge._=Js}).call(sa)})(mc,mc.exports);var Wk=mc.exports;const Xe=M0(Wk),Kk=["annotated","id"],Yk={key:0},Qk={class:"mb3 b tracked-light"},Zk={class:"tc"},Xk=["name","id","value"],Jk=["for"],tC={key:1},eC={class:"mb3 b tracked-light"},nC={class:"tc"},rC={class:"column-severity w-33"},iC=["name","id"],sC=["for"],oC={class:"column-severity w-33"},aC=["name","id"],lC=["for"],cC={class:"column-severity w-33"},uC=["name","id"],hC=["for"],fC={key:2},dC={class:"mt0 pt2 mb3 b tracked-light"},pC=["name","id"],gC=["for"],_C=["name","id"],mC=["for"],yC={key:3,class:"flex items-center mt2"},vC={class:"mb3 b tracked-light"},bC=["name","id","placeholder"],wC=["for"],EC={key:4},xC={class:"mt0 pt2 mb3 b tracked-light"},SC=["name","id","placeholder"],AC=["for"],kC={props:["edit_state","question","edit_type","parent_show_next_question","set_edit_state","update_edit_state_parent","empty_question_state","question_state","force_update","isRoot","parent_div_name","config"],data(){let e=16;if("options"in this.question)switch(this.question.options.length){case 1:e=50;break;case 2:e=50;break;case 3:e=33;break;case 4:e=25;break;case 5:e=16;break;case 6:e=16;break}let t;return this.isRoot==="true"?t=`question-${this.edit_type.name}-${this.question.name}`:t=`${this.parent_div_name}-${this.question.name}`,{col_size:e,div_name:t}},methods:{has_children(){return this.isObject(this.question.options)},show_next_question(e){let t=e.target.value;if(this.has_children()){for(let r=0;r<this.question.options.length;r++){let i=this.question.options[r],o=`.${this.div_name}-${i.name}`;$(o).hide(300)}let n=`.${this.div_name}-${t}`;$(n).is(":visible")||$(n).slideDown(300)}},update_edit_state(e){if(e===""&&(e=null),this.isRoot==="true"){let t=Xe.cloneDeep(this.edit_state);t[this.edit_type.name][this.question.name]=this.empty_question_state,this.has_children()?t[this.edit_type.name][this.question.name].val=e:t[this.edit_type.name][this.question.name]=e,this.set_edit_state(t)}else{let t=Xe.cloneDeep(this.question_state);t=this.empty_question_state,this.has_children()?t.val=e:t=e,this.update_edit_state_parent(this.question.name,t)}},update_edit_state_child(e,t){let n=Xe.cloneDeep(this.question_state);if(n[e]=t,this.isRoot==="true"){let r=Xe.cloneDeep(this.edit_state);r[this.edit_type.name][this.question.name]=this.empty_question_state,r[this.edit_type.name][this.question.name]=n,this.set_edit_state(r)}else this.update_edit_state_parent(this.question.name,n)},getClassNames(){let e=[];return e.push(this.div_name),this.isRoot!=="true"&&e.push("child-question"),e},child_state(e){return this.has_children()&&typeof this.question.options!="string"?this.question_state[e.name]:this.question_state},empty_child_state(e){return this.has_children()&&typeof this.question.options!="string"?this.empty_question_state[e.name]:this.empty_question_state},isAnnotated(){return!this.has_children()&&this.question_state!=null&&this.question_state.val==null?!0:!(this.question_state==null||this.question_state.val==null)}},computed:{isObject(){return e=>typeof e=="object"&&e!==null}}},CC=Object.assign(kC,{__name:"Question",setup(e){return(t,n)=>{const r=Bk("Question",!0);return Nt(),Ut("div",{class:Ce(t.getClassNames()),annotated:t.isAnnotated(),id:`question_${e.edit_type.name}_${e.question.name}`},[t.isObject(e.question.options)?(Nt(),Ut("div",Yk,[ot("p",Qk,Ht(e.question.question),1),ot("div",Zk,[(Nt(!0),Ut(Ei,null,Es(e.question.options,i=>(Nt(),Ut("div",{class:Ce(`column-severity wmin-${t.col_size}`),key:i.id},[ot("input",{onClick:n[0]||(n[0]=(...o)=>t.show_next_question&&t.show_next_question(...o)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:e.question.name,id:`${t.div_name}-${i.name}`,value:i.name,onInput:n[1]||(n[1]=o=>t.update_edit_state(o.target.value))},null,40,Xk),ot("label",{class:Ce(`for-checkbox-tools-severity question-${e.edit_type.name}`),for:`${t.div_name}-${i.name}`},Ht(i.label),11,Jk)],2))),128))]),(Nt(!0),Ut(Ei,null,Es(e.question.options,i=>(Nt(),Ut("div",{key:i.id},[ir(r,{edit_state:e.edit_state,question_state:t.child_state(i),empty_question_state:t.empty_child_state(i),question:i,edit_type:e.edit_type,set_edit_state:e.set_edit_state,parent_show_next_question:t.show_next_question,isRoot:"false",update_edit_state_parent:t.update_edit_state_child,parent_div_name:t.div_name,config:e.config},null,8,["edit_state","question_state","empty_question_state","question","edit_type","set_edit_state","parent_show_next_question","update_edit_state_parent","parent_div_name","config"])]))),128))])):_e("",!0),e.question.options==="likert-3"?(Nt(),Ut("div",tC,[ot("p",eC,Ht(e.question.question),1),ot("div",nC,[ot("div",rC,[ot("input",{onClick:n[2]||(n[2]=(...i)=>t.show_next_question&&t.show_next_question(...i)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${t.div_name}-severity`,id:`${t.div_name}-severity-1`,value:"minor",onInput:n[3]||(n[3]=i=>t.update_edit_state(i.target.value))},null,40,iC),ot("label",{class:Ce(`for-checkbox-tools-severity question-${e.edit_type.name}`),for:`${t.div_name}-severity-1`},Ht(e.config.interface_text.questions.likert_1),11,sC)]),ot("div",oC,[ot("input",{onClick:n[4]||(n[4]=(...i)=>t.show_next_question&&t.show_next_question(...i)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${t.div_name}-severity`,id:`${t.div_name}-severity-2`,value:"somewhat",onInput:n[5]||(n[5]=i=>t.update_edit_state(i.target.value))},null,40,aC),ot("label",{class:Ce(`for-checkbox-tools-severity question-${e.edit_type.name}`),for:`${t.div_name}-severity-2`},Ht(e.config.interface_text.questions.likert_2),11,lC)]),ot("div",cC,[ot("input",{onClick:n[6]||(n[6]=(...i)=>t.show_next_question&&t.show_next_question(...i)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${t.div_name}-severity`,id:`${t.div_name}-severity-3`,value:"a lot",onInput:n[7]||(n[7]=i=>t.update_edit_state(i.target.value))},null,40,uC),ot("label",{class:Ce(`for-checkbox-tools-severity question-${e.edit_type.name}`),for:`${t.div_name}-severity-3`},Ht(e.config.interface_text.questions.likert_3),11,hC)])])])):_e("",!0),e.question.options==="binary"?(Nt(),Ut("div",fC,[ot("p",dC,[gn(Ht(e.question.question)+" ",1),ot("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${t.div_name}-yes-no`,id:`${t.div_name}-yes`,value:"yes",onInput:n[8]||(n[8]=i=>t.update_edit_state(i.target.value))},null,40,pC),ot("label",{class:Ce(`normal for-checkbox-tools-yes-no question-${e.edit_type.name}`),for:`${t.div_name}-yes`},Ht(e.config.interface_text.questions.binary_yes),11,gC),ot("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${t.div_name}-yes-no`,id:`${t.div_name}-no`,value:"no",onInput:n[9]||(n[9]=i=>t.update_edit_state(i.target.value))},null,40,_C),ot("label",{class:Ce(`normal for-checkbox-tools-yes-no question-${e.edit_type.name}`),for:`${t.div_name}-no`},Ht(e.config.interface_text.questions.binary_no),11,mC)])])):_e("",!0),e.question.options==="textbox"?(Nt(),Ut("div",yC,[ot("p",vC,Ht(e.question.question),1),ot("input",{type:"text",class:Ce(["question-textbox","db border-box hover-black ba b--black-20 pa2 br2 ml3 flex-auto"]),name:`${t.div_name}-textbox`,id:`${t.div_name}`,placeholder:e.config.interface_text.questions.textbox_placeholder,onInput:n[10]||(n[10]=i=>t.update_edit_state(i.target.value))},null,40,bC),ot("label",{class:Ce(`normal for-question-textbox question-${e.edit_type.name}`),for:`${t.div_name}`},null,10,wC)])):_e("",!0),e.question.options==="textarea"?(Nt(),Ut("div",EC,[ot("p",xC,Ht(e.question.question),1),ot("textarea",{class:Ce(["question-textarea","db border-box hover-black w-100 ba b--black-20 pa2 br2 mb2"]),name:`${t.div_name}-textarea`,id:`${t.div_name}`,placeholder:e.config.interface_text.questions.textbox_placeholder,onInput:n[11]||(n[11]=i=>t.update_edit_state(i.target.value))},null,40,SC),ot("label",{class:Ce(`normal for-question-textarea question-${e.edit_type.name}`),for:`${t.div_name}`},null,10,AC)])):_e("",!0)],10,Kk)}}}),TC={class:"quality-selection-divs"},IC={class:"quality-selection w-100",id:"add_an_edit"},RC={id:"dropdown-button-container"},OC={class:"over-hide z-bigger mt2 editor-container"},DC={class:"f3 annotation-label ttu mv1"},PC=ot("i",{class:"fa-solid fa-plus"},null,-1),MC={class:"row"},LC={class:"mb2 b tracked-light"},NC={class:"tc mb3"},FC=["id","value"],VC=["for"],$C=["data-category"],qC={key:0},BC={class:"mt0 mb2 b tracked-light"},UC={class:"tracked-light lh-paras-2"},zC=["innerHTML"],HC={key:1},jC=["data-category"],GC={class:"mt0 mb2 b tracked-light"},WC={class:"tracked-light lh-paras-2"},KC=["innerHTML"],YC={key:2},QC=["data-category"],ZC={class:"mt0 mb2 b tracked-light"},XC={class:"tracked-light lh-paras-2"},JC=["innerHTML"],tT={class:"buttons tc mt2"},eT=ot("i",{class:"fa-solid fa-close"},null,-1),nT=["disabled"],rT=ot("i",{class:"fa-solid fa-check"},null,-1),iT=["id","data-category"],sT={id:"dropdown-button-container"},oT={class:"over-hide z-bigger mt3 editor-container"},aT={class:"f3 annotation-label ttu mv1"},lT=ot("i",{class:"fa-solid fa-pencil"},null,-1),cT=ot("div",{class:"single_part"},null,-1),uT={class:"f4 mt0 mb2 tc"},hT=["innerHTML"],fT=["innerHTML"],dT=["innerHTML"],pT={class:"row"},gT={class:"buttons tc"},_T=["onClick"],mT=ot("i",{class:"fa-solid fa-close"},null,-1),yT=["onClick","disabled"],vT=ot("i",{class:"fa-solid fa-check"},null,-1);function yc(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(r=>yc(r)).filter(r=>r!==null);const t={};let n=!1;for(const r in e)if(e.hasOwnProperty(r)){const i=yc(e[r]);i!==null&&(t[r]=i,n=!0)}return n?t:null}const bT={props:["edits_dict","hits_data","current_hit","selected_edits_html","selected_edits","selected_state","set_span_text","set_span_indices","set_hits_data","refresh_interface_edit","editor_open","set_editor_state","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","set_hit_box_config","config"],data(){return{force_update:!1,edit_state:this.initalize_edit_state(),empty_edit_state:this.initalize_edit_state()}},watch:{config(){this.edit_state=this.initalize_edit_state(),this.empty_edit_state=this.initalize_edit_state(),this.fix_edit_box_formatting()},editor_open(){this.fix_edit_box_formatting()}},methods:{fix_edit_box_formatting(){let e=$(".edit-box label"),t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r].offsetHeight;i>n&&(n=i,t+=1)}t>0&&($(".edit-box label").css("justify-content","flex-start"),$(".edit-box label").css("height",n-24+"px"))},parse_options(e){if(typeof e!="object")return null;let t={};for(const n in e)t.val=null,t[e[n].name]=this.parse_options(e[n].options);return t},initalize_edit_state(){let e={};for(const t of this.config.edits)e[t.name]=this.parse_options(t.annotation);return e},set_edit_state(e){console.info(e),this.edit_state=e,this.force_update=!this.force_update},force_update_f(){this.force_update=!this.force_update},cancel_click(){$(".icon-default").removeClass("open"),this.refresh_edit()},save_click(){let e=Xe.cloneDeep(this.hits_data);$(".icon-default").removeClass("open"),this.set_editor_state(!this.editor_open);let t=$("input[name=edit_cotegory]:checked").val();const n=e[this.current_hit-1].edits;let r=0;for(const c of n)c.category==t&&parseInt(c.id)>r&&(r=parseInt(c.id));const i=this.config.edits.find(c=>c.name===t);let o={category:t,id:r+1,annotation:null};if(i.type==null||i.type=="single_span"||i.type=="multi_span"){if(i.enable_input){let c=this.selected_state.source_idx;i.type!="multi_span"&&(c=[c]),o.input_idx=c}if(i.enable_output){let c=this.selected_state.target_idx;i.type!="multi_span"&&(c=[c]),o.output_idx=c}}if(i.type=="composite"){let c=[];for(let f of this.selected_edits){let d={id:f.id,category:f.category};f.input_idx&&(d.input_idx=f.input_idx),f.output_idx&&(d.output_idx=f.output_idx),c.push(d)}o.constituent_edits=c;for(let f of c)e[this.current_hit-1].edits=e[this.current_hit-1].edits.filter(d=>d.category!==f.category||d.id!==f.id)}let l=Xe.cloneDeep(this.edit_state[t]);o.annotation=yc(l),e[this.current_hit-1].edits.push(o),this.set_hits_data(e),this.refresh_edit()},cancel_annotation_click(e,t){const n=this.annotating_edit_span_category_id;$(".icon-default").removeClass("open"),this.reset_annotation_colors(e,n),this.set_hits_data(Xe.cloneDeep(this.hits_data)),this.refresh_edit()},save_annotation_click(e,t){let n=this.annotating_edit_span_category_id,r=Xe.cloneDeep(this.hits_data),i=Xe.cloneDeep(this.edit_state[e]),o=r[this.current_hit-1].edits.find(function(l){return l.category===e&&l.id===n});o.annotation=yc(i),this.reset_annotation_colors(e,n),this.set_hits_data(r),this.refresh_edit()},reset_annotation_colors(e,t){let n=this.hits_data[this.current_hit-1].edits.find(function(c){return c.category===e&&c.id===t}),r,i;!n.annotation||n.annotation==null?(r=`txt-${e}-light`,i=`border-${e}-light`):(r=`txt-${e}`,i=`border-${e}`);let o=$(`.${e}[data-id=${e}-${t}]`),l=$(`.${e}_below[data-id=${e}-${t}]`);l.addClass(r),o.removeClass(`white bg-${e} bg-${e}-light`),o.addClass(i),l.removeClass(`white bg-${e} bg-${e}-light`)},getEditConfig(e){return this.config.edits.find(function(t){return t.name===e})},refresh_edit(){this.set_editor_state(!1);let e=this.config.edits.map(function(t){return`txt-${t.name}`}).join(" ");$(".annotation-icon").removeClass(e);for(let t of e)$("#source-sentence").removeClass(`select-color-${t}`),$("#target-sentence").removeClass(`select-color-${t}`);$("input[name=edit_cotegory]").prop("checked",!1),$(".checkbox-tools").prop("checked",!1),$(".checkbox-tools-yes-no").prop("checked",!1),$(".question-textbox").val(""),$(".question-textarea").val(""),$(".quality-selection").slideUp(300),$(".span-selection-div").hide(300),$(".child-question").hide(),this.edit_state=this.initalize_edit_state(),this.refresh_interface_edit()},show_span_selection(e){$(".span-selection-div").hide(),$(`.span-selection-div[data-category=${e.target.value}]`).show();const t=this.getEditConfig(e.target.value);this.refresh_interface_edit();let n={enable_select_source_sentence:!1,enable_select_target_sentence:!1,enable_multi_select_source_sentence:!1,enable_multi_select_target_sentence:!1};t.enable_input&&(n.enable_select_source_sentence=!0,t.type=="multi_span"&&(n.enable_multi_select_source_sentence=!0)),t.enable_output&&(n.enable_select_target_sentence=!0,t.type=="multi_span"&&(n.enable_multi_select_target_sentence=!0)),this.set_hit_box_config(n),this.set_span_text("","source"),this.set_span_text("","target"),this.set_span_indices("","source"),this.set_span_indices("","target")},annotate_edit_disabled(e){this.force_update;const t=e.name,n=this.getEditConfig(t);if(!this.editor_open||!$(`.quality-selection[data-category=${t}]`).is(":visible"))return!0;if(!n||!n.annotation)return!1;let r=!0;for(let i of n.annotation){const o=$(`#question_${t}_${i.name}`);if(o==null||o=={}||o.length==0)continue;const l=this.edit_state[t][i.name];l!=null&&(l.val!=null&&l.val!=""||l.val==null&&l!="")||$(o[0]).attr("annotated")!="true"&&(!i.hasOwnProperty("required")||i.required)&&(r=!1)}return!r}},computed:{add_edit_disabled(){if(!this.editor_open)return!0;this.selected_state;const e=$("input[name=edit_cotegory]:checked").val(),t=this.config.edits.find(r=>r.name===e);if(e==null||t==null)return!0;let n=!1;if(t.type==null||t.type=="single_span"||t.type=="multi_span"){const r=this.selected_state.source_span,i=this.selected_state.target_span;t.enable_input&&t.enable_output?r!=null&&r!=""&&i!=null&&i!=""&&(n=!0):t.enable_input?r!=null&&r!=""&&(n=!0):t.enable_output?i!=null&&i!=""&&(n=!0):n=!0}return t.type=="composite"&&this.selected_edits.length>0&&(n=!0),!n}}},wT=Object.assign(bT,{__name:"AnnotationEditor",setup(e){return(t,n)=>(Nt(),Ut("div",TC,[ot("div",IC,[ot("div",RC,[ot("div",OC,[ot("p",DC,[gn(Ht(e.config.interface_text.annotation_editor.add_edit_header)+" ",1),PC]),ot("div",MC,[ot("p",LC,[ot("i",null,Ht(e.config.interface_text.annotation_editor.select_edit_header)+".",1)]),ot("div",NC,[(Nt(!0),Ut(Ei,null,Es(e.config.edits,r=>(Nt(),Ut("div",{key:r.id,class:"edit-box mr2 dib"},[ot("input",{onClick:n[0]||(n[0]=(...i)=>t.show_span_selection&&t.show_span_selection(...i)),class:"checkbox-tools-edit-category checkbox-tools",type:"radio",name:"edit_cotegory",id:`edit_cotegory-${r.name}`,value:r.name},null,8,FC),ot("label",{class:Ce(`txt-${r.name}`),for:`edit_cotegory-${r.name}`},[ot("i",{class:Ce(`fa-solid ${r.icon} fa-1-5x mb1`)},null,2),gn(" "+Ht(r.label),1)],10,VC)]))),128))]),(Nt(!0),Ut(Ei,null,Es(e.config.edits,r=>(Nt(),Ut("div",{key:r.id,class:"span-selection-div","data-category":r.name},[r.enable_input?(Nt(),Ut("div",qC,[ot("p",BC,[gn(Ht(e.config.interface_text.annotation_editor.select_instructions)+" ",1),ot("i",null,Ht(e.config.interface_text.typology.source_label),1),gn(".")]),ot("p",UC,[gn(Ht(e.config.interface_text.annotation_editor.selected_label)+" "+Ht(e.config.interface_text.typology.span_unit_name)+": ",1),ot("span",{innerHTML:e.selected_state.source_span},null,8,zC)])])):_e("",!0),r.enable_output?(Nt(),Ut("div",HC,[ot("div",{class:"span-selection-div","data-category":r.name},[ot("p",GC,[gn(Ht(e.config.interface_text.annotation_editor.select_instructions)+" ",1),ot("i",null,Ht(e.config.interface_text.typology.target_label),1),gn(".")]),ot("p",WC,[gn(Ht(e.config.interface_text.annotation_editor.selected_label)+" "+Ht(e.config.interface_text.typology.span_unit_name)+": ",1),ot("span",{innerHTML:e.selected_state.target_span},null,8,KC)])],8,jC)])):_e("",!0),r.type=="composite"?(Nt(),Ut("div",YC,[ot("div",{class:"span-selection-div","data-category":r.name},[ot("p",ZC,Ht(e.config.interface_text.annotation_editor.composite_seletion_instructions)+" "+Ht(r.name)+".",1),ot("p",XC,[gn(Ht(e.config.interface_text.annotation_editor.selected_label)+" "+Ht(e.config.interface_text.typology.edits_unit_name)+": ",1),ot("span",{innerHTML:e.selected_edits_html},null,8,JC)])],8,QC)])):_e("",!0)],8,$C))),128))])]),ot("div",tT,[ot("button",{onClick:n[1]||(n[1]=(...r)=>t.cancel_click&&t.cancel_click(...r)),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[gn(Ht(e.config.interface_text.buttons.cancel_label)+" ",1),eT]),ot("button",{onClick:n[2]||(n[2]=(...r)=>t.save_click&&t.save_click(...r)),class:Ce([{"o-40":t.add_edit_disabled,grow:!t.add_edit_disabled},"confirm-button b quality_button bw0 ba ml2 br-pill-ns"]),disabled:t.add_edit_disabled,type:"button"},[gn(Ht(e.config.interface_text.buttons.save_label)+" ",1),rT],10,nT)])])]),(Nt(!0),Ut(Ei,null,Es(e.config.edits,r=>(Nt(),Ut("div",{key:r.id},[ot("div",{class:"quality-selection w-100",id:`${r.name}_edit_annotation`,"data-category":r.name},[ot("div",sT,[ot("div",oT,[ot("p",aT,[gn(Ht(e.config.interface_text.annotation_editor.add_edit_header)+" ",1),lT]),cT,ot("div",uT,[ot("span",{class:Ce(`edit-type txt-${r.name} f3`)},Ht(r.label)+": ",3),r.enable_input?(Nt(),Ut("span",{key:0,innerHTML:e.annotating_edit_span.source},null,8,hT)):_e("",!0),r.enable_input&&r.enable_output?(Nt(),Ut("span",{key:1,class:Ce(`edit-type txt-${r.name} f3`)}," "+Ht(e.config.interface_text.annotation_editor.composite_span_unification)+" ",3)):_e("",!0),r.enable_output?(Nt(),Ut("span",{key:2,innerHTML:e.annotating_edit_span.target},null,8,fT)):_e("",!0),r.type=="composite"?(Nt(),Ut("span",{key:3,innerHTML:e.annotating_edit_span.composite},null,8,dT)):_e("",!0)]),ot("div",pT,[(Nt(!0),Ut(Ei,null,Es(r.annotation,i=>(Nt(),Ut("div",{key:i.id},[ir(CC,{edit_state:t.edit_state,empty_question_state:t.empty_edit_state[r.name][i.name],question_state:t.edit_state[r.name][i.name],question:i,edit_type:r,set_edit_state:t.set_edit_state,config:e.config,parent_show_next_question:null,isRoot:"true",ref_for:!0,ref:`${r.name}_${i.name}`,force_update:t.force_update_f},null,8,["edit_state","empty_question_state","question_state","question","edit_type","set_edit_state","config","force_update"])]))),128))])]),ot("div",gT,[ot("button",{onClick:i=>t.cancel_annotation_click(r.name,t.$e),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[gn(Ht(e.config.interface_text.buttons.cancel_label)+" ",1),mT],8,_T),ot("button",{onClick:i=>t.save_annotation_click(r.name,t.$e),class:Ce(["confirm-button b quality_button bw0 ba ml2 br-pill-ns",{"o-40":t.annotate_edit_disabled(r),grow:!t.annotate_edit_disabled(r)}]),disabled:t.annotate_edit_disabled(r)},[gn(Ht(e.config.interface_text.buttons.save_label)+" ",1),vT],10,yT)])])],8,iT)]))),128))]))}});/*! LeaderLine v1.0.5 (c) anseki https://anseki.github.io/leader-line/ */var S_=function(){var e,t,n,r,i,o,l,c,f,d,_,v,S,A="leader-line",P=1,z=2,X=3,it=4,tt={top:P,right:z,bottom:X,left:it},_t=1,bt=2,$t=3,yt=4,Qt=5,Se={straight:_t,arc:bt,fluid:$t,magnet:yt,grid:Qt},He="behind",oe=A+"-defs",Me='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',mr={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},yr={behind:He,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},wt={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Ie=[P,z,X,it],re="auto",cn={x:"left",y:"top",width:"width",height:"height"},ar=80,ol=4,$s=5,vr=120,al=8,Fu=3.75,Oi=10,mn=30,si=.5522847,Vu=.25*Math.PI,Di=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Lt="http://www.w3.org/2000/svg",qs="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,yn=!qs&&!!document.uniqueID,Mr="MozAppearance"in document.documentElement.style,ss=!(qs||Mr||!window.chrome||!window.CSS),me=!qs&&!yn&&!Mr&&!ss&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,Pi=yn||qs?.2:.1,Pn={path:$t,lineColor:"coral",lineSize:4,plugSE:[He,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},un=(_={}.toString,v={}.hasOwnProperty.toString,S=v.call(Object),function(h){var g,m;return h&&_.call(h)==="[object Object]"&&(!(g=Object.getPrototypeOf(h))||(m=g.hasOwnProperty("constructor")&&g.constructor)&&typeof m=="function"&&v.call(m)===S)}),vn=Number.isFinite||function(h){return typeof h=="number"&&window.isFinite(h)},tn=function(){var h,g={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},m=1e3/60/2,y=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(M){setTimeout(M,m)},E=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(M){clearTimeout(M)},k=Number.isFinite||function(M){return typeof M=="number"&&window.isFinite(M)},j=[],F=0;function H(){var M=Date.now(),Z=!1;h&&(E.call(window,h),h=null),j.forEach(function(R){var O,D,B;if(R.framesStart){if((O=M-R.framesStart)>=R.duration&&R.count&&R.loopsLeft<=1)return B=R.frames[R.lastFrame=R.reverse?0:R.frames.length-1],R.frameCallback(B.value,!0,B.timeRatio,B.outputRatio),void(R.framesStart=null);if(O>R.duration){if(D=Math.floor(O/R.duration),R.count){if(D>=R.loopsLeft)return B=R.frames[R.lastFrame=R.reverse?0:R.frames.length-1],R.frameCallback(B.value,!0,B.timeRatio,B.outputRatio),void(R.framesStart=null);R.loopsLeft-=D}R.framesStart+=R.duration*D,O=M-R.framesStart}R.reverse&&(O=R.duration-O),B=R.frames[R.lastFrame=Math.round(O/m)],R.frameCallback(B.value,!1,B.timeRatio,B.outputRatio)!==!1?Z=!0:R.framesStart=null}}),Z&&(h=y.call(window,H))}function C(M,Z){M.framesStart=Date.now(),Z!=null&&(M.framesStart-=M.duration*(M.reverse?1-Z:Z)),M.loopsLeft=M.count,M.lastFrame=null,H()}return{add:function(M,Z,R,O,D,B,Q){var nt,ut,st,Y,N,q,V,vt,xt,gt,T,et,ht,Tt=++F;function Rt(mt,K){return{value:M(K),timeRatio:mt,outputRatio:K}}if(typeof D=="string"&&(D=g[D]),M=M||function(){},R<m)ut=[Rt(0,0),Rt(1,1)];else{if(st=m/R,ut=[Rt(0,0)],D[0]===0&&D[1]===0&&D[2]===1&&D[3]===1)for(N=st;N<=1;N+=st)ut.push(Rt(N,N));else for(q=Y=(N=st)/10;q<=1;q+=Y)gt=(xt=(vt=q)*vt)*vt,ht=3*(T=1-vt)*xt,N<=(V={x:(et=3*(T*T)*vt)*D[0]+ht*D[2]+gt,y:et*D[1]+ht*D[3]+gt}).x&&(ut.push(Rt(V.x,V.y)),N+=st);ut.push(Rt(1,1))}return nt={animId:Tt,frameCallback:Z,duration:R,count:O,frames:ut,reverse:!!B},j.push(nt),Q!==!1&&C(nt,Q),Tt},remove:function(M){var Z;j.some(function(R,O){return R.animId===M&&(Z=O,!(R.framesStart=null))})&&j.splice(Z,1)},start:function(M,Z,R){j.some(function(O){return O.animId===M&&(O.reverse=!!Z,C(O,R),!0)})},stop:function(M,Z){var R;return j.some(function(O){return O.animId===M&&(Z?O.lastFrame!=null&&(R=O.frames[O.lastFrame].timeRatio):(R=(Date.now()-O.framesStart)/O.duration,O.reverse&&(R=1-R),R<0?R=0:1<R&&(R=1)),!(O.framesStart=null))}),R},validTiming:function(M){return typeof M=="string"?g[M]:Array.isArray(M)&&[0,1,2,3].every(function(Z){return k(M[Z])&&0<=M[Z]&&M[Z]<=1})?[M[0],M[1],M[2],M[3]]:null}}}(),os=function(h){h.SVGPathElement.prototype.getPathData&&h.SVGPathElement.prototype.setPathData||function(){var g={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},m=function(R){this._string=R,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},y=h.navigator.userAgent.indexOf("MSIE ")!==-1;m.prototype={parseSegment:function(){var R=this._string[this._currentIndex],O=g[R]?g[R]:null;if(O===null){if(this._prevCommand===null||(O=(R==="+"||R==="-"||R==="."||"0"<=R&&R<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var D=null,B=(this._prevCommand=O).toUpperCase();return B==="H"||B==="V"?D=[this._parseNumber()]:B==="M"||B==="L"||B==="T"?D=[this._parseNumber(),this._parseNumber()]:B==="S"||B==="Q"?D=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:B==="C"?D=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:B==="A"?D=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:B==="Z"&&(this._skipOptionalSpaces(),D=[]),D===null||0<=D.indexOf(null)?null:{type:O,values:D}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var R=this._string[this._currentIndex];return g[R]?g[R]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var R=this.peekSegmentType();return R==="M"||R==="m"},_isCurrentSpace:function(){var R=this._string[this._currentIndex];return R<=" "&&(R===" "||R===`
`||R==="	"||R==="\r"||R==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var R=0,O=0,D=1,B=0,Q=1,nt=1,ut=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,Q=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var st=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==st)for(var Y=this._currentIndex-1,N=1;st<=Y;)O+=N*(this._string[Y]-"0"),Y-=1,N*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)D*=10,B+=(this._string.charAt(this._currentIndex)-"0")/D,this._currentIndex+=1}if(this._currentIndex!==ut&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,nt=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)R*=10,R+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var q=O+B;return q*=Q,R&&(q*=Math.pow(10,nt*R)),ut===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),q)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var R=null,O=this._string[this._currentIndex];if(this._currentIndex+=1,O==="0")R=0;else{if(O!=="1")return null;R=1}return this._skipOptionalSpacesOrDelimiter(),R}};var E=function(R){if(!R||R.length===0)return[];var O=new m(R),D=[];if(O.initialCommandIsMoveTo())for(;O.hasMoreData();){var B=O.parseSegment();if(B===null)break;D.push(B)}return D},k=h.SVGPathElement.prototype.setAttribute,j=h.SVGPathElement.prototype.removeAttribute,F=h.Symbol?h.Symbol():"__cachedPathData",H=h.Symbol?h.Symbol():"__cachedNormalizedPathData",C=function(R,O,D,B,Q,nt,ut,st,Y,N){var q,V,vt,xt,gt,T=function(De,ye,Ve){return{x:De*Math.cos(Ve)-ye*Math.sin(Ve),y:De*Math.sin(Ve)+ye*Math.cos(Ve)}},et=(q=ut,Math.PI*q/180),ht=[];if(N)V=N[0],vt=N[1],xt=N[2],gt=N[3];else{var Tt=T(R,O,-et);R=Tt.x,O=Tt.y;var Rt=T(D,B,-et),mt=(R-(D=Rt.x))/2,K=(O-(B=Rt.y))/2,qt=mt*mt/(Q*Q)+K*K/(nt*nt);1<qt&&(Q*=qt=Math.sqrt(qt),nt*=qt);var we=Q*Q,Dt=nt*nt,Kt=we*Dt-we*K*K-Dt*mt*mt,Re=we*K*K+Dt*mt*mt,Oe=(st===Y?-1:1)*Math.sqrt(Math.abs(Kt/Re));xt=Oe*Q*K/nt+(R+D)/2,gt=Oe*-nt*mt/Q+(O+B)/2,V=Math.asin(parseFloat(((O-gt)/nt).toFixed(9))),vt=Math.asin(parseFloat(((B-gt)/nt).toFixed(9))),R<xt&&(V=Math.PI-V),D<xt&&(vt=Math.PI-vt),V<0&&(V=2*Math.PI+V),vt<0&&(vt=2*Math.PI+vt),Y&&vt<V&&(V-=2*Math.PI),!Y&&V<vt&&(vt-=2*Math.PI)}var Ee=vt-V;if(Math.abs(Ee)>120*Math.PI/180){var fn=vt,$i=D,Yt=B;vt=Y&&V<vt?V+120*Math.PI/180*1:V+120*Math.PI/180*-1,D=xt+Q*Math.cos(vt),B=gt+nt*Math.sin(vt),ht=C(D,B,$i,Yt,Q,nt,ut,0,Y,[vt,fn,xt,gt])}Ee=vt-V;var Ot=Math.cos(V),kt=Math.sin(V),Zt=Math.cos(vt),Ct=Math.sin(vt),ee=Math.tan(Ee/4),Be=4/3*Q*ee,Ae=4/3*nt*ee,Gn=[R,O],Wn=[R+Be*kt,O-Ae*Ot],Nr=[D+Be*Ct,B-Ae*Zt],Bt=[D,B];if(Wn[0]=2*Gn[0]-Wn[0],Wn[1]=2*Gn[1]-Wn[1],N)return[Wn,Nr,Bt].concat(ht);ht=[Wn,Nr,Bt].concat(ht).join().split(",");var W=[],zt=[];return ht.forEach(function(De,ye){ye%2?zt.push(T(ht[ye-1],ht[ye],et).y):zt.push(T(ht[ye],ht[ye+1],et).x),zt.length===6&&(W.push(zt),zt=[])}),W},M=function(R){return R.map(function(O){return{type:O.type,values:Array.prototype.slice.call(O.values)}})},Z=function(R){var O=[],D=null,B=null,Q=null,nt=null,ut=null,st=null,Y=null;return R.forEach(function(N){if(N.type==="M"){var q=N.values[0],V=N.values[1];O.push({type:"M",values:[q,V]}),nt=st=q,ut=Y=V}else if(N.type==="C"){var vt=N.values[0],xt=N.values[1],gt=N.values[2],T=N.values[3];q=N.values[4],V=N.values[5],O.push({type:"C",values:[vt,xt,gt,T,q,V]}),B=gt,Q=T,nt=q,ut=V}else if(N.type==="L")q=N.values[0],V=N.values[1],O.push({type:"L",values:[q,V]}),nt=q,ut=V;else if(N.type==="H")q=N.values[0],O.push({type:"L",values:[q,ut]}),nt=q;else if(N.type==="V")V=N.values[0],O.push({type:"L",values:[nt,V]}),ut=V;else if(N.type==="S")gt=N.values[0],T=N.values[1],q=N.values[2],V=N.values[3],D==="C"||D==="S"?(et=nt+(nt-B),ht=ut+(ut-Q)):(et=nt,ht=ut),O.push({type:"C",values:[et,ht,gt,T,q,V]}),B=gt,Q=T,nt=q,ut=V;else if(N.type==="T"){q=N.values[0],V=N.values[1],D==="Q"||D==="T"?(vt=nt+(nt-B),xt=ut+(ut-Q)):(vt=nt,xt=ut);var et=nt+2*(vt-nt)/3,ht=ut+2*(xt-ut)/3,Tt=q+2*(vt-q)/3,Rt=V+2*(xt-V)/3;O.push({type:"C",values:[et,ht,Tt,Rt,q,V]}),B=vt,Q=xt,nt=q,ut=V}else if(N.type==="Q")vt=N.values[0],xt=N.values[1],q=N.values[2],V=N.values[3],et=nt+2*(vt-nt)/3,ht=ut+2*(xt-ut)/3,Tt=q+2*(vt-q)/3,Rt=V+2*(xt-V)/3,O.push({type:"C",values:[et,ht,Tt,Rt,q,V]}),B=vt,Q=xt,nt=q,ut=V;else if(N.type==="A"){var mt=N.values[0],K=N.values[1],qt=N.values[2],we=N.values[3],Dt=N.values[4];q=N.values[5],V=N.values[6],mt===0||K===0?(O.push({type:"C",values:[nt,ut,q,V,q,V]}),nt=q,ut=V):(nt!==q||ut!==V)&&C(nt,ut,q,V,mt,K,qt,we,Dt).forEach(function(Kt){O.push({type:"C",values:Kt}),nt=q,ut=V})}else N.type==="Z"&&(O.push(N),nt=st,ut=Y);D=N.type}),O};h.SVGPathElement.prototype.setAttribute=function(R,O){R==="d"&&(this[F]=null,this[H]=null),k.call(this,R,O)},h.SVGPathElement.prototype.removeAttribute=function(R,O){R==="d"&&(this[F]=null,this[H]=null),j.call(this,R)},h.SVGPathElement.prototype.getPathData=function(R){if(R&&R.normalize){if(this[H])return M(this[H]);this[F]?st=M(this[F]):(st=E(this.getAttribute("d")||""),this[F]=M(st));var O=Z((D=[],ut=nt=Q=B=null,st.forEach(function(Y){var N=Y.type;if(N==="M"){var q=Y.values[0],V=Y.values[1];D.push({type:"M",values:[q,V]}),B=nt=q,Q=ut=V}else if(N==="m")q=B+Y.values[0],V=Q+Y.values[1],D.push({type:"M",values:[q,V]}),B=nt=q,Q=ut=V;else if(N==="L")q=Y.values[0],V=Y.values[1],D.push({type:"L",values:[q,V]}),B=q,Q=V;else if(N==="l")q=B+Y.values[0],V=Q+Y.values[1],D.push({type:"L",values:[q,V]}),B=q,Q=V;else if(N==="C"){var vt=Y.values[0],xt=Y.values[1],gt=Y.values[2],T=Y.values[3];q=Y.values[4],V=Y.values[5],D.push({type:"C",values:[vt,xt,gt,T,q,V]}),B=q,Q=V}else N==="c"?(vt=B+Y.values[0],xt=Q+Y.values[1],gt=B+Y.values[2],T=Q+Y.values[3],q=B+Y.values[4],V=Q+Y.values[5],D.push({type:"C",values:[vt,xt,gt,T,q,V]}),B=q,Q=V):N==="Q"?(vt=Y.values[0],xt=Y.values[1],q=Y.values[2],V=Y.values[3],D.push({type:"Q",values:[vt,xt,q,V]}),B=q,Q=V):N==="q"?(vt=B+Y.values[0],xt=Q+Y.values[1],q=B+Y.values[2],V=Q+Y.values[3],D.push({type:"Q",values:[vt,xt,q,V]}),B=q,Q=V):N==="A"?(q=Y.values[5],V=Y.values[6],D.push({type:"A",values:[Y.values[0],Y.values[1],Y.values[2],Y.values[3],Y.values[4],q,V]}),B=q,Q=V):N==="a"?(q=B+Y.values[5],V=Q+Y.values[6],D.push({type:"A",values:[Y.values[0],Y.values[1],Y.values[2],Y.values[3],Y.values[4],q,V]}),B=q,Q=V):N==="H"?(q=Y.values[0],D.push({type:"H",values:[q]}),B=q):N==="h"?(q=B+Y.values[0],D.push({type:"H",values:[q]}),B=q):N==="V"?(V=Y.values[0],D.push({type:"V",values:[V]}),Q=V):N==="v"?(V=Q+Y.values[0],D.push({type:"V",values:[V]}),Q=V):N==="S"?(gt=Y.values[0],T=Y.values[1],q=Y.values[2],V=Y.values[3],D.push({type:"S",values:[gt,T,q,V]}),B=q,Q=V):N==="s"?(gt=B+Y.values[0],T=Q+Y.values[1],q=B+Y.values[2],V=Q+Y.values[3],D.push({type:"S",values:[gt,T,q,V]}),B=q,Q=V):N==="T"?(q=Y.values[0],V=Y.values[1],D.push({type:"T",values:[q,V]}),B=q,Q=V):N==="t"?(q=B+Y.values[0],V=Q+Y.values[1],D.push({type:"T",values:[q,V]}),B=q,Q=V):N!=="Z"&&N!=="z"||(D.push({type:"Z",values:[]}),B=nt,Q=ut)}),D));return this[H]=M(O),O}if(this[F])return M(this[F]);var D,B,Q,nt,ut,st=E(this.getAttribute("d")||"");return this[F]=M(st),st},h.SVGPathElement.prototype.setPathData=function(R){if(R.length===0)y?this.setAttribute("d",""):this.removeAttribute("d");else{for(var O="",D=0,B=R.length;D<B;D+=1){var Q=R[D];0<D&&(O+=" "),O+=Q.type,Q.values&&0<Q.values.length&&(O+=" "+Q.values.join(" "))}this.setAttribute("d",O)}},h.SVGRectElement.prototype.getPathData=function(R){var O=this.x.baseVal.value,D=this.y.baseVal.value,B=this.width.baseVal.value,Q=this.height.baseVal.value,nt=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,ut=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;B/2<nt&&(nt=B/2),Q/2<ut&&(ut=Q/2);var st=[{type:"M",values:[O+nt,D]},{type:"H",values:[O+B-nt]},{type:"A",values:[nt,ut,0,0,1,O+B,D+ut]},{type:"V",values:[D+Q-ut]},{type:"A",values:[nt,ut,0,0,1,O+B-nt,D+Q]},{type:"H",values:[O+nt]},{type:"A",values:[nt,ut,0,0,1,O,D+Q-ut]},{type:"V",values:[D+ut]},{type:"A",values:[nt,ut,0,0,1,O+nt,D]},{type:"Z",values:[]}];return st=st.filter(function(Y){return Y.type!=="A"||Y.values[0]!==0&&Y.values[1]!==0}),R&&R.normalize===!0&&(st=Z(st)),st},h.SVGCircleElement.prototype.getPathData=function(R){var O=this.cx.baseVal.value,D=this.cy.baseVal.value,B=this.r.baseVal.value,Q=[{type:"M",values:[O+B,D]},{type:"A",values:[B,B,0,0,1,O,D+B]},{type:"A",values:[B,B,0,0,1,O-B,D]},{type:"A",values:[B,B,0,0,1,O,D-B]},{type:"A",values:[B,B,0,0,1,O+B,D]},{type:"Z",values:[]}];return R&&R.normalize===!0&&(Q=Z(Q)),Q},h.SVGEllipseElement.prototype.getPathData=function(R){var O=this.cx.baseVal.value,D=this.cy.baseVal.value,B=this.rx.baseVal.value,Q=this.ry.baseVal.value,nt=[{type:"M",values:[O+B,D]},{type:"A",values:[B,Q,0,0,1,O,D+Q]},{type:"A",values:[B,Q,0,0,1,O-B,D]},{type:"A",values:[B,Q,0,0,1,O,D-Q]},{type:"A",values:[B,Q,0,0,1,O+B,D]},{type:"Z",values:[]}];return R&&R.normalize===!0&&(nt=Z(nt)),nt},h.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},h.SVGPolylineElement.prototype.getPathData=function(){for(var R=[],O=0;O<this.points.numberOfItems;O+=1){var D=this.points.getItem(O);R.push({type:O===0?"M":"L",values:[D.x,D.y]})}return R},h.SVGPolygonElement.prototype.getPathData=function(){for(var R=[],O=0;O<this.points.numberOfItems;O+=1){var D=this.points.getItem(O);R.push({type:O===0?"M":"L",values:[D.x,D.y]})}return R.push({type:"Z",values:[]}),R}}()},lr=function(h){var g={};function m(y){if(g[y])return g[y].exports;var E=g[y]={i:y,l:!1,exports:{}};return h[y].call(E.exports,E,E.exports,m),E.l=!0,E.exports}return m.m=h,m.c=g,m.d=function(y,E,k){m.o(y,E)||Object.defineProperty(y,E,{configurable:!1,enumerable:!0,get:k})},m.r=function(y){Object.defineProperty(y,"__esModule",{value:!0})},m.n=function(y){var E=y&&y.__esModule?function(){return y.default}:function(){return y};return m.d(E,"a",E),E},m.o=function(y,E){return Object.prototype.hasOwnProperty.call(y,E)},m.p="",m(m.s=0)}([function(h,g,m){m.r(g);var y=500,E=[],k=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(R){return setTimeout(R,1e3/60)},j=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(R){return clearTimeout(R)},F=void 0,H=Date.now();function C(){var R=void 0,O=void 0;F&&(j.call(window,F),F=null),E.forEach(function(D){D.event&&(D.listener(D.event),D.event=null,R=!0)}),R?(H=Date.now(),O=!0):Date.now()-H<y&&(O=!0),O&&(F=k.call(window,C))}function M(R){var O=-1;return E.some(function(D,B){return D.listener===R&&(O=B,!0)}),O}var Z={add:function(R){var O=void 0;return M(R)===-1?(E.push(O={listener:R}),function(D){O.event=D,F||C()}):null},remove:function(R){var O;-1<(O=M(R))&&(E.splice(O,1),!E.length&&F&&(j.call(window,F),F=null))}};g.default=Z}]).default,oi={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:He},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:He},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:He},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},as={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},ll="fade",ai=[],hn={},ls=0,Ne={},qo=0;function Lr(h,g){var m,y;return typeof h!=typeof g||(m=un(h)?"obj":Array.isArray(h)?"array":"")!=(un(g)?"obj":Array.isArray(g)?"array":"")||(m==="obj"?Lr(y=Object.keys(h).sort(),Object.keys(g).sort())||y.some(function(E){return Lr(h[E],g[E])}):m==="array"?h.length!==g.length||h.some(function(E,k){return Lr(E,g[k])}):h!==g)}function rn(h){return h&&(un(h)?Object.keys(h).reduce(function(g,m){return g[m]=rn(h[m]),g},{}):Array.isArray(h)?h.map(rn):h)}function li(h){var g,m,y,E=1,k=h=(h+"").trim();function j(F){var H=1,C=Di.exec(F);return C&&(H=parseFloat(C[1]),C[2]?H=0<=H&&H<=100?H/100:1:(H<0||1<H)&&(H=1)),H}return(g=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(h))?(m=g[1].toLowerCase(),y=g[2].trim().split(/\s*,\s*/),m==="rgba"&&y.length===4?(E=j(y[3]),k="rgb("+y.slice(0,3).join(", ")+")"):m==="hsla"&&y.length===4?(E=j(y[3]),k="hsl("+y.slice(0,3).join(", ")+")"):m==="hwb"&&y.length===4?(E=j(y[3]),k="hwb("+y.slice(0,3).join(", ")+")"):m==="gray"&&y.length===2?(E=j(y[1]),k="gray("+y[0]+")"):m==="device-cmyk"&&5<=y.length&&(E=j(y[4]),k="device-cmyk("+y.slice(0,4).join(", ")+")")):(g=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(h))?g[1]?(E=parseInt(g[2],16)/255,k="#"+g[1]):(E=parseInt(g[4]+g[4],16)/255,k="#"+g[3]):h.toLocaleLowerCase()==="transparent"&&(E=0),[E,k]}function ci(h){return!(!h||h.nodeType!==Node.ELEMENT_NODE||typeof h.getBoundingClientRect!="function")}function Mi(h,g){var m,y,E,k,j={};if(!(E=h.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(h.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(y in m=h.getBoundingClientRect())j[y]=m[y];if(!g){if(!(k=E.defaultView))return console.error("Cannot get window that contains the element."),null;j.left+=k.pageXOffset,j.right+=k.pageXOffset,j.top+=k.pageYOffset,j.bottom+=k.pageYOffset}return j}function cs(h,g){var m,y,E=[],k=h;for(g=g||window;;){if(!(m=k.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(y=m.defaultView))return console.error("Cannot get window that contains the element."),null;if(y===g)break;if(!(k=y.frameElement))return console.error("`baseWindow` was not found."),null;E.unshift(k)}return E}function ui(h,g){var m,y,E=0,k=0;return(y=cs(h,g=g||window))?y.length?(y.forEach(function(j,F){var H,C,M=Mi(j,0<F);E+=M.left,k+=M.top,C=(H=j).ownerDocument.defaultView.getComputedStyle(H,""),M={left:H.clientLeft+parseFloat(C.paddingLeft),top:H.clientTop+parseFloat(C.paddingTop)},E+=M.left,k+=M.top}),(m=Mi(h,!0)).left+=E,m.right+=E,m.top+=k,m.bottom+=k,m):Mi(h):null}function zn(h,g){var m=h.x-g.x,y=h.y-g.y;return Math.sqrt(m*m+y*y)}function us(h,g,m){var y=g.x-h.x,E=g.y-h.y;return{x:h.x+y*m,y:h.y+E*m,angle:Math.atan2(E,y)/(Math.PI/180)}}function Bs(h,g,m){var y=Math.atan2(h.y-g.y,g.x-h.x);return{x:g.x+Math.cos(y)*m,y:g.y+Math.sin(y)*m*-1}}function Li(h,g,m,y,E){var k=E*E,j=k*E,F=1-E,H=F*F,C=H*F,M=C*h.x+3*H*E*g.x+3*F*k*m.x+j*y.x,Z=C*h.y+3*H*E*g.y+3*F*k*m.y+j*y.y,R=h.x+2*E*(g.x-h.x)+k*(m.x-2*g.x+h.x),O=h.y+2*E*(g.y-h.y)+k*(m.y-2*g.y+h.y),D=g.x+2*E*(m.x-g.x)+k*(y.x-2*m.x+g.x),B=g.y+2*E*(m.y-g.y)+k*(y.y-2*m.y+g.y),Q=F*h.x+E*g.x,nt=F*h.y+E*g.y,ut=F*m.x+E*y.x,st=F*m.y+E*y.y,Y=90-180*Math.atan2(R-D,O-B)/Math.PI;return{x:M,y:Z,fromP2:{x:R,y:O},toP1:{x:D,y:B},fromP1:{x:Q,y:nt},toP2:{x:ut,y:st},angle:Y+=180<Y?-180:180}}function Ni(h,g,m,y,E){function k(O,D,B,Q,nt){return O*(O*(-3*D+9*B-9*Q+3*nt)+6*D-12*B+6*Q)-3*D+3*B}var j,F,H,C,M,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],R=0;return j=(E=E==null||1<E?1:E<0?0:E)/2,[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(O,D){H=k(F=j*O+j,h.x,g.x,m.x,y.x),C=k(F,h.y,g.y,m.y,y.y),M=H*H+C*C,R+=Z[D]*Math.sqrt(M)}),j*R}function Us(h,g,m,y,E){for(var k,j=.5,F=1-j;k=Ni(h,g,m,y,F),!(Math.abs(k-E)<=.01);)F+=(k<E?1:-1)*(j/=2);return F}function Bo(h,g){var m;return h.forEach(function(y){var E=g?y.map(function(k){var j={x:k.x,y:k.y};return g(j),j}):y;m||(m=[{type:"M",values:[E[0].x,E[0].y]}]),m.push(E.length?E.length===2?{type:"L",values:[E[1].x,E[1].y]}:{type:"C",values:[E[1].x,E[1].y,E[2].x,E[2].y,E[3].x,E[3].y]}:{type:"Z",values:[]})}),m}function cl(h){var g=[],m=0;return h.forEach(function(y){var E=(y.length===2?zn:Ni).apply(null,y);g.push(E),m+=E}),{segsLen:g,lenAll:m}}function zs(h,g){return h==null||g==null||h.length!==g.length||h.some(function(m,y){var E=g[y];return m.type!==E.type||m.values.some(function(k,j){return k!==E.values[j]})})}function Ye(h,g,m){h.events[g]?h.events[g].indexOf(m)<0&&h.events[g].push(m):h.events[g]=[m]}function je(h,g,m){var y;h.events[g]&&-1<(y=h.events[g].indexOf(m))&&h.events[g].splice(y,1)}function Fi(h){l&&clearTimeout(l),ai.push(h),l=setTimeout(function(){ai.forEach(function(g){g()}),ai=[]},0)}function Fe(h,g){h.reflowTargets.indexOf(g)<0&&h.reflowTargets.push(g)}function ul(h){h.reflowTargets.forEach(function(g){var m;m=g,setTimeout(function(){var y=m.parentNode,E=m.nextSibling;y.insertBefore(y.removeChild(m),E)},0)}),h.reflowTargets=[]}function Hs(h,g,m,y,E,k,j){var F,H,C;m==="auto-start-reverse"?(typeof c!="boolean"&&(g.setAttribute("orient","auto-start-reverse"),c=g.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),c?g.setAttribute("orient",m):((F=E.createSVGTransform()).setRotate(180,0,0),k.transform.baseVal.appendItem(F),g.setAttribute("orient","auto"),C=!0)):(g.setAttribute("orient",m),c===!1&&k.transform.baseVal.clear()),H=g.viewBox.baseVal,C?(H.x=-y.right,H.y=-y.bottom):(H.x=y.left,H.y=y.top),H.width=y.width,H.height=y.height,yn&&Fe(h,j)}function hl(h,g){return{prop:h?"markerEnd":"markerStart",orient:g?g.noRotate?"0":h?"auto":"auto-start-reverse":null}}function Qe(h,g){Object.keys(g).forEach(function(m){var y=g[m];h[m]=y.iniValue!=null?y.hasSE?[y.iniValue,y.iniValue]:y.iniValue:y.hasSE?y.hasProps?[{},{}]:[]:y.hasProps?{}:null})}function Et(h,g,m,y,E){return y!==g[m]&&(g[m]=y,E&&E.forEach(function(k){k(h,y,m)}),!0)}function fl(h){function g(j,F){return j+parseFloat(F)}var m=h.document,y=h.getComputedStyle(m.documentElement,""),E=h.getComputedStyle(m.body,""),k={x:0,y:0};return E.position!=="static"?(k.x-=[y.marginLeft,y.borderLeftWidth,y.paddingLeft,E.marginLeft,E.borderLeftWidth].reduce(g,0),k.y-=[y.marginTop,y.borderTopWidth,y.paddingTop,E.marginTop,E.borderTopWidth].reduce(g,0)):y.position!=="static"&&(k.x-=[y.marginLeft,y.borderLeftWidth].reduce(g,0),k.y-=[y.marginTop,y.borderTopWidth].reduce(g,0)),k}function dl(h){var g,m=h.document;m.getElementById(oe)||(g=new h.DOMParser().parseFromString(Me,"image/svg+xml"),m.body.appendChild(g.documentElement),os(h))}function $u(h){var g,m,y,E,k,j,F,H,C,M,Z,R,O,D,B,Q,nt,ut,st,Y=h.options,N=h.curStats,q=h.aplStats,V=N.position_socketXYSE,vt=!1;function xt(T,et){var ht=et===P?{x:T.left+T.width/2,y:T.top}:et===z?{x:T.right,y:T.top+T.height/2}:et===X?{x:T.left+T.width/2,y:T.bottom}:{x:T.left,y:T.top+T.height/2};return ht.socketId=et,ht}function gt(T){return{x:T.x,y:T.y}}if(N.position_path=Y.path,N.position_lineStrokeWidth=N.line_strokeWidth,N.position_socketGravitySE=g=rn(Y.socketGravitySE),m=[0,1].map(function(T){var et,ht,Tt,Rt=Y.anchorSE[T],mt=h.optionIsAttach.anchorSE[T],K=mt!==!1?Ne[Rt._id]:null,qt=mt!==!1&&K.conf.getStrokeWidth?K.conf.getStrokeWidth(K,h):0,we=mt!==!1&&K.conf.getBBoxNest?K.conf.getBBoxNest(K,h,qt):ui(Rt,h.baseWindow);return N.capsMaskAnchor_pathDataSE[T]=mt!==!1&&K.conf.getPathData?K.conf.getPathData(K,h,qt):(ht=(et=we).right!=null?et.right:et.left+et.width,Tt=et.bottom!=null?et.bottom:et.top+et.height,[{type:"M",values:[et.left,et.top]},{type:"L",values:[ht,et.top]},{type:"L",values:[ht,Tt]},{type:"L",values:[et.left,Tt]},{type:"Z",values:[]}]),N.capsMaskAnchor_strokeWidthSE[T]=qt,we}),F=-1,Y.socketSE[0]&&Y.socketSE[1]?(V[0]=xt(m[0],Y.socketSE[0]),V[1]=xt(m[1],Y.socketSE[1])):(Y.socketSE[0]||Y.socketSE[1]?(Y.socketSE[0]?(k=0,j=1):(k=1,j=0),V[k]=xt(m[k],Y.socketSE[k]),(E=Ie.map(function(T){return xt(m[j],T)})).forEach(function(T){var et=zn(T,V[k]);(et<F||F===-1)&&(V[j]=T,F=et)})):(E=Ie.map(function(T){return xt(m[1],T)}),Ie.map(function(T){return xt(m[0],T)}).forEach(function(T){E.forEach(function(et){var ht=zn(T,et);(ht<F||F===-1)&&(V[0]=T,V[1]=et,F=ht)})})),[0,1].forEach(function(T){var et,ht;Y.socketSE[T]||(m[T].width||m[T].height?m[T].width||V[T].socketId!==it&&V[T].socketId!==z?m[T].height||V[T].socketId!==P&&V[T].socketId!==X||(V[T].socketId=0<=V[T?0:1].y-m[T].top?X:P):V[T].socketId=0<=V[T?0:1].x-m[T].left?z:it:(et=V[T?0:1].x-m[T].left,ht=V[T?0:1].y-m[T].top,V[T].socketId=Math.abs(et)>=Math.abs(ht)?0<=et?z:it:0<=ht?X:P))})),N.position_path!==q.position_path||N.position_lineStrokeWidth!==q.position_lineStrokeWidth||[0,1].some(function(T){return N.position_plugOverheadSE[T]!==q.position_plugOverheadSE[T]||(Rt=V[T],mt=q.position_socketXYSE[T],Rt.x!==mt.x||Rt.y!==mt.y||Rt.socketId!==mt.socketId)||(et=g[T],ht=q.position_socketGravitySE[T],(Tt=et==null?"auto":Array.isArray(et)?"array":"number")!=(ht==null?"auto":Array.isArray(ht)?"array":"number")||(Tt==="array"?et[0]!==ht[0]||et[1]!==ht[1]:et!==ht));var et,ht,Tt,Rt,mt})){switch(h.pathList.baseVal=y=[],h.pathList.animVal=null,N.position_path){case _t:y.push([gt(V[0]),gt(V[1])]);break;case bt:R=typeof g[0]=="number"&&0<g[0]||typeof g[1]=="number"&&0<g[1],O=Vu*(R?-1:1),D=Math.atan2(V[1].y-V[0].y,V[1].x-V[0].x),B=-D+O,Q=Math.PI-D-O,nt=zn(V[0],V[1])/Math.sqrt(2)*si,ut={x:V[0].x+Math.cos(B)*nt,y:V[0].y+Math.sin(B)*nt*-1},st={x:V[1].x+Math.cos(Q)*nt,y:V[1].y+Math.sin(Q)*nt*-1},y.push([gt(V[0]),ut,st,gt(V[1])]);break;case $t:case yt:C=[g[0],N.position_path===yt?0:g[1]],M=[],Z=[],V.forEach(function(T,et){var ht,Tt,Rt,mt,K,qt=C[et];Array.isArray(qt)?ht={x:qt[0],y:qt[1]}:typeof qt=="number"?ht=T.socketId===P?{x:0,y:-qt}:T.socketId===z?{x:qt,y:0}:T.socketId===X?{x:0,y:qt}:{x:-qt,y:0}:(Tt=V[et?0:1],mt=0<(Rt=N.position_plugOverheadSE[et])?vr+(al<Rt?(Rt-al)*Fu:0):ar+(N.position_lineStrokeWidth>ol?(N.position_lineStrokeWidth-ol)*$s:0),T.socketId===P?((K=(T.y-Tt.y)/2)<mt&&(K=mt),ht={x:0,y:-K}):T.socketId===z?((K=(Tt.x-T.x)/2)<mt&&(K=mt),ht={x:K,y:0}):T.socketId===X?((K=(Tt.y-T.y)/2)<mt&&(K=mt),ht={x:0,y:K}):((K=(T.x-Tt.x)/2)<mt&&(K=mt),ht={x:-K,y:0})),M[et]=T.x+ht.x,Z[et]=T.y+ht.y}),y.push([gt(V[0]),{x:M[0],y:Z[0]},{x:M[1],y:Z[1]},gt(V[1])]);break;case Qt:(function(){var T,et=1,ht=2,Tt=3,Rt=4,mt=[[],[]],K=[];function qt(Yt){return Yt===et?Tt:Yt===ht?Rt:Yt===Tt?et:ht}function we(Yt){return Yt===ht||Yt===Rt?"x":"y"}function Dt(Yt,Ot,kt){var Zt={x:Yt.x,y:Yt.y};if(kt){if(kt===qt(Yt.dirId))throw new Error("Invalid dirId: "+kt);Zt.dirId=kt}else Zt.dirId=Yt.dirId;return Zt.dirId===et?Zt.y-=Ot:Zt.dirId===ht?Zt.x+=Ot:Zt.dirId===Tt?Zt.y+=Ot:Zt.x-=Ot,Zt}function Kt(Yt,Ot){return Ot.dirId===et?Yt.y<=Ot.y:Ot.dirId===ht?Yt.x>=Ot.x:Ot.dirId===Tt?Yt.y>=Ot.y:Yt.x<=Ot.x}function Re(Yt,Ot){return Ot.dirId===et||Ot.dirId===Tt?Yt.x===Ot.x:Yt.y===Ot.y}function Oe(Yt){return Yt[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function Ee(Yt,Ot,kt){return Math.abs(Ot[kt]-Yt[kt])}function fn(Yt,Ot,kt){return kt==="x"?Yt.x<Ot.x?ht:Rt:Yt.y<Ot.y?Tt:et}function $i(){var Yt,Ot,kt,Zt,Ct=[Kt(K[1],K[0]),Kt(K[0],K[1])],ee=[we(K[0].dirId),we(K[1].dirId)];if(ee[0]===ee[1]){if(Ct[0]&&Ct[1])return Re(K[1],K[0])||(K[0][ee[0]]===K[1][ee[1]]?(mt[0].push(K[0]),mt[1].push(K[1])):(Yt=K[0][ee[0]]+(K[1][ee[1]]-K[0][ee[0]])/2,mt[0].push(Dt(K[0],Math.abs(Yt-K[0][ee[0]]))),mt[1].push(Dt(K[1],Math.abs(Yt-K[1][ee[1]]))))),!1;Ct[0]!==Ct[1]?(Ot=Oe(Ct),(kt=Ee(K[Ot.notContain],K[Ot.contain],ee[Ot.notContain]))<mn&&(K[Ot.notContain]=Dt(K[Ot.notContain],mn-kt)),mt[Ot.notContain].push(K[Ot.notContain]),K[Ot.notContain]=Dt(K[Ot.notContain],mn,Re(K[Ot.contain],K[Ot.notContain])?ee[Ot.notContain]==="x"?Tt:ht:fn(K[Ot.notContain],K[Ot.contain],ee[Ot.notContain]==="x"?"y":"x"))):(kt=Ee(K[0],K[1],ee[0]==="x"?"y":"x"),mt.forEach(function(Be,Ae){var Gn=Ae===0?1:0;Be.push(K[Ae]),K[Ae]=Dt(K[Ae],mn,2*mn<=kt?fn(K[Ae],K[Gn],ee[Ae]==="x"?"y":"x"):ee[Ae]==="x"?Tt:ht)}))}else{if(Ct[0]&&Ct[1])return Re(K[1],K[0])?mt[1].push(K[1]):Re(K[0],K[1])?mt[0].push(K[0]):mt[0].push(ee[0]==="x"?{x:K[1].x,y:K[0].y}:{x:K[0].x,y:K[1].y}),!1;Ct[0]!==Ct[1]?(Ot=Oe(Ct),mt[Ot.notContain].push(K[Ot.notContain]),K[Ot.notContain]=Dt(K[Ot.notContain],mn,Ee(K[Ot.notContain],K[Ot.contain],ee[Ot.contain])>=mn?fn(K[Ot.notContain],K[Ot.contain],ee[Ot.contain]):K[Ot.contain].dirId)):(Zt=[{x:K[0].x,y:K[0].y},{x:K[1].x,y:K[1].y}],mt.forEach(function(Be,Ae){var Gn=Ae===0?1:0,Wn=Ee(Zt[Ae],Zt[Gn],ee[Ae]);Wn<mn&&(K[Ae]=Dt(K[Ae],mn-Wn)),Be.push(K[Ae]),K[Ae]=Dt(K[Ae],mn,fn(K[Ae],K[Gn],ee[Gn]))}))}return!0}for(V.forEach(function(Yt,Ot){var kt,Zt=gt(Yt),Ct=g[Ot];kt=Array.isArray(Ct)?Ct[0]<0?[Rt,-Ct[0]]:0<Ct[0]?[ht,Ct[0]]:Ct[1]<0?[et,-Ct[1]]:0<Ct[1]?[Tt,Ct[1]]:[Yt.socketId,0]:typeof Ct!="number"?[Yt.socketId,mn]:0<=Ct?[Yt.socketId,Ct]:[qt(Yt.socketId),-Ct],Zt.dirId=kt[0],Ct=kt[1],mt[Ot].push(Zt),K[Ot]=Dt(Zt,Ct)});$i(););mt[1].reverse(),mt[0].concat(mt[1]).forEach(function(Yt,Ot){var kt={x:Yt.x,y:Yt.y};0<Ot&&y.push([T,kt]),T=kt})})()}H=[],N.position_plugOverheadSE.forEach(function(T,et){var ht,Tt,Rt,mt,K,qt,we,Dt,Kt,Re,Oe,Ee=!et;0<T?(ht=y[Tt=Ee?0:y.length-1]).length===2?(H[Tt]=H[Tt]||zn.apply(null,ht),H[Tt]>Oi&&(H[Tt]-T<Oi&&(T=H[Tt]-Oi),Rt=us(ht[0],ht[1],(Ee?T:H[Tt]-T)/H[Tt]),y[Tt]=Ee?[Rt,ht[1]]:[ht[0],Rt],H[Tt]-=T)):(H[Tt]=H[Tt]||Ni.apply(null,ht),H[Tt]>Oi&&(H[Tt]-T<Oi&&(T=H[Tt]-Oi),Rt=Li(ht[0],ht[1],ht[2],ht[3],Us(ht[0],ht[1],ht[2],ht[3],Ee?T:H[Tt]-T)),Ee?(mt=ht[0],K=Rt.toP1):(mt=ht[3],K=Rt.fromP2),qt=Math.atan2(mt.y-Rt.y,Rt.x-mt.x),we=zn(Rt,K),Rt.x=mt.x+Math.cos(qt)*T,Rt.y=mt.y+Math.sin(qt)*T*-1,K.x=Rt.x+Math.cos(qt)*we,K.y=Rt.y+Math.sin(qt)*we*-1,y[Tt]=Ee?[Rt,Rt.toP1,Rt.toP2,ht[3]]:[ht[0],Rt.fromP1,Rt.fromP2,Rt],H[Tt]=null)):T<0&&(ht=y[Tt=Ee?0:y.length-1],Dt=V[et].socketId,Kt=Dt===it||Dt===z?"x":"y",T<(Oe=-m[et][Kt==="x"?"width":"height"])&&(T=Oe),Re=T*(Dt===it||Dt===P?-1:1),ht.length===2?ht[Ee?0:ht.length-1][Kt]+=Re:(Ee?[0,1]:[ht.length-2,ht.length-1]).forEach(function(fn){ht[fn][Kt]+=Re}),H[Tt]=null)}),q.position_socketXYSE=rn(V),q.position_plugOverheadSE=rn(N.position_plugOverheadSE),q.position_path=N.position_path,q.position_lineStrokeWidth=N.position_lineStrokeWidth,q.position_socketGravitySE=rn(g),vt=!0,h.events.apl_position&&h.events.apl_position.forEach(function(T){T(h,y)})}return vt}function Vi(h,g){g!==h.isShown&&(!!g!=!!h.isShown&&(h.svg.style.visibility=g?"":"hidden"),h.isShown=g,h.events&&h.events.svgShow&&h.events.svgShow.forEach(function(m){m(h,g)}))}function Hn(h,g){var m,y,E,k,j,F,H,C,M,Z,R,O,D,B,Q,nt,ut,st,Y,N,q,V,vt,xt,gt,T,et,ht,Tt,Rt,mt,K,qt,we,Dt,Kt,Re,Oe,Ee,fn,$i,Yt,Ot,kt,Zt,Ct,ee,Be,Ae,Gn,Wn,Nr,Bt={};g.line&&(Bt.line=(y=(m=h).options,E=m.curStats,k=m.events,j=!1,j=Et(m,E,"line_color",y.lineColor,k.cur_line_color)||j,j=Et(m,E,"line_colorTra",li(E.line_color)[0]<1)||j,j=Et(m,E,"line_strokeWidth",y.lineSize,k.cur_line_strokeWidth)||j)),(g.plug||Bt.line)&&(Bt.plug=(H=(F=h).options,C=F.curStats,M=F.events,Z=!1,[0,1].forEach(function(W){var zt,De,ye,Ve,br,zo,Ys,hi,Ge=H.plugSE[W];Z=Et(F,C.plug_enabledSE,W,Ge!==He)||Z,Z=Et(F,C.plug_plugSE,W,Ge)||Z,Z=Et(F,C.plug_colorSE,W,hi=H.plugColorSE[W]||C.line_color,M.cur_plug_colorSE)||Z,Z=Et(F,C.plug_colorTraSE,W,li(hi)[0]<1)||Z,Ge!==He&&(Ve=De=(zt=mr[wt[Ge]]).widthR*H.plugSizeSE[W],br=ye=zt.heightR*H.plugSizeSE[W],me&&(Ve*=C.line_strokeWidth,br*=C.line_strokeWidth),Z=Et(F,C.plug_markerWidthSE,W,Ve)||Z,Z=Et(F,C.plug_markerHeightSE,W,br)||Z,C.capsMaskMarker_markerWidthSE[W]=De,C.capsMaskMarker_markerHeightSE[W]=ye),C.plugOutline_plugSE[W]=C.capsMaskMarker_plugSE[W]=Ge,C.plug_enabledSE[W]?(hi=C.line_strokeWidth/Pn.lineSize*H.plugSizeSE[W],C.position_plugOverheadSE[W]=zt.overhead*hi,C.viewBox_plugBCircleSE[W]=zt.bCircle*hi,zo=zt.sideLen*hi,Ys=zt.backLen*hi):(C.position_plugOverheadSE[W]=-C.line_strokeWidth/2,C.viewBox_plugBCircleSE[W]=zo=Ys=0),Et(F,C.attach_plugSideLenSE,W,zo,M.cur_attach_plugSideLenSE),Et(F,C.attach_plugBackLenSE,W,Ys,M.cur_attach_plugBackLenSE),C.capsMaskAnchor_enabledSE[W]=!C.plug_enabledSE[W]}),Z=Et(F,C,"plug_enabled",C.plug_enabledSE[0]||C.plug_enabledSE[1])||Z)),(g.lineOutline||Bt.line)&&(Bt.lineOutline=(D=(R=h).options,B=R.curStats,Q=!1,Q=Et(R,B,"lineOutline_enabled",D.lineOutlineEnabled)||Q,Q=Et(R,B,"lineOutline_color",D.lineOutlineColor)||Q,Q=Et(R,B,"lineOutline_colorTra",li(B.lineOutline_color)[0]<1)||Q,O=B.line_strokeWidth*D.lineOutlineSize,Q=Et(R,B,"lineOutline_strokeWidth",B.line_strokeWidth-2*O)||Q,Q=Et(R,B,"lineOutline_inStrokeWidth",B.lineOutline_colorTra?B.lineOutline_strokeWidth+2*Pi:B.line_strokeWidth-O)||Q)),(g.plugOutline||Bt.line||Bt.plug||Bt.lineOutline)&&(Bt.plugOutline=(ut=(nt=h).options,st=nt.curStats,Y=!1,[0,1].forEach(function(W){var zt,De=st.plugOutline_plugSE[W],ye=De!==He?mr[wt[De]]:null;Y=Et(nt,st.plugOutline_enabledSE,W,ut.plugOutlineEnabledSE[W]&&st.plug_enabled&&st.plug_enabledSE[W]&&!!ye&&!!ye.outlineBase)||Y,Y=Et(nt,st.plugOutline_colorSE,W,zt=ut.plugOutlineColorSE[W]||st.lineOutline_color)||Y,Y=Et(nt,st.plugOutline_colorTraSE,W,li(zt)[0]<1)||Y,ye&&ye.outlineBase&&((zt=ut.plugOutlineSizeSE[W])>ye.outlineMax&&(zt=ye.outlineMax),zt*=2*ye.outlineBase,Y=Et(nt,st.plugOutline_strokeWidthSE,W,zt)||Y,Y=Et(nt,st.plugOutline_inStrokeWidthSE,W,st.plugOutline_colorTraSE[W]?zt-Pi/(st.line_strokeWidth/Pn.lineSize)/ut.plugSizeSE[W]*2:zt/2)||Y)}),Y)),(g.faces||Bt.line||Bt.plug||Bt.lineOutline||Bt.plugOutline)&&(Bt.faces=(V=(N=h).curStats,vt=N.aplStats,xt=N.events,gt=!1,!V.line_altColor&&Et(N,vt,"line_color",q=V.line_color,xt.apl_line_color)&&(N.lineFace.style.stroke=q,gt=!0),Et(N,vt,"line_strokeWidth",q=V.line_strokeWidth,xt.apl_line_strokeWidth)&&(N.lineShape.style.strokeWidth=q+"px",gt=!0,(Mr||yn)&&(Fe(N,N.lineShape),yn&&(Fe(N,N.lineFace),Fe(N,N.lineMaskCaps)))),Et(N,vt,"lineOutline_enabled",q=V.lineOutline_enabled,xt.apl_lineOutline_enabled)&&(N.lineOutlineFace.style.display=q?"inline":"none",gt=!0),V.lineOutline_enabled&&(Et(N,vt,"lineOutline_color",q=V.lineOutline_color,xt.apl_lineOutline_color)&&(N.lineOutlineFace.style.stroke=q,gt=!0),Et(N,vt,"lineOutline_strokeWidth",q=V.lineOutline_strokeWidth,xt.apl_lineOutline_strokeWidth)&&(N.lineOutlineMaskShape.style.strokeWidth=q+"px",gt=!0,yn&&(Fe(N,N.lineOutlineMaskCaps),Fe(N,N.lineOutlineFace))),Et(N,vt,"lineOutline_inStrokeWidth",q=V.lineOutline_inStrokeWidth,xt.apl_lineOutline_inStrokeWidth)&&(N.lineMaskShape.style.strokeWidth=q+"px",gt=!0,yn&&(Fe(N,N.lineOutlineMaskCaps),Fe(N,N.lineOutlineFace)))),Et(N,vt,"plug_enabled",q=V.plug_enabled,xt.apl_plug_enabled)&&(N.plugsFace.style.display=q?"inline":"none",gt=!0),V.plug_enabled&&[0,1].forEach(function(W){var zt=V.plug_plugSE[W],De=zt!==He?mr[wt[zt]]:null,ye=hl(W,De);Et(N,vt.plug_enabledSE,W,q=V.plug_enabledSE[W],xt.apl_plug_enabledSE)&&(N.plugsFace.style[ye.prop]=q?"url(#"+N.plugMarkerIdSE[W]+")":"none",gt=!0),V.plug_enabledSE[W]&&(Et(N,vt.plug_plugSE,W,zt,xt.apl_plug_plugSE)&&(N.plugFaceSE[W].href.baseVal="#"+De.elmId,Hs(N,N.plugMarkerSE[W],ye.orient,De.bBox,N.svg,N.plugMarkerShapeSE[W],N.plugsFace),gt=!0,Mr&&Fe(N,N.plugsFace)),Et(N,vt.plug_colorSE,W,q=V.plug_colorSE[W],xt.apl_plug_colorSE)&&(N.plugFaceSE[W].style.fill=q,gt=!0,(ss||me||yn)&&!V.line_colorTra&&Fe(N,yn?N.lineMaskCaps:N.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(Ve){var br="plug_"+Ve+"SE";Et(N,vt[br],W,q=V[br][W],xt["apl_"+br])&&(N.plugMarkerSE[W][Ve].baseVal.value=q,gt=!0)}),Et(N,vt.plugOutline_enabledSE,W,q=V.plugOutline_enabledSE[W],xt.apl_plugOutline_enabledSE)&&(q?(N.plugFaceSE[W].style.mask="url(#"+N.plugMaskIdSE[W]+")",N.plugOutlineFaceSE[W].style.display="inline"):(N.plugFaceSE[W].style.mask="none",N.plugOutlineFaceSE[W].style.display="none"),gt=!0),V.plugOutline_enabledSE[W]&&(Et(N,vt.plugOutline_plugSE,W,zt,xt.apl_plugOutline_plugSE)&&(N.plugOutlineFaceSE[W].href.baseVal=N.plugMaskShapeSE[W].href.baseVal=N.plugOutlineMaskShapeSE[W].href.baseVal="#"+De.elmId,[N.plugMaskSE[W],N.plugOutlineMaskSE[W]].forEach(function(Ve){Ve.x.baseVal.value=De.bBox.left,Ve.y.baseVal.value=De.bBox.top,Ve.width.baseVal.value=De.bBox.width,Ve.height.baseVal.value=De.bBox.height}),gt=!0),Et(N,vt.plugOutline_colorSE,W,q=V.plugOutline_colorSE[W],xt.apl_plugOutline_colorSE)&&(N.plugOutlineFaceSE[W].style.fill=q,gt=!0,yn&&(Fe(N,N.lineMaskCaps),Fe(N,N.lineOutlineMaskCaps))),Et(N,vt.plugOutline_strokeWidthSE,W,q=V.plugOutline_strokeWidthSE[W],xt.apl_plugOutline_strokeWidthSE)&&(N.plugOutlineMaskShapeSE[W].style.strokeWidth=q+"px",gt=!0),Et(N,vt.plugOutline_inStrokeWidthSE,W,q=V.plugOutline_inStrokeWidthSE[W],xt.apl_plugOutline_inStrokeWidthSE)&&(N.plugMaskShapeSE[W].style.strokeWidth=q+"px",gt=!0)))}),gt)),(g.position||Bt.line||Bt.plug)&&(Bt.position=$u(h)),(g.path||Bt.position)&&(Bt.path=(ht=(T=h).curStats,Tt=T.aplStats,Rt=T.pathList.animVal||T.pathList.baseVal,mt=ht.path_edge,K=!1,Rt&&(mt.x1=mt.x2=Rt[0][0].x,mt.y1=mt.y2=Rt[0][0].y,ht.path_pathData=et=Bo(Rt,function(W){W.x<mt.x1&&(mt.x1=W.x),W.y<mt.y1&&(mt.y1=W.y),W.x>mt.x2&&(mt.x2=W.x),W.y>mt.y2&&(mt.y2=W.y)}),zs(et,Tt.path_pathData)&&(T.linePath.setPathData(et),Tt.path_pathData=et,K=!0,yn?(Fe(T,T.plugsFace),Fe(T,T.lineMaskCaps)):Mr&&Fe(T,T.linePath),T.events.apl_path&&T.events.apl_path.forEach(function(W){W(T,et)}))),K)),Bt.viewBox=(Kt=(qt=h).curStats,Re=qt.aplStats,Oe=Kt.path_edge,Ee=Kt.viewBox_bBox,fn=Re.viewBox_bBox,$i=qt.svg.viewBox.baseVal,Yt=qt.svg.style,Ot=!1,we=Math.max(Kt.line_strokeWidth/2,Kt.viewBox_plugBCircleSE[0]||0,Kt.viewBox_plugBCircleSE[1]||0),Dt={x1:Oe.x1-we,y1:Oe.y1-we,x2:Oe.x2+we,y2:Oe.y2+we},qt.events.new_edge4viewBox&&qt.events.new_edge4viewBox.forEach(function(W){W(qt,Dt)}),Ee.x=Kt.lineMask_x=Kt.lineOutlineMask_x=Kt.maskBGRect_x=Dt.x1,Ee.y=Kt.lineMask_y=Kt.lineOutlineMask_y=Kt.maskBGRect_y=Dt.y1,Ee.width=Dt.x2-Dt.x1,Ee.height=Dt.y2-Dt.y1,["x","y","width","height"].forEach(function(W){var zt;(zt=Ee[W])!==fn[W]&&($i[W]=fn[W]=zt,Yt[cn[W]]=zt+(W==="x"||W==="y"?qt.bodyOffset[W]:0)+"px",Ot=!0)}),Ot),Bt.mask=(Ct=(kt=h).curStats,ee=kt.aplStats,Be=!1,Ct.plug_enabled?[0,1].forEach(function(W){Ct.capsMaskMarker_enabledSE[W]=Ct.plug_enabledSE[W]&&Ct.plug_colorTraSE[W]||Ct.plugOutline_enabledSE[W]&&Ct.plugOutline_colorTraSE[W]}):Ct.capsMaskMarker_enabledSE[0]=Ct.capsMaskMarker_enabledSE[1]=!1,Ct.capsMaskMarker_enabled=Ct.capsMaskMarker_enabledSE[0]||Ct.capsMaskMarker_enabledSE[1],Ct.lineMask_outlineMode=Ct.lineOutline_enabled,Ct.caps_enabled=Ct.capsMaskMarker_enabled||Ct.capsMaskAnchor_enabledSE[0]||Ct.capsMaskAnchor_enabledSE[1],Ct.lineMask_enabled=Ct.caps_enabled||Ct.lineMask_outlineMode,(Ct.lineMask_enabled&&!Ct.lineMask_outlineMode||Ct.lineOutline_enabled)&&["x","y"].forEach(function(W){var zt="maskBGRect_"+W;Et(kt,ee,zt,Zt=Ct[zt])&&(kt.maskBGRect[W].baseVal.value=Zt,Be=!0)}),Et(kt,ee,"lineMask_enabled",Zt=Ct.lineMask_enabled)&&(kt.lineFace.style.mask=Zt?"url(#"+kt.lineMaskId+")":"none",Be=!0,me&&Fe(kt,kt.lineMask)),Ct.lineMask_enabled&&(Et(kt,ee,"lineMask_outlineMode",Zt=Ct.lineMask_outlineMode)&&(Zt?(kt.lineMaskBG.style.display="none",kt.lineMaskShape.style.display="inline"):(kt.lineMaskBG.style.display="inline",kt.lineMaskShape.style.display="none"),Be=!0),["x","y"].forEach(function(W){var zt="lineMask_"+W;Et(kt,ee,zt,Zt=Ct[zt])&&(kt.lineMask[W].baseVal.value=Zt,Be=!0)}),Et(kt,ee,"caps_enabled",Zt=Ct.caps_enabled)&&(kt.lineMaskCaps.style.display=kt.lineOutlineMaskCaps.style.display=Zt?"inline":"none",Be=!0,me&&Fe(kt,kt.capsMaskLine)),Ct.caps_enabled&&([0,1].forEach(function(W){var zt;Et(kt,ee.capsMaskAnchor_enabledSE,W,Zt=Ct.capsMaskAnchor_enabledSE[W])&&(kt.capsMaskAnchorSE[W].style.display=Zt?"inline":"none",Be=!0,me&&Fe(kt,kt.lineMask)),Ct.capsMaskAnchor_enabledSE[W]&&(zs(zt=Ct.capsMaskAnchor_pathDataSE[W],ee.capsMaskAnchor_pathDataSE[W])&&(kt.capsMaskAnchorSE[W].setPathData(zt),ee.capsMaskAnchor_pathDataSE[W]=zt,Be=!0),Et(kt,ee.capsMaskAnchor_strokeWidthSE,W,Zt=Ct.capsMaskAnchor_strokeWidthSE[W])&&(kt.capsMaskAnchorSE[W].style.strokeWidth=Zt+"px",Be=!0))}),Et(kt,ee,"capsMaskMarker_enabled",Zt=Ct.capsMaskMarker_enabled)&&(kt.capsMaskLine.style.display=Zt?"inline":"none",Be=!0),Ct.capsMaskMarker_enabled&&[0,1].forEach(function(W){var zt=Ct.capsMaskMarker_plugSE[W],De=zt!==He?mr[wt[zt]]:null,ye=hl(W,De);Et(kt,ee.capsMaskMarker_enabledSE,W,Zt=Ct.capsMaskMarker_enabledSE[W])&&(kt.capsMaskLine.style[ye.prop]=Zt?"url(#"+kt.lineMaskMarkerIdSE[W]+")":"none",Be=!0),Ct.capsMaskMarker_enabledSE[W]&&(Et(kt,ee.capsMaskMarker_plugSE,W,zt)&&(kt.capsMaskMarkerShapeSE[W].href.baseVal="#"+De.elmId,Hs(kt,kt.capsMaskMarkerSE[W],ye.orient,De.bBox,kt.svg,kt.capsMaskMarkerShapeSE[W],kt.capsMaskLine),Be=!0,Mr&&(Fe(kt,kt.capsMaskLine),Fe(kt,kt.lineFace))),["markerWidth","markerHeight"].forEach(function(Ve){var br="capsMaskMarker_"+Ve+"SE";Et(kt,ee[br],W,Zt=Ct[br][W])&&(kt.capsMaskMarkerSE[W][Ve].baseVal.value=Zt,Be=!0)}))}))),Ct.lineOutline_enabled&&["x","y"].forEach(function(W){var zt="lineOutlineMask_"+W;Et(kt,ee,zt,Zt=Ct[zt])&&(kt.lineOutlineMask[W].baseVal.value=Zt,Be=!0)}),Be),g.effect&&(Wn=(Ae=h).curStats,Nr=Ae.aplStats,Object.keys(e).forEach(function(W){var zt=e[W],De=W+"_enabled",ye=W+"_options",Ve=Wn[ye];Et(Ae,Nr,De,Gn=Wn[De])?(Gn&&(Nr[ye]=rn(Ve)),zt[Gn?"init":"remove"](Ae)):Gn&&Lr(Ve,Nr[ye])&&(zt.remove(Ae),Nr[De]=!0,Nr[ye]=rn(Ve),zt.init(Ae))})),(ss||me)&&Bt.line&&!Bt.path&&Fe(h,h.lineShape),ss&&Bt.plug&&!Bt.line&&Fe(h,h.plugsFace),ul(h)}function js(h,g){return{duration:vn(h.duration)&&0<h.duration?h.duration:g.duration,timing:tn.validTiming(h.timing)?h.timing:rn(g.timing)}}function Gs(h,g,m,y){var E,k=h.curStats,j=h.aplStats,F={};function H(){["show_on","show_effect","show_animOptions"].forEach(function(C){j[C]=k[C]})}k.show_on=g,m&&t[m]&&(k.show_effect=m,k.show_animOptions=js(un(y)?y:{},t[m].defaultAnimOptions)),F.show_on=k.show_on!==j.show_on,F.show_effect=k.show_effect!==j.show_effect,F.show_animOptions=Lr(k.show_animOptions,j.show_animOptions),F.show_effect||F.show_animOptions?k.show_inAnim?(E=F.show_effect?t[j.show_effect].stop(h,!0,!0):t[j.show_effect].stop(h),H(),t[j.show_effect].init(h,E)):F.show_on&&(j.show_effect&&F.show_effect&&t[j.show_effect].stop(h,!0,!0),H(),t[j.show_effect].init(h)):F.show_on&&(H(),t[j.show_effect].start(h))}function Uo(h,g,m){var y={props:h,optionName:m};return!(!(h.attachments.indexOf(g)<0)||g.conf.bind&&!g.conf.bind(g,y))&&(h.attachments.push(g),g.boundTargets.push(y),!0)}function Ws(h,g,m){var y=h.attachments.indexOf(g);-1<y&&h.attachments.splice(y,1),g.boundTargets.some(function(E,k){return E.props===h&&(g.conf.unbind&&g.conf.unbind(g,E),y=k,!0)})&&(g.boundTargets.splice(y,1),m||Fi(function(){g.boundTargets.length||o(g)}))}function Ks(h,g){var m,y,E=h.options,k={};function j(C,M,Z,R,O){var D={};return Z?R!=null?(D.container=C[Z],D.key=R):(D.container=C,D.key=Z):(D.container=C,D.key=M),D.default=O,D.acceptsAuto=D.default==null,D}function F(C,M,Z,R,O,D,B){var Q,nt,ut,st=j(C,Z,O,D,B);return M[Z]!=null&&(nt=(M[Z]+"").toLowerCase())&&(st.acceptsAuto&&nt===re||(ut=R[nt]))&&ut!==st.container[st.key]&&(st.container[st.key]=ut,Q=!0),st.container[st.key]!=null||st.acceptsAuto||(st.container[st.key]=st.default,Q=!0),Q}function H(C,M,Z,R,O,D,B,Q,nt){var ut,st,Y,N,q=j(C,Z,O,D,B);if(!R){if(q.default==null)throw new Error("Invalid `type`: "+Z);R=typeof q.default}return M[Z]!=null&&(q.acceptsAuto&&(M[Z]+"").toLowerCase()===re||(Y=st=M[Z],((N=R)==="number"?vn(Y):typeof Y===N)&&(st=nt&&R==="string"&&st?st.trim():st,1)&&(!Q||Q(st))))&&st!==q.container[q.key]&&(q.container[q.key]=st,ut=!0),q.container[q.key]!=null||q.acceptsAuto||(q.container[q.key]=q.default,ut=!0),ut}if(g=g||{},["start","end"].forEach(function(C,M){var Z=g[C],R=!1;if(Z&&(ci(Z)||(R=i(Z,"anchor")))&&Z!==E.anchorSE[M]){if(h.optionIsAttach.anchorSE[M]!==!1&&Ws(h,Ne[E.anchorSE[M]._id]),R&&!Uo(h,Ne[Z._id],C))throw new Error("Can't bind attachment");E.anchorSE[M]=Z,h.optionIsAttach.anchorSE[M]=R,y=k.position=!0}}),!E.anchorSE[0]||!E.anchorSE[1]||E.anchorSE[0]===E.anchorSE[1])throw new Error("`start` and `end` are required.");y&&(m=function(C,M){var Z,R,O;if(!(Z=cs(C))||!(R=cs(M)))throw new Error("Cannot get frames.");return Z.length&&R.length&&(Z.reverse(),R.reverse(),Z.some(function(D){return R.some(function(B){return B===D&&(O=B.contentWindow,!0)})})),O||window}(h.optionIsAttach.anchorSE[0]!==!1?Ne[E.anchorSE[0]._id].element:E.anchorSE[0],h.optionIsAttach.anchorSE[1]!==!1?Ne[E.anchorSE[1]._id].element:E.anchorSE[1]))!==h.baseWindow&&(function(C,M){var Z,R,O,D,B,Q,nt,ut,st,Y,N=C.aplStats,q=M.document,V=A+"-"+C._id;function vt(T){var et=R.appendChild(q.createElementNS(Lt,"mask"));return et.id=T,et.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[et.x,et.y,et.width,et.height].forEach(function(ht){ht.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),et}function xt(T){var et=R.appendChild(q.createElementNS(Lt,"marker"));return et.id=T,et.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,et.viewBox.baseVal||et.setAttribute("viewBox","0 0 0 0"),et}function gt(T){return[T.width,T.height].forEach(function(et){et.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),T}C.pathList={},Qe(N,oi),Object.keys(e).forEach(function(T){var et=T+"_enabled";N[et]&&(e[T].remove(C),N[et]=!1)}),C.baseWindow&&C.svg&&C.baseWindow.document.body.removeChild(C.svg),dl(C.baseWindow=M),C.bodyOffset=fl(M),C.svg=Z=q.createElementNS(Lt,"svg"),Z.className.baseVal=A,Z.viewBox.baseVal||Z.setAttribute("viewBox","0 0 0 0"),C.defs=R=Z.appendChild(q.createElementNS(Lt,"defs")),C.linePath=D=R.appendChild(q.createElementNS(Lt,"path")),D.id=B=V+"-line-path",D.className.baseVal=A+"-line-path",me&&(D.style.fill="none"),C.lineShape=D=R.appendChild(q.createElementNS(Lt,"use")),D.id=Q=V+"-line-shape",D.href.baseVal="#"+B,(O=R.appendChild(q.createElementNS(Lt,"g"))).id=nt=V+"-caps",C.capsMaskAnchorSE=[0,1].map(function(){var T=O.appendChild(q.createElementNS(Lt,"path"));return T.className.baseVal=A+"-caps-mask-anchor",T}),C.lineMaskMarkerIdSE=[V+"-caps-mask-marker-0",V+"-caps-mask-marker-1"],C.capsMaskMarkerSE=[0,1].map(function(T){return xt(C.lineMaskMarkerIdSE[T])}),C.capsMaskMarkerShapeSE=[0,1].map(function(T){var et=C.capsMaskMarkerSE[T].appendChild(q.createElementNS(Lt,"use"));return et.className.baseVal=A+"-caps-mask-marker-shape",et}),C.capsMaskLine=D=O.appendChild(q.createElementNS(Lt,"use")),D.className.baseVal=A+"-caps-mask-line",D.href.baseVal="#"+Q,C.maskBGRect=D=gt(R.appendChild(q.createElementNS(Lt,"rect"))),D.id=ut=V+"-mask-bg-rect",D.className.baseVal=A+"-mask-bg-rect",me&&(D.style.fill="white"),C.lineMask=gt(vt(C.lineMaskId=V+"-line-mask")),C.lineMaskBG=D=C.lineMask.appendChild(q.createElementNS(Lt,"use")),D.href.baseVal="#"+ut,C.lineMaskShape=D=C.lineMask.appendChild(q.createElementNS(Lt,"use")),D.className.baseVal=A+"-line-mask-shape",D.href.baseVal="#"+B,D.style.display="none",C.lineMaskCaps=D=C.lineMask.appendChild(q.createElementNS(Lt,"use")),D.href.baseVal="#"+nt,C.lineOutlineMask=gt(vt(st=V+"-line-outline-mask")),(D=C.lineOutlineMask.appendChild(q.createElementNS(Lt,"use"))).href.baseVal="#"+ut,C.lineOutlineMaskShape=D=C.lineOutlineMask.appendChild(q.createElementNS(Lt,"use")),D.className.baseVal=A+"-line-outline-mask-shape",D.href.baseVal="#"+B,C.lineOutlineMaskCaps=D=C.lineOutlineMask.appendChild(q.createElementNS(Lt,"use")),D.href.baseVal="#"+nt,C.face=Z.appendChild(q.createElementNS(Lt,"g")),C.lineFace=D=C.face.appendChild(q.createElementNS(Lt,"use")),D.href.baseVal="#"+Q,C.lineOutlineFace=D=C.face.appendChild(q.createElementNS(Lt,"use")),D.href.baseVal="#"+Q,D.style.mask="url(#"+st+")",D.style.display="none",C.plugMaskIdSE=[V+"-plug-mask-0",V+"-plug-mask-1"],C.plugMaskSE=[0,1].map(function(T){return vt(C.plugMaskIdSE[T])}),C.plugMaskShapeSE=[0,1].map(function(T){var et=C.plugMaskSE[T].appendChild(q.createElementNS(Lt,"use"));return et.className.baseVal=A+"-plug-mask-shape",et}),Y=[],C.plugOutlineMaskSE=[0,1].map(function(T){return vt(Y[T]=V+"-plug-outline-mask-"+T)}),C.plugOutlineMaskShapeSE=[0,1].map(function(T){var et=C.plugOutlineMaskSE[T].appendChild(q.createElementNS(Lt,"use"));return et.className.baseVal=A+"-plug-outline-mask-shape",et}),C.plugMarkerIdSE=[V+"-plug-marker-0",V+"-plug-marker-1"],C.plugMarkerSE=[0,1].map(function(T){var et=xt(C.plugMarkerIdSE[T]);return me&&(et.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),et}),C.plugMarkerShapeSE=[0,1].map(function(T){return C.plugMarkerSE[T].appendChild(q.createElementNS(Lt,"g"))}),C.plugFaceSE=[0,1].map(function(T){return C.plugMarkerShapeSE[T].appendChild(q.createElementNS(Lt,"use"))}),C.plugOutlineFaceSE=[0,1].map(function(T){var et=C.plugMarkerShapeSE[T].appendChild(q.createElementNS(Lt,"use"));return et.style.mask="url(#"+Y[T]+")",et.style.display="none",et}),C.plugsFace=D=C.face.appendChild(q.createElementNS(Lt,"use")),D.className.baseVal=A+"-plugs-face",D.href.baseVal="#"+Q,D.style.display="none",C.curStats.show_inAnim?(C.isShown=1,t[N.show_effect].stop(C,!0)):C.isShown||(Z.style.visibility="hidden"),q.body.appendChild(Z),[0,1,2].forEach(function(T){var et,ht=C.options.labelSEM[T];ht&&i(ht,"label")&&(et=Ne[ht._id]).conf.initSvg&&et.conf.initSvg(et,C)})}(h,m),k.line=k.plug=k.lineOutline=k.plugOutline=k.faces=k.effect=!0),k.position=F(E,g,"path",Se,null,null,Pn.path)||k.position,k.position=F(E,g,"startSocket",tt,"socketSE",0)||k.position,k.position=F(E,g,"endSocket",tt,"socketSE",1)||k.position,[g.startSocketGravity,g.endSocketGravity].forEach(function(C,M){var Z,R,O=!1;C!=null&&(Array.isArray(C)?vn(C[0])&&vn(C[1])&&(O=[C[0],C[1]],Array.isArray(E.socketGravitySE[M])&&(Z=O,R=E.socketGravitySE[M],Z.length===R.length&&Z.every(function(D,B){return D===R[B]}))&&(O=!1)):((C+"").toLowerCase()===re?O=null:vn(C)&&0<=C&&(O=C),O===E.socketGravitySE[M]&&(O=!1)),O!==!1&&(E.socketGravitySE[M]=O,k.position=!0))}),k.line=H(E,g,"color",null,"lineColor",null,Pn.lineColor,null,!0)||k.line,k.line=H(E,g,"size",null,"lineSize",null,Pn.lineSize,function(C){return 0<C})||k.line,["startPlug","endPlug"].forEach(function(C,M){k.plug=F(E,g,C,yr,"plugSE",M,Pn.plugSE[M])||k.plug,k.plug=H(E,g,C+"Color","string","plugColorSE",M,null,null,!0)||k.plug,k.plug=H(E,g,C+"Size",null,"plugSizeSE",M,Pn.plugSizeSE[M],function(Z){return 0<Z})||k.plug}),k.lineOutline=H(E,g,"outline",null,"lineOutlineEnabled",null,Pn.lineOutlineEnabled)||k.lineOutline,k.lineOutline=H(E,g,"outlineColor",null,"lineOutlineColor",null,Pn.lineOutlineColor,null,!0)||k.lineOutline,k.lineOutline=H(E,g,"outlineSize",null,"lineOutlineSize",null,Pn.lineOutlineSize,function(C){return 0<C&&C<=.48})||k.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(C,M){k.plugOutline=H(E,g,C,null,"plugOutlineEnabledSE",M,Pn.plugOutlineEnabledSE[M])||k.plugOutline,k.plugOutline=H(E,g,C+"Color","string","plugOutlineColorSE",M,null,null,!0)||k.plugOutline,k.plugOutline=H(E,g,C+"Size",null,"plugOutlineSizeSE",M,Pn.plugOutlineSizeSE[M],function(Z){return 1<=Z})||k.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(C,M){var Z,R,O,D=g[C],B=E.labelSEM[M]&&!h.optionIsAttach.labelSEM[M]?Ne[E.labelSEM[M]._id].text:E.labelSEM[M],Q=!1;if((Z=typeof D=="string")&&(D=D.trim()),(Z||D&&(Q=i(D,"label")))&&D!==B){if(E.labelSEM[M]&&(Ws(h,Ne[E.labelSEM[M]._id]),E.labelSEM[M]=""),D){if(Q?(R=Ne[(O=D)._id]).boundTargets.slice().forEach(function(nt){R.conf.removeOption(R,nt)}):O=new r(n.captionLabel,[D]),!Uo(h,Ne[O._id],C))throw new Error("Can't bind attachment");E.labelSEM[M]=O}h.optionIsAttach.labelSEM[M]=Q}}),Object.keys(e).forEach(function(C){var M,Z,R=e[C],O=C+"_enabled",D=C+"_options";function B(nt){var ut={};return R.optionsConf.forEach(function(st){var Y=st[0],N=st[3];st[4]==null||ut[N]||(ut[N]=[]),(typeof Y=="function"?Y:Y==="id"?F:H).apply(null,[ut,nt].concat(st.slice(1)))}),ut}function Q(nt){var ut,st=C+"_animOptions";return nt.hasOwnProperty("animation")?un(nt.animation)?ut=h.curStats[st]=js(nt.animation,R.defaultAnimOptions):(ut=!!nt.animation,h.curStats[st]=ut?js({},R.defaultAnimOptions):null):(ut=!!R.defaultEnabled,h.curStats[st]=ut?js({},R.defaultAnimOptions):null),ut}g.hasOwnProperty(C)&&(M=g[C],un(M)?(h.curStats[O]=!0,Z=h.curStats[D]=B(M),R.anim&&(h.curStats[D].animation=Q(M))):(Z=h.curStats[O]=!!M)&&(h.curStats[D]=B({}),R.anim&&(h.curStats[D].animation=Q({}))),Lr(Z,E[C])&&(E[C]=Z,k.effect=!0))}),Hn(h,k)}function jn(h,g,m){var y={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Qe(y.curStats,oi),Qe(y.aplStats,oi),Object.keys(e).forEach(function(E){var k=e[E].stats;Qe(y.curStats,k),Qe(y.aplStats,k),y.options[E]=!1}),Qe(y.curStats,as),Qe(y.aplStats,as),y.curStats.show_effect=ll,y.curStats.show_animOptions=rn(t[ll].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ls}),y._id=this._id,hn[this._id]=y,arguments.length===1&&(m=h,h=null),m=m||{},(h||g)&&(m=rn(m),h&&(m.start=h),g&&(m.end=g)),y.isShown=y.aplStats.show_on=!m.hide,this.setOptions(m)}return e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(h){return 0<h}],["type","gap","number",null,null,null,function(h){return 0<h}]],init:function(h){Ye(h,"apl_line_strokeWidth",e.dash.update),h.lineFace.style.strokeDashoffset=0,e.dash.update(h)},remove:function(h){var g=h.curStats;je(h,"apl_line_strokeWidth",e.dash.update),g.dash_animId&&(tn.remove(g.dash_animId),g.dash_animId=null),h.lineFace.style.strokeDasharray="none",h.lineFace.style.strokeDashoffset=0,Qe(h.aplStats,e.dash.stats)},update:function(h){var g,m=h.curStats,y=h.aplStats,E=y.dash_options,k=!1;m.dash_len=E.len||2*y.line_strokeWidth,m.dash_gap=E.gap||y.line_strokeWidth,m.dash_maxOffset=m.dash_len+m.dash_gap,k=Et(h,y,"dash_len",m.dash_len)||k,(k=Et(h,y,"dash_gap",m.dash_gap)||k)&&(h.lineFace.style.strokeDasharray=y.dash_len+","+y.dash_gap),m.dash_animOptions?(k=Et(h,y,"dash_maxOffset",m.dash_maxOffset),y.dash_animOptions&&(k||Lr(m.dash_animOptions,y.dash_animOptions))&&(m.dash_animId&&(g=tn.stop(m.dash_animId),tn.remove(m.dash_animId)),y.dash_animOptions=null),y.dash_animOptions||(m.dash_animId=tn.add(function(j){return(1-j)*y.dash_maxOffset+"px"},function(j){h.lineFace.style.strokeDashoffset=j},m.dash_animOptions.duration,0,m.dash_animOptions.timing,!1,g),y.dash_animOptions=rn(m.dash_animOptions))):y.dash_animOptions&&(m.dash_animId&&(tn.remove(m.dash_animId),m.dash_animId=null),h.lineFace.style.strokeDashoffset=0,y.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(h){var g,m=h.baseWindow.document,y=h.defs,E=A+"-"+h._id+"-gradient";h.efc_gradient_gradient=g=y.appendChild(m.createElementNS(Lt,"linearGradient")),g.id=E,g.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[g.x1,g.y1,g.x2,g.y2].forEach(function(k){k.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),h.efc_gradient_stopSE=[0,1].map(function(k){var j=h.efc_gradient_gradient.appendChild(m.createElementNS(Lt,"stop"));try{j.offset.baseVal=k}catch(F){if(F.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw F;j.setAttribute("offset",k)}return j}),Ye(h,"cur_plug_colorSE",e.gradient.update),Ye(h,"apl_path",e.gradient.update),h.curStats.line_altColor=!0,h.lineFace.style.stroke="url(#"+E+")",e.gradient.update(h)},remove:function(h){h.efc_gradient_gradient&&(h.defs.removeChild(h.efc_gradient_gradient),h.efc_gradient_gradient=h.efc_gradient_stopSE=null),je(h,"cur_plug_colorSE",e.gradient.update),je(h,"apl_path",e.gradient.update),h.curStats.line_altColor=!1,h.lineFace.style.stroke=h.curStats.line_color,Qe(h.aplStats,e.gradient.stats)},update:function(h){var g,m,y=h.curStats,E=h.aplStats,k=E.gradient_options,j=h.pathList.animVal||h.pathList.baseVal;[0,1].forEach(function(F){y.gradient_colorSE[F]=k.colorSE[F]||y.plug_colorSE[F]}),m=j[0][0],y.gradient_pointSE[0]={x:m.x,y:m.y},m=(g=j[j.length-1])[g.length-1],y.gradient_pointSE[1]={x:m.x,y:m.y},[0,1].forEach(function(F){var H;Et(h,E.gradient_colorSE,F,H=y.gradient_colorSE[F])&&(me?(H=li(H),h.efc_gradient_stopSE[F].style.stopColor=H[1],h.efc_gradient_stopSE[F].style.stopOpacity=H[0]):h.efc_gradient_stopSE[F].style.stopColor=H),["x","y"].forEach(function(C){(H=y.gradient_pointSE[F][C])!==E.gradient_pointSE[F][C]&&(h.efc_gradient_gradient[C+(F+1)].baseVal.value=E.gradient_pointSE[F][C]=H)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(h){return 0<=h}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(h){return 0<=h&&h<=1}]],init:function(h){var g,m,y,E,k,j=h.baseWindow.document,F=h.defs,H=A+"-"+h._id+"-dropShadow",C=(g=j,m=H,k={},typeof d!="boolean"&&(d=!!window.SVGFEDropShadowElement&&!me),k.elmsAppend=[k.elmFilter=y=g.createElementNS(Lt,"filter")],y.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,y.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),y.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),y.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),y.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),y.id=m,d?(k.elmOffset=k.elmBlur=E=y.appendChild(g.createElementNS(Lt,"feDropShadow")),k.styleFlood=E.style):(k.elmBlur=y.appendChild(g.createElementNS(Lt,"feGaussianBlur")),k.elmOffset=E=y.appendChild(g.createElementNS(Lt,"feOffset")),E.result.baseVal="offsetblur",E=y.appendChild(g.createElementNS(Lt,"feFlood")),k.styleFlood=E.style,(E=y.appendChild(g.createElementNS(Lt,"feComposite"))).in2.baseVal="offsetblur",E.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(E=y.appendChild(g.createElementNS(Lt,"feMerge"))).appendChild(g.createElementNS(Lt,"feMergeNode")),E.appendChild(g.createElementNS(Lt,"feMergeNode")).in1.baseVal="SourceGraphic"),k);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(M){h["efc_dropShadow_"+M]=C[M]}),C.elmsAppend.forEach(function(M){F.appendChild(M)}),h.face.setAttribute("filter","url(#"+H+")"),Ye(h,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(h)},remove:function(h){var g=h.defs;h.efc_dropShadow_elmsAppend&&(h.efc_dropShadow_elmsAppend.forEach(function(m){g.removeChild(m)}),h.efc_dropShadow_elmFilter=h.efc_dropShadow_elmOffset=h.efc_dropShadow_elmBlur=h.efc_dropShadow_styleFlood=h.efc_dropShadow_elmsAppend=null),je(h,"new_edge4viewBox",e.dropShadow.adjustEdge),Hn(h,{}),h.face.removeAttribute("filter"),Qe(h.aplStats,e.dropShadow.stats)},update:function(h){var g,m,y=h.curStats,E=h.aplStats,k=E.dropShadow_options;y.dropShadow_dx=g=k.dx,Et(h,E,"dropShadow_dx",g)&&(h.efc_dropShadow_elmOffset.dx.baseVal=g,m=!0),y.dropShadow_dy=g=k.dy,Et(h,E,"dropShadow_dy",g)&&(h.efc_dropShadow_elmOffset.dy.baseVal=g,m=!0),y.dropShadow_blur=g=k.blur,Et(h,E,"dropShadow_blur",g)&&(h.efc_dropShadow_elmBlur.setStdDeviation(g,g),m=!0),m&&Hn(h,{}),y.dropShadow_color=g=k.color,Et(h,E,"dropShadow_color",g)&&(h.efc_dropShadow_styleFlood.floodColor=g),y.dropShadow_opacity=g=k.opacity,Et(h,E,"dropShadow_opacity",g)&&(h.efc_dropShadow_styleFlood.floodOpacity=g)},adjustEdge:function(h,g){var m,y,E=h.curStats,k=h.aplStats;E.dropShadow_dx!=null&&(m=3*E.dropShadow_blur,(y={x1:g.x1-m+E.dropShadow_dx,y1:g.y1-m+E.dropShadow_dy,x2:g.x2+m+E.dropShadow_dx,y2:g.y2+m+E.dropShadow_dy}).x1<g.x1&&(g.x1=y.x1),y.y1<g.y1&&(g.y1=y.y1),y.x2>g.x2&&(g.x2=y.x2),y.y2>g.y2&&(g.y2=y.y2),["x","y"].forEach(function(j){var F,H="dropShadow_"+j;E[H]=F=g[j+"1"],Et(h,k,H,F)&&(h.efc_dropShadow_elmFilter[j].baseVal.value=F)}))}}},Object.keys(e).forEach(function(h){var g=e[h],m=g.stats;m[h+"_enabled"]={iniValue:!1},m[h+"_options"]={hasProps:!0},g.anim&&(m[h+"_animOptions"]={},m[h+"_animId"]={})}),t={none:{defaultAnimOptions:{},init:function(h,g){var m=h.curStats;m.show_animId&&(tn.remove(m.show_animId),m.show_animId=null),t.none.start(h,g)},start:function(h,g){t.none.stop(h,!0)},stop:function(h,g,m){var y=h.curStats;return m=m??h.aplStats.show_on,y.show_inAnim=!1,g&&Vi(h,m),m?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(h,g){var m=h.curStats,y=h.aplStats;m.show_animId&&tn.remove(m.show_animId),m.show_animId=tn.add(function(E){return E},function(E,k){k?t.fade.stop(h,!0):(h.svg.style.opacity=E+"",yn&&(Fe(h,h.svg),ul(h)))},y.show_animOptions.duration,1,y.show_animOptions.timing,null,!1),t.fade.start(h,g)},start:function(h,g){var m,y=h.curStats;y.show_inAnim&&(m=tn.stop(y.show_animId)),Vi(h,1),y.show_inAnim=!0,tn.start(y.show_animId,!h.aplStats.show_on,g??m)},stop:function(h,g,m){var y,E=h.curStats;return m=m??h.aplStats.show_on,y=E.show_inAnim?tn.stop(E.show_animId):m?1:0,E.show_inAnim=!1,g&&(h.svg.style.opacity=m?"":"0",Vi(h,m)),y}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(h,g){var m=h.curStats,y=h.aplStats,E=h.pathList.baseVal,k=cl(E),j=k.segsLen,F=k.lenAll;m.show_animId&&tn.remove(m.show_animId),m.show_animId=tn.add(function(H){var C,M,Z,R,O=-1;if(H===0)M=[[E[0][0],E[0][0]]];else if(H===1)M=E;else{for(C=F*H,M=[];C>=j[++O];)M.push(E[O]),C-=j[O];C&&((Z=E[O]).length===2?M.push([Z[0],us(Z[0],Z[1],C/j[O])]):(R=Li(Z[0],Z[1],Z[2],Z[3],Us(Z[0],Z[1],Z[2],Z[3],C)),M.push([Z[0],R.fromP1,R.fromP2,R])))}return M},function(H,C){C?t.draw.stop(h,!0):(h.pathList.animVal=H,Hn(h,{path:!0}))},y.show_animOptions.duration,1,y.show_animOptions.timing,null,!1),t.draw.start(h,g)},start:function(h,g){var m,y=h.curStats;y.show_inAnim&&(m=tn.stop(y.show_animId)),Vi(h,1),y.show_inAnim=!0,Ye(h,"apl_position",t.draw.update),tn.start(y.show_animId,!h.aplStats.show_on,g??m)},stop:function(h,g,m){var y,E=h.curStats;return m=m??h.aplStats.show_on,y=E.show_inAnim?tn.stop(E.show_animId):m?1:0,E.show_inAnim=!1,g&&(h.pathList.animVal=m?null:[[h.pathList.baseVal[0][0],h.pathList.baseVal[0][0]]],Hn(h,{path:!0}),Vi(h,m)),y},update:function(h){je(h,"apl_position",t.draw.update),h.curStats.show_inAnim?t.draw.init(h,t.draw.stop(h)):h.aplStats.show_animOptions={}}}},function(){function h(g){return function(m){var y={};y[g]=m,this.setOptions(y)}}[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(g){var m=g[0],y=g[1],E=g[2];Object.defineProperty(jn.prototype,m,{get:function(){var k=E!=null?hn[this._id].options[y][E]:y?hn[this._id].options[y]:hn[this._id].options[m];return k==null?re:rn(k)},set:h(m),enumerable:!0})}),[["path",Se],["startSocket",tt,"socketSE",0],["endSocket",tt,"socketSE",1],["startPlug",yr,"plugSE",0],["endPlug",yr,"plugSE",1]].forEach(function(g){var m=g[0],y=g[1],E=g[2],k=g[3];Object.defineProperty(jn.prototype,m,{get:function(){var j,F=k!=null?hn[this._id].options[E][k]:E?hn[this._id].options[E]:hn[this._id].options[m];return F?Object.keys(y).some(function(H){return y[H]===F&&(j=H,!0)})?j:new Error("It's broken"):re},set:h(m),enumerable:!0})}),Object.keys(e).forEach(function(g){var m=e[g];Object.defineProperty(jn.prototype,g,{get:function(){var y,E,k=hn[this._id].options[g];return un(k)?(y=k,E=m.optionsConf.reduce(function(j,F){var H,C=F[0],M=F[1],Z=F[2],R=F[3],O=F[4],D=O!=null?y[R][O]:R?y[R]:y[M];return j[M]=C==="id"?D?Object.keys(Z).some(function(B){return Z[B]===D&&(H=B,!0)})?H:new Error("It's broken"):re:D==null?re:rn(D),j},{}),m.anim&&(E.animation=rn(y.animation)),E):k},set:h(g),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(g,m){Object.defineProperty(jn.prototype,g,{get:function(){var y=hn[this._id],E=y.options;return E.labelSEM[m]&&!y.optionIsAttach.labelSEM[m]?Ne[E.labelSEM[m]._id].text:E.labelSEM[m]||""},set:h(g),enumerable:!0})})}(),jn.prototype.setOptions=function(h){return Ks(hn[this._id],h),this},jn.prototype.position=function(){return Hn(hn[this._id],{position:!0}),this},jn.prototype.remove=function(){var h=hn[this._id],g=h.curStats;Object.keys(e).forEach(function(m){var y=m+"_animId";g[y]&&tn.remove(g[y])}),g.show_animId&&tn.remove(g.show_animId),h.attachments.slice().forEach(function(m){Ws(h,m)}),h.baseWindow&&h.svg&&h.baseWindow.document.body.removeChild(h.svg),delete hn[this._id]},jn.prototype.show=function(h,g){return Gs(hn[this._id],!0,h,g),this},jn.prototype.hide=function(h,g){return Gs(hn[this._id],!1,h,g),this},o=function(h){h&&Ne[h._id]&&(h.boundTargets.slice().forEach(function(g){Ws(g.props,h,!0)}),h.conf.remove&&h.conf.remove(h),delete Ne[h._id])},r=function(){function h(g,m){var y,E={conf:g,curStats:{},aplStats:{},boundTargets:[]},k={};g.argOptions.every(function(j){return!(!m.length||(typeof j.type=="string"?typeof m[0]!==j.type:typeof j.type!="function"||!j.type(m[0])))&&(k[j.optionName]=m.shift(),!0)}),y=m.length&&un(m[0])?rn(m[0]):{},Object.keys(k).forEach(function(j){y[j]=k[j]}),g.stats&&(Qe(E.curStats,g.stats),Qe(E.aplStats,g.stats)),Object.defineProperty(this,"_id",{value:++qo}),Object.defineProperty(this,"isRemoved",{get:function(){return!Ne[this._id]}}),E._id=this._id,g.init&&!g.init(E,y)||(Ne[this._id]=E)}return h.prototype.remove=function(){var g=this,m=Ne[g._id];m&&(m.boundTargets.slice().forEach(function(y){m.conf.removeOption(m,y)}),Fi(function(){var y=Ne[g._id];y&&(console.error("LeaderLineAttachment was not removed by removeOption"),o(y))}))},h}(),window.LeaderLineAttachment=r,i=function(h,g){return h instanceof r&&(!(h.isRemoved||g&&Ne[h._id].conf.type!==g)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ci}],init:function(h,g){return h.element=n.pointAnchor.checkElement(g.element),h.x=n.pointAnchor.parsePercent(g.x,!0)||[.5,!0],h.y=n.pointAnchor.parsePercent(g.y,!0)||[.5,!0],!0},removeOption:function(h,g){var m=g.props,y={},E=h.element,k=m.options.anchorSE[g.optionName==="start"?1:0];E===k&&(E=k===document.body?new r(n.pointAnchor,[E]):document.body),y[g.optionName]=E,Ks(m,y)},getBBoxNest:function(h,g){var m=ui(h.element,g.baseWindow),y=m.width,E=m.height;return m.width=m.height=0,m.left=m.right=m.left+h.x[0]*(h.x[1]?y:1),m.top=m.bottom=m.top+h.y[0]*(h.y[1]?E:1),m},parsePercent:function(h,g){var m,y,E=!1;return vn(h)?y=h:typeof h=="string"&&(m=Di.exec(h))&&m[2]&&(E=(y=parseFloat(m[1])/100)!==0),y!=null&&(g||0<=y)?[y,E]:null},checkElement:function(h){if(h==null)h=document.body;else if(!ci(h))throw new Error("`element` must be Element");return h}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ci},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(h,g){var m,y,E,k=[];return h.element=n.pointAnchor.checkElement(g.element),typeof g.color=="string"&&(h.color=g.color.trim()),typeof g.fillColor=="string"&&(h.fill=g.fillColor.trim()),vn(g.size)&&0<=g.size&&(h.size=g.size),g.dash&&(h.dash=!0,vn(g.dash.len)&&0<g.dash.len&&(h.dashLen=g.dash.len),vn(g.dash.gap)&&0<g.dash.gap&&(h.dashGap=g.dash.gap)),g.shape==="circle"?h.shape=g.shape:g.shape==="polygon"&&Array.isArray(g.points)&&3<=g.points.length&&g.points.every(function(j){var F={};return!(!(F.x=n.pointAnchor.parsePercent(j[0],!0))||!(F.y=n.pointAnchor.parsePercent(j[1],!0)))&&(k.push(F),(F.x[1]||F.y[1])&&(h.hasRatio=!0),!0)})?(h.shape=g.shape,h.points=k):(h.shape="rect",h.radius=vn(g.radius)&&0<=g.radius?g.radius:0),h.shape!=="rect"&&h.shape!=="circle"||(h.x=n.pointAnchor.parsePercent(g.x,!0)||[-.05,!0],h.y=n.pointAnchor.parsePercent(g.y,!0)||[-.05,!0],h.width=n.pointAnchor.parsePercent(g.width)||[1.1,!0],h.height=n.pointAnchor.parsePercent(g.height)||[1.1,!0],(h.x[1]||h.y[1]||h.width[1]||h.height[1])&&(h.hasRatio=!0)),m=h.element.ownerDocument,h.svg=y=m.createElementNS(Lt,"svg"),y.className.baseVal=A+"-areaAnchor",y.viewBox.baseVal||y.setAttribute("viewBox","0 0 0 0"),h.path=y.appendChild(m.createElementNS(Lt,"path")),h.path.style.fill=h.fill||"none",h.isShown=!1,y.style.visibility="hidden",m.body.appendChild(y),dl(E=m.defaultView),h.bodyOffset=fl(E),h.updateColor=function(){var j,F=h.curStats,H=h.aplStats,C=h.boundTargets.length?h.boundTargets[0].props.curStats:null;F.color=j=h.color||(C?C.line_color:Pn.lineColor),Et(h,H,"color",j)&&(h.path.style.stroke=j)},h.updateShow=function(){Vi(h,h.boundTargets.some(function(j){return j.props.isShown===!0}))},!0},bind:function(h,g){var m=g.props;return h.color||Ye(m,"cur_line_color",h.updateColor),Ye(m,"svgShow",h.updateShow),Fi(function(){h.updateColor(),h.updateShow()}),!0},unbind:function(h,g){var m=g.props;h.color||je(m,"cur_line_color",h.updateColor),je(m,"svgShow",h.updateShow),1<h.boundTargets.length&&Fi(function(){h.updateColor(),h.updateShow(),n.areaAnchor.update(h)&&h.boundTargets.forEach(function(y){Hn(y.props,{position:!0})})})},removeOption:function(h,g){n.pointAnchor.removeOption(h,g)},remove:function(h){h.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),h.boundTargets.forEach(function(g){n.areaAnchor.unbind(h,g)})),h.svg.parentNode.removeChild(h.svg)},getStrokeWidth:function(h,g){return n.areaAnchor.update(h)&&1<h.boundTargets.length&&Fi(function(){h.boundTargets.forEach(function(m){m.props!==g&&Hn(m.props,{position:!0})})}),h.curStats.strokeWidth},getPathData:function(h,g){var m=ui(h.element,g.baseWindow);return Bo(h.curStats.pathListRel,function(y){y.x+=m.left,y.y+=m.top})},getBBoxNest:function(h,g){var m=ui(h.element,g.baseWindow),y=h.curStats.bBoxRel;return{left:y.left+m.left,top:y.top+m.top,right:y.right+m.left,bottom:y.bottom+m.top,width:y.width,height:y.height}},update:function(h){var g,m,y,E,k,j,F,H,C,M,Z,R,O,D,B,Q,nt,ut,st,Y,N,q,V,vt,xt,gt,T,et,ht,Tt,Rt,mt,K=h.curStats,qt=h.aplStats,we=h.boundTargets.length?h.boundTargets[0].props.curStats:null,Dt={};if(Dt.strokeWidth=Et(h,K,"strokeWidth",h.size!=null?h.size:we?we.line_strokeWidth:Pn.lineSize),g=Mi(h.element),Dt.elementWidth=Et(h,K,"elementWidth",g.width),Dt.elementHeight=Et(h,K,"elementHeight",g.height),Dt.elementLeft=Et(h,K,"elementLeft",g.left),Dt.elementTop=Et(h,K,"elementTop",g.top),Dt.strokeWidth||h.hasRatio&&(Dt.elementWidth||Dt.elementHeight)){switch(h.shape){case"rect":(Y={left:h.x[0]*(h.x[1]?g.width:1),top:h.y[0]*(h.y[1]?g.height:1),width:h.width[0]*(h.width[1]?g.width:1),height:h.height[0]*(h.height[1]?g.height:1)}).right=Y.left+Y.width,Y.bottom=Y.top+Y.height,vt=K.strokeWidth/2,q=(V=Math.min(Y.width,Y.height))?V/2*Math.SQRT2+vt:0,(N=h.radius?h.radius<=q?h.radius:q:0)?(gt=N-(xt=(N-vt)/Math.SQRT2),et=N*si,T=[{x:Y.left-gt,y:Y.top+xt},{x:Y.left+xt,y:Y.top-gt},{x:Y.right-xt,y:Y.top-gt},{x:Y.right+gt,y:Y.top+xt},{x:Y.right+gt,y:Y.bottom-xt},{x:Y.right-xt,y:Y.bottom+gt},{x:Y.left+xt,y:Y.bottom+gt},{x:Y.left-gt,y:Y.bottom-xt}],K.pathListRel=[[T[0],{x:T[0].x,y:T[0].y-et},{x:T[1].x-et,y:T[1].y},T[1]]],T[1].x!==T[2].x&&K.pathListRel.push([T[1],T[2]]),K.pathListRel.push([T[2],{x:T[2].x+et,y:T[2].y},{x:T[3].x,y:T[3].y-et},T[3]]),T[3].y!==T[4].y&&K.pathListRel.push([T[3],T[4]]),K.pathListRel.push([T[4],{x:T[4].x,y:T[4].y+et},{x:T[5].x+et,y:T[5].y},T[5]]),T[5].x!==T[6].x&&K.pathListRel.push([T[5],T[6]]),K.pathListRel.push([T[6],{x:T[6].x-et,y:T[6].y},{x:T[7].x,y:T[7].y+et},T[7]]),T[7].y!==T[0].y&&K.pathListRel.push([T[7],T[0]]),K.pathListRel.push([]),gt=N-xt+K.strokeWidth/2,T=[{x:Y.left-gt,y:Y.top-gt},{x:Y.right+gt,y:Y.bottom+gt}]):(gt=K.strokeWidth/2,T=[{x:Y.left-gt,y:Y.top-gt},{x:Y.right+gt,y:Y.bottom+gt}],K.pathListRel=[[T[0],{x:T[1].x,y:T[0].y}],[{x:T[1].x,y:T[0].y},T[1]],[T[1],{x:T[0].x,y:T[1].y}],[]],T=[{x:Y.left-K.strokeWidth,y:Y.top-K.strokeWidth},{x:Y.right+K.strokeWidth,y:Y.bottom+K.strokeWidth}]),K.bBoxRel={left:T[0].x,top:T[0].y,right:T[1].x,bottom:T[1].y,width:T[1].x-T[0].x,height:T[1].y-T[0].y};break;case"circle":(F={left:h.x[0]*(h.x[1]?g.width:1),top:h.y[0]*(h.y[1]?g.height:1),width:h.width[0]*(h.width[1]?g.width:1),height:h.height[0]*(h.height[1]?g.height:1)}).width||F.height||(F.width=F.height=10),F.width||(F.width=F.height),F.height||(F.height=F.width),F.right=F.left+F.width,F.bottom=F.top+F.height,H=F.left+F.width/2,C=F.top+F.height/2,D=K.strokeWidth/2,B=F.width/2,Q=F.height/2,M=B*Math.SQRT2+D,Z=Q*Math.SQRT2+D,R=M*si,O=Z*si,st=[{x:H-M,y:C},{x:H,y:C-Z},{x:H+M,y:C},{x:H,y:C+Z}],K.pathListRel=[[st[0],{x:st[0].x,y:st[0].y-O},{x:st[1].x-R,y:st[1].y},st[1]],[st[1],{x:st[1].x+R,y:st[1].y},{x:st[2].x,y:st[2].y-O},st[2]],[st[2],{x:st[2].x,y:st[2].y+O},{x:st[3].x+R,y:st[3].y},st[3]],[st[3],{x:st[3].x-R,y:st[3].y},{x:st[0].x,y:st[0].y+O},st[0]],[]],nt=M-B+K.strokeWidth/2,ut=Z-Q+K.strokeWidth/2,st=[{x:F.left-nt,y:F.top-ut},{x:F.right+nt,y:F.bottom+ut}],K.bBoxRel={left:st[0].x,top:st[0].y,right:st[1].x,bottom:st[1].y,width:st[1].x-st[0].x,height:st[1].y-st[0].y};break;case"polygon":h.points.forEach(function(Kt){var Re=Kt.x[0]*(Kt.x[1]?g.width:1),Oe=Kt.y[0]*(Kt.y[1]?g.height:1);y?(Re<y.left&&(y.left=Re),Re>y.right&&(y.right=Re),Oe<y.top&&(y.top=Oe),Oe>y.bottom&&(y.bottom=Oe)):y={left:Re,right:Re,top:Oe,bottom:Oe},E?K.pathListRel.push([E,{x:Re,y:Oe}]):K.pathListRel=[],E={x:Re,y:Oe}}),K.pathListRel.push([]),k=K.strokeWidth/2,j=[{x:y.left-k,y:y.top-k},{x:y.right+k,y:y.bottom+k}],K.bBoxRel={left:j[0].x,top:j[0].y,right:j[1].x,bottom:j[1].y,width:j[1].x-j[0].x,height:j[1].y-j[0].y}}Dt.pathListRel=Dt.bBoxRel=!0}return(Dt.pathListRel||Dt.elementLeft||Dt.elementTop)&&(K.pathData=Bo(K.pathListRel,function(Kt){Kt.x+=g.left,Kt.y+=g.top})),Et(h,qt,"strokeWidth",m=K.strokeWidth)&&(h.path.style.strokeWidth=m+"px"),zs(m=K.pathData,qt.pathData)&&(h.path.setPathData(m),qt.pathData=m,Dt.pathData=!0),h.dash&&(!Dt.pathData&&(!Dt.strokeWidth||h.dashLen&&h.dashGap)||(K.dashLen=h.dashLen||2*K.strokeWidth,K.dashGap=h.dashGap||K.strokeWidth),Dt.dash=Et(h,qt,"dashLen",K.dashLen)||Dt.dash,Dt.dash=Et(h,qt,"dashGap",K.dashGap)||Dt.dash,Dt.dash&&(h.path.style.strokeDasharray=qt.dashLen+","+qt.dashGap)),ht=K.viewBoxBBox,Tt=qt.viewBoxBBox,Rt=h.svg.viewBox.baseVal,mt=h.svg.style,ht.x=K.bBoxRel.left+g.left,ht.y=K.bBoxRel.top+g.top,ht.width=K.bBoxRel.width,ht.height=K.bBoxRel.height,["x","y","width","height"].forEach(function(Kt){(m=ht[Kt])!==Tt[Kt]&&(Rt[Kt]=Tt[Kt]=m,mt[cn[Kt]]=m+(Kt==="x"||Kt==="y"?h.bodyOffset[Kt]:0)+"px")}),Dt.strokeWidth||Dt.pathListRel||Dt.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:ci},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(h,g){var m,y,E,k,j,F,H,C,M,Z,R,O=n.mouseHoverAnchor,D={};if(h.element=n.pointAnchor.checkElement(g.element),C=h.element,!((Z=C.ownerDocument)&&(M=Z.defaultView)&&M.HTMLElement&&C instanceof M.HTMLElement))throw new Error("`element` must be HTML element");return O.style.backgroundSize=O.backgroundSize.width+"px "+O.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(B){var Q=O[B];h[B]=Object.keys(Q).reduce(function(nt,ut){return nt[ut]=Q[ut],nt},{})}),(m=h.element.ownerDocument.defaultView.getComputedStyle(h.element,"")).display==="inline"?h.style.display="inline-block":m.display==="none"&&(h.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach(function(B){var Q=B[0],nt="padding"+B[1];parseFloat(m[nt])<O.padding[Q]&&(h.style[nt]=O.padding[Q]+"px")}),h.style.display&&(k=h.element.style.display,h.element.style.display=h.style.display),n.mouseHoverAnchor.dirKeys.forEach(function(B){var Q="padding"+B[1];h.style[Q]&&(D[Q]=h.element.style[Q],h.element.style[Q]=h.style[Q])}),(E=h.element.getBoundingClientRect()).height<O.minHeight&&(yn?(R=O.minHeight,m.boxSizing==="content-box"?R-=parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)+parseFloat(m.paddingTop)+parseFloat(m.paddingBottom):m.boxSizing==="padding-box"&&(R-=parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)),h.style.height=R+"px"):h.style.height=parseFloat(m.height)+(O.minHeight-E.height)+"px"),h.style.backgroundPosition=me?E.width-O.backgroundSize.width-O.backgroundPosition.right+"px "+O.backgroundPosition.top+"px":"right "+O.backgroundPosition.right+"px top "+O.backgroundPosition.top+"px",h.style.display&&(h.element.style.display=k),n.mouseHoverAnchor.dirKeys.forEach(function(B){var Q="padding"+B[1];h.style[Q]&&(h.element.style[Q]=D[Q])}),["style","hoverStyle"].forEach(function(B){var Q=h[B],nt=g[B];un(nt)&&Object.keys(nt).forEach(function(ut){typeof nt[ut]=="string"||vn(nt[ut])?Q[ut]=nt[ut]:nt[ut]==null&&delete Q[ut]})}),typeof g.onSwitch=="function"&&(H=g.onSwitch),g.showEffectName&&t[g.showEffectName]&&(h.showEffectName=j=g.showEffectName),F=g.animOptions,h.elmStyle=y=h.element.style,h.mouseenter=function(B){h.hoverStyleSave=O.getStyles(y,Object.keys(h.hoverStyle)),O.setStyles(y,h.hoverStyle),h.boundTargets.forEach(function(Q){Gs(Q.props,!0,j,F)}),H&&H(B)},h.mouseleave=function(B){O.setStyles(y,h.hoverStyleSave),h.boundTargets.forEach(function(Q){Gs(Q.props,!1,j,F)}),H&&H(B)},!0},bind:function(h,g){var m,y,E,k,j;return g.props.svg?n.mouseHoverAnchor.llShow(g.props,!1,h.showEffectName):Fi(function(){n.mouseHoverAnchor.llShow(g.props,!1,h.showEffectName)}),h.enabled||(h.styleSave=n.mouseHoverAnchor.getStyles(h.elmStyle,Object.keys(h.style)),n.mouseHoverAnchor.setStyles(h.elmStyle,h.style),h.removeEventListener=(m=h.element,y=h.mouseenter,E=h.mouseleave,"onmouseenter"in m&&"onmouseleave"in m?(m.addEventListener("mouseenter",y,!1),m.addEventListener("mouseleave",E,!1),function(){m.removeEventListener("mouseenter",y,!1),m.removeEventListener("mouseleave",E,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),k=function(F){F.relatedTarget&&(F.relatedTarget===this||this.compareDocumentPosition(F.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||y.apply(this,arguments)},m.addEventListener("mouseover",k),j=function(F){F.relatedTarget&&(F.relatedTarget===this||this.compareDocumentPosition(F.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||E.apply(this,arguments)},m.addEventListener("mouseout",j),function(){m.removeEventListener("mouseover",k,!1),m.removeEventListener("mouseout",j,!1)})),h.enabled=!0),!0},unbind:function(h,g){h.enabled&&h.boundTargets.length<=1&&(h.removeEventListener(),n.mouseHoverAnchor.setStyles(h.elmStyle,h.styleSave),h.enabled=!1),n.mouseHoverAnchor.llShow(g.props,!0,h.showEffectName)},removeOption:function(h,g){n.pointAnchor.removeOption(h,g)},remove:function(h){h.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),h.boundTargets.forEach(function(g){n.mouseHoverAnchor.unbind(h,g)}))},getBBoxNest:function(h,g){return ui(h.element,g.baseWindow)},llShow:function(h,g,m){t[m||h.curStats.show_effect].stop(h,!0,g),h.aplStats.show_on=g},getStyles:function(h,g){return g.reduce(function(m,y){return m[y]=h[y],m},{})},setStyles:function(h,g){Object.keys(g).forEach(function(m){h[m]=g[m]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(h,g){return typeof g.text=="string"&&(h.text=g.text.trim()),!!h.text&&(typeof g.color=="string"&&(h.color=g.color.trim()),h.outlineColor=typeof g.outlineColor=="string"?g.outlineColor.trim():"#fff",Array.isArray(g.offset)&&vn(g.offset[0])&&vn(g.offset[1])&&(h.offset={x:g.offset[0],y:g.offset[1]}),vn(g.lineOffset)&&(h.lineOffset=g.lineOffset),n.captionLabel.textStyleProps.forEach(function(m){g[m]!=null&&(h[m]=g[m])}),h.updateColor=function(m){n.captionLabel.updateColor(h,m)},h.updateSocketXY=function(m){var y,E,k,j,F=h.curStats,H=h.aplStats,C=m.curStats,M=C.position_socketXYSE[h.socketIndex];M.x!=null&&(h.offset?(F.x=M.x+h.offset.x,F.y=M.y+h.offset.y):(y=h.height/2,E=Math.max(C.attach_plugSideLenSE[h.socketIndex]||0,C.line_strokeWidth/2),k=C.position_socketXYSE[h.socketIndex?0:1],M.socketId===it||M.socketId===z?(F.x=M.socketId===it?M.x-y-h.width:M.x+y,F.y=k.y<M.y?M.y+E+y:M.y-E-y-h.height):(F.x=k.x<M.x?M.x+E+y:M.x-E-y-h.width,F.y=M.socketId===P?M.y-y-h.height:M.y+y)),Et(h,H,"x",j=F.x)&&(h.elmPosition.x.baseVal.getItem(0).value=j),Et(h,H,"y",j=F.y)&&(h.elmPosition.y.baseVal.getItem(0).value=j+h.height))},h.updatePath=function(m){var y,E,k=h.curStats,j=h.aplStats,F=m.pathList.animVal||m.pathList.baseVal;F&&(y=n.captionLabel.getMidPoint(F,h.lineOffset),k.x=y.x-h.width/2,k.y=y.y-h.height/2,Et(h,j,"x",E=k.x)&&(h.elmPosition.x.baseVal.getItem(0).value=E),Et(h,j,"y",E=k.y)&&(h.elmPosition.y.baseVal.getItem(0).value=E+h.height))},h.updateShow=function(m){n.captionLabel.updateShow(h,m)},me&&(h.adjustEdge=function(m,y){var E=h.curStats;E.x!=null&&n.captionLabel.adjustEdge(y,{x:E.x,y:E.y,width:h.width,height:h.height},h.strokeWidth/2)}),!0)},updateColor:function(h,g){var m,y=h.curStats,E=h.aplStats,k=g.curStats;y.color=m=h.color||k.line_color,Et(h,E,"color",m)&&(h.styleFill.fill=m)},updateShow:function(h,g){var m=g.isShown===!0;m!==h.isShown&&(h.styleShow.visibility=m?"":"hidden",h.isShown=m)},adjustEdge:function(h,g,m){var y={x1:g.x-m,y1:g.y-m,x2:g.x+g.width+m,y2:g.y+g.height+m};y.x1<h.x1&&(h.x1=y.x1),y.y1<h.y1&&(h.y1=y.y1),y.x2>h.x2&&(h.x2=y.x2),y.y2>h.y2&&(h.y2=y.y2)},newText:function(h,g,m,y,E){var k,j,F,H,C,M;return(k=g.createElementNS(Lt,"text")).textContent=h,[k.x,k.y].forEach(function(Z){var R=m.createSVGLength();R.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),Z.baseVal.initialize(R)}),typeof f!="boolean"&&(f="paintOrder"in k.style),E&&!f?(F=g.createElementNS(Lt,"defs"),k.id=y,F.appendChild(k),(C=(j=g.createElementNS(Lt,"g")).appendChild(g.createElementNS(Lt,"use"))).href.baseVal="#"+y,(H=j.appendChild(g.createElementNS(Lt,"use"))).href.baseVal="#"+y,(M=C.style).strokeLinejoin="round",{elmPosition:k,styleText:k.style,styleFill:H.style,styleStroke:M,styleShow:j.style,elmsAppend:[F,j]}):(M=k.style,E&&(M.strokeLinejoin="round",M.paintOrder="stroke"),{elmPosition:k,styleText:M,styleFill:M,styleStroke:E?M:null,styleShow:M,elmsAppend:[k]})},getMidPoint:function(h,g){var m,y,E,k=cl(h),j=k.segsLen,F=k.lenAll,H=-1;if((m=F/2+(g||0))<=0)return(y=h[0]).length===2?us(y[0],y[1],0):Li(y[0],y[1],y[2],y[3],0);if(F<=m)return(y=h[h.length-1]).length===2?us(y[0],y[1],1):Li(y[0],y[1],y[2],y[3],1);for(E=[];m>j[++H];)E.push(h[H]),m-=j[H];return(y=h[H]).length===2?us(y[0],y[1],m/j[H]):Li(y[0],y[1],y[2],y[3],Us(y[0],y[1],y[2],y[3],m))},initSvg:function(h,g){var m,y,E=n.captionLabel.newText(h.text,g.baseWindow.document,g.svg,A+"-captionLabel-"+h._id,h.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(k){h[k]=E[k]}),h.isShown=!1,h.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(k){h[k]!=null&&(E.styleText[k]=h[k])}),E.elmsAppend.forEach(function(k){g.svg.appendChild(k)}),m=E.elmPosition.getBBox(),h.width=m.width,h.height=m.height,h.outlineColor&&(y=10<(y=m.height/9)?10:y<2?2:y,E.styleStroke.strokeWidth=y+"px",E.styleStroke.stroke=h.outlineColor),h.strokeWidth=y||0,Qe(h.aplStats,n.captionLabel.stats),h.updateColor(g),h.refSocketXY?h.updateSocketXY(g):h.updatePath(g),me&&Hn(g,{}),h.updateShow(g)},bind:function(h,g){var m=g.props;return h.color||Ye(m,"cur_line_color",h.updateColor),(h.refSocketXY=g.optionName==="startLabel"||g.optionName==="endLabel")?(h.socketIndex=g.optionName==="startLabel"?0:1,Ye(m,"apl_position",h.updateSocketXY),h.offset||(Ye(m,"cur_attach_plugSideLenSE",h.updateSocketXY),Ye(m,"cur_line_strokeWidth",h.updateSocketXY))):Ye(m,"apl_path",h.updatePath),Ye(m,"svgShow",h.updateShow),me&&Ye(m,"new_edge4viewBox",h.adjustEdge),n.captionLabel.initSvg(h,m),!0},unbind:function(h,g){var m=g.props;h.elmsAppend&&(h.elmsAppend.forEach(function(y){m.svg.removeChild(y)}),h.elmPosition=h.styleFill=h.styleShow=h.elmsAppend=null),Qe(h.curStats,n.captionLabel.stats),Qe(h.aplStats,n.captionLabel.stats),h.color||je(m,"cur_line_color",h.updateColor),h.refSocketXY?(je(m,"apl_position",h.updateSocketXY),h.offset||(je(m,"cur_attach_plugSideLenSE",h.updateSocketXY),je(m,"cur_line_strokeWidth",h.updateSocketXY))):je(m,"apl_path",h.updatePath),je(m,"svgShow",h.updateShow),me&&(je(m,"new_edge4viewBox",h.adjustEdge),Hn(m,{}))},removeOption:function(h,g){var m=g.props,y={};y[g.optionName]="",Ks(m,y)},remove:function(h){h.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),h.boundTargets.forEach(function(g){n.captionLabel.unbind(h,g)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(h,g){return typeof g.text=="string"&&(h.text=g.text.trim()),!!h.text&&(typeof g.color=="string"&&(h.color=g.color.trim()),h.outlineColor=typeof g.outlineColor=="string"?g.outlineColor.trim():"#fff",vn(g.lineOffset)&&(h.lineOffset=g.lineOffset),n.captionLabel.textStyleProps.forEach(function(m){g[m]!=null&&(h[m]=g[m])}),h.updateColor=function(m){n.captionLabel.updateColor(h,m)},h.updatePath=function(m){var y,E=h.curStats,k=h.aplStats,j=m.curStats,F=m.pathList.animVal||m.pathList.baseVal;F&&(E.pathData=y=n.pathLabel.getOffsetPathData(F,j.line_strokeWidth/2+h.strokeWidth/2+h.height/4,1.25*h.height),zs(y,k.pathData)&&(h.elmPath.setPathData(y),k.pathData=y,h.bBox=h.elmPosition.getBBox(),h.updateStartOffset(m)))},h.updateStartOffset=function(m){var y,E,k,j,F=h.curStats,H=h.aplStats,C=m.curStats;F.pathData&&(h.semIndex!==2||h.lineOffset)&&(y=F.pathData.reduce(function(M,Z){var R,O=Z.values;switch(Z.type){case"M":j={x:O[0],y:O[1]};break;case"L":R={x:O[0],y:O[1]},j&&(M+=zn(j,R)),j=R;break;case"C":R={x:O[4],y:O[5]},j&&(M+=Ni(j,{x:O[0],y:O[1]},{x:O[2],y:O[3]},R)),j=R}return M},0),k=h.semIndex===0?0:h.semIndex===1?y:y/2,h.semIndex!==2&&(E=Math.max(C.attach_plugBackLenSE[h.semIndex]||0,C.line_strokeWidth/2)+h.strokeWidth/2+h.height/4,k=(k+=h.semIndex===0?E:-E)<0?0:y<k?y:k),h.lineOffset&&(k=(k+=h.lineOffset)<0?0:y<k?y:k),F.startOffset=k,Et(h,H,"startOffset",k)&&(h.elmOffset.startOffset.baseVal.value=k))},h.updateShow=function(m){n.captionLabel.updateShow(h,m)},me&&(h.adjustEdge=function(m,y){h.bBox&&n.captionLabel.adjustEdge(y,h.bBox,h.strokeWidth/2)}),!0)},getOffsetPathData:function(h,g,m){var y,E,k=3,j=[];function F(H,C){return Math.abs(H.x-C.x)<k&&Math.abs(H.y-C.y)<k}return h.forEach(function(H){var C,M,Z,R,O,D,B,Q,nt,ut,st,Y,N,q,V,vt,xt,gt,T,et,ht;H.length===2?(gt=H[0],T=H[1],et=g,ht=Math.atan2(gt.y-T.y,T.x-gt.x)+.5*Math.PI,C=[{x:gt.x+Math.cos(ht)*et,y:gt.y+Math.sin(ht)*et*-1},{x:T.x+Math.cos(ht)*et,y:T.y+Math.sin(ht)*et*-1}],y?(Z=y.points,0<=(R=Math.atan2(Z[1].y-Z[0].y,Z[0].x-Z[1].x)-Math.atan2(H[0].y-H[1].y,H[1].x-H[0].x))&&R<=Math.PI?M={type:"line",points:C,inside:!0}:(D=Bs(Z[0],Z[1],g),O=Bs(C[1],C[0],g),Q=Z[0],ut=O,st=C[1],Y=(nt=D).x-Q.x,N=nt.y-Q.y,q=st.x-ut.x,V=st.y-ut.y,vt=(-N*(Q.x-ut.x)+Y*(Q.y-ut.y))/(-q*N+Y*V),xt=(q*(Q.y-ut.y)-V*(Q.x-ut.x))/(-q*N+Y*V),(B=0<=vt&&vt<=1&&0<=xt&&xt<=1?{x:Q.x+xt*Y,y:Q.y+xt*N}:null)?M={type:"line",points:[Z[1]=B,C[1]]}:(Z[1]=F(O,D)?O:D,M={type:"line",points:[O,C[1]]}),y.len=zn(Z[0],Z[1]))):M={type:"line",points:C},M.len=zn(M.points[0],M.points[1]),j.push(y=M)):(j.push({type:"cubic",points:function(Tt,Rt,mt,K,qt,we){for(var Dt,Kt,Re=Ni(Tt,Rt,mt,K)/we,Oe=1/(we<qt?Re*(qt/we):Re),Ee=[],fn=0;Kt=(90-(Dt=Li(Tt,Rt,mt,K,fn)).angle)*(Math.PI/180),Ee.push({x:Dt.x+Math.cos(Kt)*qt,y:Dt.y+Math.sin(Kt)*qt*-1}),!(1<=fn);)1<(fn+=Oe)&&(fn=1);return Ee}(H[0],H[1],H[2],H[3],g,16)}),y=null)}),y=null,j.forEach(function(H){var C;H.type==="line"?(H.inside&&(y.len>g?((C=y.points)[1]=Bs(C[0],C[1],-g),y.len=zn(C[0],C[1])):(y.points=null,y.len=0),H.len>g+m?((C=H.points)[0]=Bs(C[1],C[0],-(g+m)),H.len=zn(C[0],C[1])):(H.points=null,H.len=0)),y=H):y=null}),j.reduce(function(H,C){var M=C.points;return M&&(E&&F(M[0],E)||H.push({type:"M",values:[M[0].x,M[0].y]}),C.type==="line"?H.push({type:"L",values:[M[1].x,M[1].y]}):(M.shift(),M.forEach(function(Z){H.push({type:"L",values:[Z.x,Z.y]})})),E=M[M.length-1]),H},[])},newText:function(h,g,m,y){var E,k,j,F,H,C,M,Z,R,O;return(F=(j=g.createElementNS(Lt,"defs")).appendChild(g.createElementNS(Lt,"path"))).id=E=m+"-path",(C=(H=g.createElementNS(Lt,"text")).appendChild(g.createElementNS(Lt,"textPath"))).href.baseVal="#"+E,C.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),C.textContent=h,typeof f!="boolean"&&(f="paintOrder"in H.style),y&&!f?(H.id=k=m+"-text",j.appendChild(H),(R=(M=g.createElementNS(Lt,"g")).appendChild(g.createElementNS(Lt,"use"))).href.baseVal="#"+k,(Z=M.appendChild(g.createElementNS(Lt,"use"))).href.baseVal="#"+k,(O=R.style).strokeLinejoin="round",{elmPosition:H,elmPath:F,elmOffset:C,styleText:H.style,styleFill:Z.style,styleStroke:O,styleShow:M.style,elmsAppend:[j,M]}):(O=H.style,y&&(O.strokeLinejoin="round",O.paintOrder="stroke"),{elmPosition:H,elmPath:F,elmOffset:C,styleText:O,styleFill:O,styleStroke:y?O:null,styleShow:O,elmsAppend:[j,H]})},initSvg:function(h,g){var m,y,E=n.pathLabel.newText(h.text,g.baseWindow.document,A+"-pathLabel-"+h._id,h.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(k){h[k]=E[k]}),h.isShown=!1,h.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach(function(k){h[k]!=null&&(E.styleText[k]=h[k])}),E.elmsAppend.forEach(function(k){g.svg.appendChild(k)}),E.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),m=E.elmPosition.getBBox(),E.styleText.textAnchor=["start","end","middle"][h.semIndex],h.semIndex!==2||h.lineOffset||E.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),h.height=m.height,h.outlineColor&&(y=10<(y=m.height/9)?10:y<2?2:y,E.styleStroke.strokeWidth=y+"px",E.styleStroke.stroke=h.outlineColor),h.strokeWidth=y||0,Qe(h.aplStats,n.pathLabel.stats),h.updateColor(g),h.updatePath(g),h.updateStartOffset(g),me&&Hn(g,{}),h.updateShow(g)},bind:function(h,g){var m=g.props;return h.color||Ye(m,"cur_line_color",h.updateColor),Ye(m,"cur_line_strokeWidth",h.updatePath),Ye(m,"apl_path",h.updatePath),h.semIndex=g.optionName==="startLabel"?0:g.optionName==="endLabel"?1:2,(h.semIndex!==2||h.lineOffset)&&Ye(m,"cur_attach_plugBackLenSE",h.updateStartOffset),Ye(m,"svgShow",h.updateShow),me&&Ye(m,"new_edge4viewBox",h.adjustEdge),n.pathLabel.initSvg(h,m),!0},unbind:function(h,g){var m=g.props;h.elmsAppend&&(h.elmsAppend.forEach(function(y){m.svg.removeChild(y)}),h.elmPosition=h.elmPath=h.elmOffset=h.styleFill=h.styleShow=h.elmsAppend=null),Qe(h.curStats,n.pathLabel.stats),Qe(h.aplStats,n.pathLabel.stats),h.color||je(m,"cur_line_color",h.updateColor),je(m,"cur_line_strokeWidth",h.updatePath),je(m,"apl_path",h.updatePath),(h.semIndex!==2||h.lineOffset)&&je(m,"cur_attach_plugBackLenSE",h.updateStartOffset),je(m,"svgShow",h.updateShow),me&&(je(m,"new_edge4viewBox",h.adjustEdge),Hn(m,{}))},removeOption:function(h,g){var m=g.props,y={};y[g.optionName]="",Ks(m,y)},remove:function(h){h.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),h.boundTargets.forEach(function(g){n.pathLabel.unbind(h,g)}))}}},Object.keys(n).forEach(function(h){jn[h]=function(){return new r(n[h],Array.prototype.slice.call(arguments))}}),jn.positionByWindowResize=!0,window.addEventListener("resize",lr.add(function(){jn.positionByWindowResize&&Object.keys(hn).forEach(function(h){Hn(hn[h],{position:!0})})}),!1),jn}();const A_={setLine:function(e,t,n={}){return new S_(e,t,n)},obj:S_};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var ET=/^\s+/,xT=/\s+$/;function Mt(e,t){if(e=e||"",t=t||{},e instanceof Mt)return e;if(!(this instanceof Mt))return new Mt(e,t);var n=ST(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Mt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,l,c;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*c},setAlpha:function(t){return this._a=L0(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=C_(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=C_(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=k_(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=k_(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return T_(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return TT(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ze(this._r,255)*100)+"%",g:Math.round(ze(this._g,255)*100)+"%",b:Math.round(ze(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ze(this._r,255)*100)+"%, "+Math.round(ze(this._g,255)*100)+"%, "+Math.round(ze(this._b,255)*100)+"%)":"rgba("+Math.round(ze(this._r,255)*100)+"%, "+Math.round(ze(this._g,255)*100)+"%, "+Math.round(ze(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:qT[T_(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+I_(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=Mt(t);r="#"+I_(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Mt(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(DT,arguments)},brighten:function(){return this._applyModification(PT,arguments)},darken:function(){return this._applyModification(MT,arguments)},desaturate:function(){return this._applyModification(IT,arguments)},saturate:function(){return this._applyModification(RT,arguments)},greyscale:function(){return this._applyModification(OT,arguments)},spin:function(){return this._applyModification(LT,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(VT,arguments)},complement:function(){return this._applyCombination(NT,arguments)},monochromatic:function(){return this._applyCombination($T,arguments)},splitcomplement:function(){return this._applyCombination(FT,arguments)},triad:function(){return this._applyCombination(R_,[3])},tetrad:function(){return this._applyCombination(R_,[4])}};Mt.fromRatio=function(e,t){if(vc(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=ha(e[r]));e=n}return Mt(e,t)};function ST(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,c=!1;return typeof e=="string"&&(e=HT(e)),vc(e)=="object"&&(wi(e.r)&&wi(e.g)&&wi(e.b)?(t=AT(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):wi(e.h)&&wi(e.s)&&wi(e.v)?(r=ha(e.s),i=ha(e.v),t=CT(e.h,r,i),l=!0,c="hsv"):wi(e.h)&&wi(e.s)&&wi(e.l)&&(r=ha(e.s),o=ha(e.l),t=kT(e.h,r,o),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=L0(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function AT(e,t,n){return{r:ze(e,255)*255,g:ze(t,255)*255,b:ze(n,255)*255}}function k_(e,t,n){e=ze(e,255),t=ze(t,255),n=ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,l,c=(r+i)/2;if(r==i)o=l=0;else{var f=r-i;switch(l=c>.5?f/(2-r-i):f/(r+i),r){case e:o=(t-n)/f+(t<n?6:0);break;case t:o=(n-e)/f+2;break;case n:o=(e-t)/f+4;break}o/=6}return{h:o,s:l,l:c}}function kT(e,t,n){var r,i,o;e=ze(e,360),t=ze(t,100),n=ze(n,100);function l(d,_,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?d+(_-d)*6*v:v<1/2?_:v<2/3?d+(_-d)*(2/3-v)*6:d}if(t===0)r=i=o=n;else{var c=n<.5?n*(1+t):n+t-n*t,f=2*n-c;r=l(f,c,e+1/3),i=l(f,c,e),o=l(f,c,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function C_(e,t,n){e=ze(e,255),t=ze(t,255),n=ze(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,l,c=r,f=r-i;if(l=r===0?0:f/r,r==i)o=0;else{switch(r){case e:o=(t-n)/f+(t<n?6:0);break;case t:o=(n-e)/f+2;break;case n:o=(e-t)/f+4;break}o/=6}return{h:o,s:l,v:c}}function CT(e,t,n){e=ze(e,360)*6,t=ze(t,100),n=ze(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),l=n*(1-i*t),c=n*(1-(1-i)*t),f=r%6,d=[n,l,o,o,c,n][f],_=[c,n,n,l,o,o][f],v=[o,o,c,n,n,l][f];return{r:d*255,g:_*255,b:v*255}}function T_(e,t,n,r){var i=[zr(Math.round(e).toString(16)),zr(Math.round(t).toString(16)),zr(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function TT(e,t,n,r,i){var o=[zr(Math.round(e).toString(16)),zr(Math.round(t).toString(16)),zr(Math.round(n).toString(16)),zr(N0(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function I_(e,t,n,r){var i=[zr(N0(r)),zr(Math.round(e).toString(16)),zr(Math.round(t).toString(16)),zr(Math.round(n).toString(16))];return i.join("")}Mt.equals=function(e,t){return!e||!t?!1:Mt(e).toRgbString()==Mt(t).toRgbString()};Mt.random=function(){return Mt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function IT(e,t){t=t===0?0:t||10;var n=Mt(e).toHsl();return n.s-=t/100,n.s=Wc(n.s),Mt(n)}function RT(e,t){t=t===0?0:t||10;var n=Mt(e).toHsl();return n.s+=t/100,n.s=Wc(n.s),Mt(n)}function OT(e){return Mt(e).desaturate(100)}function DT(e,t){t=t===0?0:t||10;var n=Mt(e).toHsl();return n.l+=t/100,n.l=Wc(n.l),Mt(n)}function PT(e,t){t=t===0?0:t||10;var n=Mt(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Mt(n)}function MT(e,t){t=t===0?0:t||10;var n=Mt(e).toHsl();return n.l-=t/100,n.l=Wc(n.l),Mt(n)}function LT(e,t){var n=Mt(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Mt(n)}function NT(e){var t=Mt(e).toHsl();return t.h=(t.h+180)%360,Mt(t)}function R_(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Mt(e).toHsl(),r=[Mt(e)],i=360/t,o=1;o<t;o++)r.push(Mt({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function FT(e){var t=Mt(e).toHsl(),n=t.h;return[Mt(e),Mt({h:(n+72)%360,s:t.s,l:t.l}),Mt({h:(n+216)%360,s:t.s,l:t.l})]}function VT(e,t,n){t=t||6,n=n||30;var r=Mt(e).toHsl(),i=360/n,o=[Mt(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(Mt(r));return o}function $T(e,t){t=t||6;for(var n=Mt(e).toHsv(),r=n.h,i=n.s,o=n.v,l=[],c=1/t;t--;)l.push(Mt({h:r,s:i,v:o})),o=(o+c)%1;return l}Mt.mix=function(e,t,n){n=n===0?0:n||50;var r=Mt(e).toRgb(),i=Mt(t).toRgb(),o=n/100,l={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Mt(l)};Mt.readability=function(e,t){var n=Mt(e),r=Mt(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Mt.isReadable=function(e,t,n){var r=Mt.readability(e,t),i,o;switch(o=!1,i=jT(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Mt.mostReadable=function(e,t,n){var r=null,i=0,o,l,c,f;n=n||{},l=n.includeFallbackColors,c=n.level,f=n.size;for(var d=0;d<t.length;d++)o=Mt.readability(e,t[d]),o>i&&(i=o,r=Mt(t[d]));return Mt.isReadable(e,r,{level:c,size:f})||!l?r:(n.includeFallbackColors=!1,Mt.mostReadable(e,["#fff","#000"],n))};var Tf=Mt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},qT=Mt.hexNames=BT(Tf);function BT(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function L0(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ze(e,t){UT(e)&&(e="100%");var n=zT(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Wc(e){return Math.min(1,Math.max(0,e))}function gr(e){return parseInt(e,16)}function UT(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function zT(e){return typeof e=="string"&&e.indexOf("%")!=-1}function zr(e){return e.length==1?"0"+e:""+e}function ha(e){return e<=1&&(e=e*100+"%"),e}function N0(e){return Math.round(parseFloat(e)*255).toString(16)}function O_(e){return gr(e)/255}var Br=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function wi(e){return!!Br.CSS_UNIT.exec(e)}function HT(e){e=e.replace(ET,"").replace(xT,"").toLowerCase();var t=!1;if(Tf[e])e=Tf[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Br.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Br.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Br.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Br.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Br.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Br.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Br.hex8.exec(e))?{r:gr(n[1]),g:gr(n[2]),b:gr(n[3]),a:O_(n[4]),format:t?"name":"hex8"}:(n=Br.hex6.exec(e))?{r:gr(n[1]),g:gr(n[2]),b:gr(n[3]),format:t?"name":"hex"}:(n=Br.hex4.exec(e))?{r:gr(n[1]+""+n[1]),g:gr(n[2]+""+n[2]),b:gr(n[3]+""+n[3]),a:O_(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Br.hex3.exec(e))?{r:gr(n[1]+""+n[1]),g:gr(n[2]+""+n[2]),b:gr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function jT(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const GT={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{edits_html:"",line_locked:!1}},watch:{current_hit(){$(`#circle-${this.current_hit}`).addClass("circle-active"),this.process_edits_html(),this.draw_lines()},hits_data(){this.process_edits_html(),this.draw_lines()},edits_dict(){this.draw_lines()}},methods:{annotate_edit(e){const t=this.hits_data[this.current_hit-1].source,n=this.hits_data[this.current_hit-1].target,r=this.edits_dict,i=e.target.dataset.category,o=e.target.dataset.id,l=parseInt(e.target.dataset.id.split("-")[1]);if($(".child-question").hide(),this.editor_open){$(`.quality-selection[data-category=${i}]`).hide(300),this.refresh_interface_edit();return}else $(".quality-selection").hide(300),$(`.quality-selection[data-category=${i}]`).slideDown(300),$(e.target).addClass(`txt-${i}`),this.set_editor_state(!this.editor_open);$(`.${i}[data-id=${o}]`).removeClass(`border-${i}-light`).addClass(`white border-${i} bg-${i}`);let c=r.find(function(f){return f.category===i&&f.id===l});if(this.getEditConfig(i).multi_span){let f=c.input_idx,d="";for(let v=0;v<f.length;v++)v!=0&&(d+=`<span class="edit-type txt-${i} f3"> and </span>`),d+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all ${i}_below">
                        &nbsp${t.substring(f[v][0],f[v][1])}&nbsp</span>`;this.set_annotating_edit_span(d,"source");let _=c.output_idx;d="";for(let v=0;v<_.length;v++)v!=0&&(d+=`<span class="edit-type txt-${i} f3"> and </span>`),d+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all ${i}_below">
                        &nbsp${n.substring(_[v][0],_[v][1])}&nbsp</span>`;this.set_annotating_edit_span(d,"target")}else if(this.getEditConfig(i).type=="composite"){let f="",d="";f+=`<span class="edit-type txt-${i}${d} f3"> (</span>`;for(let _=0;_<c.constituent_edits.length;_++){const v=c.constituent_edits[_],S=v.category;f+=this.render_edit_text(v,l,S,d),_==c.constituent_edits.length-1?f+=`<span class="edit-type txt-${i}${d} f3"> )</span>`:f+=`<span class="edit-type txt-${i}${d} f3"> , </span>`}this.set_annotating_edit_span(f,"composite")}else{if(c.hasOwnProperty("input_idx")){let f=c.input_idx[0],d="";d+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all ${i}_below">
                        &nbsp${t.substring(f[0],f[1])}&nbsp</span>`,this.set_annotating_edit_span(d,"source")}if(c.hasOwnProperty("output_idx")){let f=c.output_idx[0],d="";d+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all ${i}_below">
                        &nbsp${n.substring(f[0],f[1])}&nbsp</span>`,this.set_annotating_edit_span(d,"target")}}this.set_annotating_edit_span_category_id(l)},trash_edit(e){const t=parseInt(e.target.dataset.id.split("-")[1]),n=e.target.dataset.category,r=this.hits_data[this.current_hit-1].edits;let i=[];for(const l of r)l.id==t&&l.category==n||i.push(l);let o=Xe.cloneDeep(this.hits_data);o[this.current_hit-1].edits=i,this.set_hits_data(o)},hasAnnotation(e){return e.annotation!=null||this.config.disable&&Object.values(this.config.disable).includes("annotation")},getEditConfig(e){return this.config.hasOwnProperty("edits")?this.config.edits.find(function(t){return t.name===e}):{}},linesDisabled(){return this.config.hasOwnProperty("display")&&Object.values(this.config.display).includes("disable-lines")},getAnnotationHtml(e,t){if(t==null)return"";let n="";for(let r of e){let i=r.name,o=r.label?r.label:i;if(o=o.replace("grammar_error","G"),!!r.hasOwnProperty("options"))if(r.options=="binary")t[i]=="yes"&&(n+=` <span class="brown ba bw1 pa1 br-pills mr2">${o}</span>`);else if(r.options=="likert-3"){if(t[i]!=null){let l=E_[t[i]]?E_[t[i]]:"black";n+=`<span class="${l} br-pills ba bw1 pa1">${o}: ${t[i]}</span>`}}else if(r.options=="textarea"||r.options=="textbox")t[i]!=null&&(n+=`<span class="green br-pills ba bw1 pa1 mr2">${o}: ${t[i]}</span>`);else{if(!t[i])continue;let l=t[i].val;if(l!=null&&l!=""){n+="";let c=r.options.find(f=>f.name===l);c=c.label?c.label:l,n+=`<span class="light-purple ba bw1 pa1 mr2">${c}</span>`,r.hasOwnProperty("options")&&(n+=this.getAnnotationHtml(r.options,t[i]))}}}return n},render_edit_text(e,t,n,r){const i=this.getEditConfig(n),o=i.label?i.label:n;let l="";if(l+=`
                <span data-id="${n}-${t}" data-category="${n}" class="default_cursor" @mouseover="hover_span" @mouseout="un_hover_span">
                    <span class="edit-type txt-${n}${r} f3">${o} </span>`,!e.hasOwnProperty("input_idx")&&!e.hasOwnProperty("output_idx"))return l;if(i.type=="multi_span"){if(e.hasOwnProperty("input_idx")){let c=e.input_idx;for(let f=0;f<c.length;f++){let d=c[f];f!=0&&(l+=`<span class="edit-type txt-${n}${r} f3"> and </span>`),l+=`
                            <span class="pa1 edit-text br-pill-ns txt-${n}${r} border-${n}${r}-all ${n}_below" data-id="${n}-${t}" data-category="${n}">
                                &nbsp${this.hits_data[this.current_hit-1].source.substring(d[0],d[1])}&nbsp</span>`}}if(e.hasOwnProperty("input_idx")&&e.hasOwnProperty("output_idx")&&(l+=`<span class="edit-type txt-${n}${r} f3"> with </span>`),e.hasOwnProperty("output_idx")){let c=e.output_idx;for(let f=0;f<c.length;f++){let d=c[f];f!=0&&(l+=`<span class="edit-type txt-${n}${r} f3"> and </span>`),l+=`
                            <span class="pa1 edit-text br-pill-ns txt-${n}${r} border-${n}${r}-all ${n}_below" data-id="${n}-${t}" data-category="${n}">
                                &nbsp${this.hits_data[this.current_hit-1].target.substring(d[0],d[1])}&nbsp</span>`}}}else if(l+=`
                <span class="pa1 edit-text br-pill-ns txt-${n}${r} border-${n}${r}-all ${n}_below" data-id="${n}-${t}" data-category="${n}">`,e.hasOwnProperty("input_idx")){let c=e.input_idx[0];l+=`
                        &nbsp${this.hits_data[this.current_hit-1].source.substring(c[0],c[1])}&nbsp</span>`}else if(e.hasOwnProperty("output_idx")){let c=e.output_idx[0];l+=`
                        &nbsp${this.hits_data[this.current_hit-1].target.substring(c[0],c[1])}&nbsp</span>`}return l},process_edits_html(){let e="",t=Xe.cloneDeep(this.hits_data[this.current_hit-1].edits);const n=r=>r?Math.min(...r.map(i=>i[0])):1/0;t.sort((r,i)=>{const o=Math.min(n(r.input_idx),n(r.output_idx)),l=Math.min(n(i.input_idx),n(i.output_idx));return o-l});for(let r of t){let i=r.id,o=r.category,l=this.hasAnnotation(r)?"":"-light";e+=`
                    <div class='cf'>
                        <div class="fl w-80 edit">`;const c=this.getEditConfig(o),f=c.label?c.label:o;if(c.type=="composite"){const _=this.getEditConfig(o).icon;e+=`
                        <span data-id="${o}-${i}" data-category="${o}" class="default_cursor" @mouseover="hover_span" @mouseout="un_hover_span">
                            <span class="edit-type txt-${o}${l} f3">${f} </span>
                            <span class="pa1 edit-text br-pill-ns txt-${o}${l} border-${o}${l}-all ${o}_below" data-id="${o}-${i}" data-category="${o}">
                                &nbsp<i class="fa-solid ${_}"></i>&nbsp</span>
                                <span class="edit-type txt-${o}${l} f3"> (</span>`;for(let v=0;v<r.constituent_edits.length;v++){const S=r.constituent_edits[v],A=S.category;e+=this.render_edit_text(S,i,A,l),e+="</span>",v!=r.constituent_edits.length-1?e+=`<span class="edit-type txt-${o}${l} f3"> , </span>`:e+=`<span class="edit-type txt-${o}${l} f3"> )</span>`}}else e+=this.render_edit_text(r,i,o,l);if((!this.config.disable||!Object.values(this.config.disable).includes("annotation"))&&(e+=" : "),!this.hasAnnotation(r))(!this.config.disable||!Object.values(this.config.disable).includes("annotation"))&&(e+=`
                            <span class="f4 i black-60">${this.config.interface_text.annotation_viewer.not_annotated_text_1} <i class="fa-solid fa-pencil"></i> ${this.config.interface_text.annotation_viewer.not_annotated_text_2}</span>
                        `);else{const _=this.getEditConfig(o);let v=this.getAnnotationHtml(_.annotation,r.annotation);e+=`<span class="f4 i">${v}</span>`}let d="";this.config.disable&&Object.values(this.config.disable).includes("annotation")&&(d="disabled"),e+=`
                        </span>
                    </div>
                    <div class="fl w-20 mb4 operation tr">
                        <i @click="annotate_edit" class="annotation-icon fa-solid fa-pencil mr3 pointer dim ${d}" data-id="${o}-${i}" data-category="${o}"></i>
                        <i @click="trash_edit" class="fa-solid fa-trash-can ml4 pointer dim" data-id="${o}-${i}" data-category="${o}"></i>
                    </div>
                </div>`}this.set_edits_dict(t),this.edits_html=e},clear_lines:function(){const e=[].concat(...Object.values(this.lines).map(t=>Object.values(t)));for(let t of e)if(t instanceof Array)Object.values(t).forEach(n=>{try{n.remove()}catch(r){console.warn(r)}});else try{t.remove()}catch(n){console.warn(n)}$(".leader-line").remove()},draw_lines:function(){if(this.line_locked||!this.config.hasOwnProperty("edits")||this.linesDisabled())return;this.line_locked=!0;try{this.clear_lines()}catch(n){console.warn(n)}let e=Object.fromEntries(this.config.edits.map(n=>[n.name,{}])),t=Xe.cloneDeep(this.hits_data[this.current_hit-1].edits);for(let n of t){let r=n.id,i=n.category;const o=this.getEditConfig(i),l={endPlug:"behind",size:3,path:"straight"};let c=o.color;_c.hasOwnProperty(c)&&(c=_c[c]),this.hasAnnotation(n)||(c=Mt(c).lighten(25).toHexString()),l.color=c;try{if(o.type=="composite")for(let f of n.constituent_edits){e[i][r]=[];const d=f.id,_=f.category,v=this.getEditConfig(_);v.enable_input&&v.enable_output&&e[i][r].push(A_.setLine($(`.${i}.source_span[data-id='${i}-${r}'][data-childcategory=${_}][data-childid=${d}]`)[0],$(`.${i}.target_span[data-id='${i}-${r}'][data-childcategory=${_}][data-childid=${d}]`)[0],l))}else o.enable_input&&o.enable_output&&($(`.${i}.source_span`)[0]==null&&console.warn("Something went wrong!"),e[i][r]=A_.setLine($(`.${i}.source_span[data-id='${i}-${r}']`)[0],$(`.${i}.target_span[data-id='${i}-${r}']`)[0],l))}catch(f){console.warn(f)}}this.set_lines(e),this.line_locked=!1},reposition_lines(){const e=[].concat(...Object.values(this.lines).map(t=>Object.values(t)));for(let t of e)if(t instanceof Array)Object.values(t).forEach(n=>{try{n.position()}catch(r){console.warn(r)}});else try{t.position()}catch(n){console.warn(n)}},hover_span(){},un_hover_span(){}},computed:{get_edits_html(){return{template:`<div id="edits_html" class="f4 lh-paras">${this.edits_html}</div>`,methods:{annotate_edit:this.annotate_edit,trash_edit:this.trash_edit,hover_span:this.hover_span,un_hover_span:this.un_hover_span}}}},created(){$(window).on("resize",this.reposition_lines),$("#sandbox").length&&($("#sandbox").on("scroll",this.reposition_lines),$("#sandbox").on("resize",this.reposition_lines),new ResizeObserver(t=>{for(const n of t)n.target.id==="sandbox"&&this.reposition_lines()}).observe(document.getElementById("sandbox")))}},WT=Object.assign(GT,{__name:"EditList",setup(e){return(t,n)=>(Nt(),hd(fd(t.get_edits_html)))}}),KT={class:"mt1 cf"},YT={class:"fl w-80"},QT={class:"f3 annotation-label ttu"},ZT={key:0},XT={key:1},JT={class:"fl w-20 tr"},t2=ot("i",{class:"fa-solid fa-plus fa-1-5x icon-default pointer mr2"},null,-1),e2={class:"f4"},n2={id:"hits-data",class:"mt1 dn"},r2={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{}},methods:{add_an_edit(){this.editor_open?($("#add_an_edit").slideUp(300),$(".add_button .icon-default").removeClass("open")):($("#add_an_edit").slideDown(300),$(".add_button .icon-default").addClass("open")),this.set_editor_state(!this.editor_open)}},computed:{annotated_edits(){if(this.hits_data==null)return 0;let e=this.hits_data[this.current_hit-1].edits;if(e==null)return 0;var t=0;return e.forEach(function(n){n.hasOwnProperty("annotation")&&n.annotation!==null&&t++}),t},total_edits(){if(this.hits_data==null)return 0;let e=this.hits_data[this.current_hit-1].edits;return e==null?0:e.length}}},i2=Object.assign(r2,{__name:"AnnotationViewer",setup(e){return(t,n)=>(Nt(),Ut("section",null,[ot("div",KT,[ot("div",YT,[ot("p",QT,[gn(Ht(e.config.interface_text.annotation_viewer.header)+" (",1),!e.config.disable||!Object.values(e.config.disable).includes("annotation")?(Nt(),Ut("span",ZT,Ht(t.annotated_edits)+"/"+Ht(t.total_edits),1)):_e("",!0),e.config.disable&&Object.values(e.config.disable).includes("annotation")?(Nt(),Ut("span",XT,Ht(t.total_edits),1)):_e("",!0),gn(")")])]),ot("div",JT,[ot("p",{onClick:n[0]||(n[0]=(...r)=>t.add_an_edit&&t.add_an_edit(...r)),class:Ce(["add_button pa2 br-pill-ns ba bw1 grow",{disabled:e.config.disable&&Object.values(e.config.disable).includes("selection")}])},[t2,ot("span",e2,Ht(e.config.interface_text.buttons.add_edit_label),1)],2)])]),ot("div",null,[ir(WT,xi(t.$props,{config:e.config}),null,16,["config"])]),ot("div",n2,Ht(e.hits_data),1)]))}});var be={};const s2="Á",o2="á",a2="Ă",l2="ă",c2="∾",u2="∿",h2="∾̳",f2="Â",d2="â",p2="´",g2="А",_2="а",m2="Æ",y2="æ",v2="⁡",b2="𝔄",w2="𝔞",E2="À",x2="à",S2="ℵ",A2="ℵ",k2="Α",C2="α",T2="Ā",I2="ā",R2="⨿",O2="&",D2="&",P2="⩕",M2="⩓",L2="∧",N2="⩜",F2="⩘",V2="⩚",$2="∠",q2="⦤",B2="∠",U2="⦨",z2="⦩",H2="⦪",j2="⦫",G2="⦬",W2="⦭",K2="⦮",Y2="⦯",Q2="∡",Z2="∟",X2="⊾",J2="⦝",tI="∢",eI="Å",nI="⍼",rI="Ą",iI="ą",sI="𝔸",oI="𝕒",aI="⩯",lI="≈",cI="⩰",uI="≊",hI="≋",fI="'",dI="⁡",pI="≈",gI="≊",_I="Å",mI="å",yI="𝒜",vI="𝒶",bI="≔",wI="*",EI="≈",xI="≍",SI="Ã",AI="ã",kI="Ä",CI="ä",TI="∳",II="⨑",RI="≌",OI="϶",DI="‵",PI="∽",MI="⋍",LI="∖",NI="⫧",FI="⊽",VI="⌅",$I="⌆",qI="⌅",BI="⎵",UI="⎶",zI="≌",HI="Б",jI="б",GI="„",WI="∵",KI="∵",YI="∵",QI="⦰",ZI="϶",XI="ℬ",JI="ℬ",tR="Β",eR="β",nR="ℶ",rR="≬",iR="𝔅",sR="𝔟",oR="⋂",aR="◯",lR="⋃",cR="⨀",uR="⨁",hR="⨂",fR="⨆",dR="★",pR="▽",gR="△",_R="⨄",mR="⋁",yR="⋀",vR="⤍",bR="⧫",wR="▪",ER="▴",xR="▾",SR="◂",AR="▸",kR="␣",CR="▒",TR="░",IR="▓",RR="█",OR="=⃥",DR="≡⃥",PR="⫭",MR="⌐",LR="𝔹",NR="𝕓",FR="⊥",VR="⊥",$R="⋈",qR="⧉",BR="┐",UR="╕",zR="╖",HR="╗",jR="┌",GR="╒",WR="╓",KR="╔",YR="─",QR="═",ZR="┬",XR="╤",JR="╥",tO="╦",eO="┴",nO="╧",rO="╨",iO="╩",sO="⊟",oO="⊞",aO="⊠",lO="┘",cO="╛",uO="╜",hO="╝",fO="└",dO="╘",pO="╙",gO="╚",_O="│",mO="║",yO="┼",vO="╪",bO="╫",wO="╬",EO="┤",xO="╡",SO="╢",AO="╣",kO="├",CO="╞",TO="╟",IO="╠",RO="‵",OO="˘",DO="˘",PO="¦",MO="𝒷",LO="ℬ",NO="⁏",FO="∽",VO="⋍",$O="⧅",qO="\\",BO="⟈",UO="•",zO="•",HO="≎",jO="⪮",GO="≏",WO="≎",KO="≏",YO="Ć",QO="ć",ZO="⩄",XO="⩉",JO="⩋",tD="∩",eD="⋒",nD="⩇",rD="⩀",iD="ⅅ",sD="∩︀",oD="⁁",aD="ˇ",lD="ℭ",cD="⩍",uD="Č",hD="č",fD="Ç",dD="ç",pD="Ĉ",gD="ĉ",_D="∰",mD="⩌",yD="⩐",vD="Ċ",bD="ċ",wD="¸",ED="¸",xD="⦲",SD="¢",AD="·",kD="·",CD="𝔠",TD="ℭ",ID="Ч",RD="ч",OD="✓",DD="✓",PD="Χ",MD="χ",LD="ˆ",ND="≗",FD="↺",VD="↻",$D="⊛",qD="⊚",BD="⊝",UD="⊙",zD="®",HD="Ⓢ",jD="⊖",GD="⊕",WD="⊗",KD="○",YD="⧃",QD="≗",ZD="⨐",XD="⫯",JD="⧂",tP="∲",eP="”",nP="’",rP="♣",iP="♣",sP=":",oP="∷",aP="⩴",lP="≔",cP="≔",uP=",",hP="@",fP="∁",dP="∘",pP="∁",gP="ℂ",_P="≅",mP="⩭",yP="≡",vP="∮",bP="∯",wP="∮",EP="𝕔",xP="ℂ",SP="∐",AP="∐",kP="©",CP="©",TP="℗",IP="∳",RP="↵",OP="✗",DP="⨯",PP="𝒞",MP="𝒸",LP="⫏",NP="⫑",FP="⫐",VP="⫒",$P="⋯",qP="⤸",BP="⤵",UP="⋞",zP="⋟",HP="↶",jP="⤽",GP="⩈",WP="⩆",KP="≍",YP="∪",QP="⋓",ZP="⩊",XP="⊍",JP="⩅",tM="∪︀",eM="↷",nM="⤼",rM="⋞",iM="⋟",sM="⋎",oM="⋏",aM="¤",lM="↶",cM="↷",uM="⋎",hM="⋏",fM="∲",dM="∱",pM="⌭",gM="†",_M="‡",mM="ℸ",yM="↓",vM="↡",bM="⇓",wM="‐",EM="⫤",xM="⊣",SM="⤏",AM="˝",kM="Ď",CM="ď",TM="Д",IM="д",RM="‡",OM="⇊",DM="ⅅ",PM="ⅆ",MM="⤑",LM="⩷",NM="°",FM="∇",VM="Δ",$M="δ",qM="⦱",BM="⥿",UM="𝔇",zM="𝔡",HM="⥥",jM="⇃",GM="⇂",WM="´",KM="˙",YM="˝",QM="`",ZM="˜",XM="⋄",JM="⋄",tL="⋄",eL="♦",nL="♦",rL="¨",iL="ⅆ",sL="ϝ",oL="⋲",aL="÷",lL="÷",cL="⋇",uL="⋇",hL="Ђ",fL="ђ",dL="⌞",pL="⌍",gL="$",_L="𝔻",mL="𝕕",yL="¨",vL="˙",bL="⃜",wL="≐",EL="≑",xL="≐",SL="∸",AL="∔",kL="⊡",CL="⌆",TL="∯",IL="¨",RL="⇓",OL="⇐",DL="⇔",PL="⫤",ML="⟸",LL="⟺",NL="⟹",FL="⇒",VL="⊨",$L="⇑",qL="⇕",BL="∥",UL="⤓",zL="↓",HL="↓",jL="⇓",GL="⇵",WL="̑",KL="⇊",YL="⇃",QL="⇂",ZL="⥐",XL="⥞",JL="⥖",tN="↽",eN="⥟",nN="⥗",rN="⇁",iN="↧",sN="⊤",oN="⤐",aN="⌟",lN="⌌",cN="𝒟",uN="𝒹",hN="Ѕ",fN="ѕ",dN="⧶",pN="Đ",gN="đ",_N="⋱",mN="▿",yN="▾",vN="⇵",bN="⥯",wN="⦦",EN="Џ",xN="џ",SN="⟿",AN="É",kN="é",CN="⩮",TN="Ě",IN="ě",RN="Ê",ON="ê",DN="≖",PN="≕",MN="Э",LN="э",NN="⩷",FN="Ė",VN="ė",$N="≑",qN="ⅇ",BN="≒",UN="𝔈",zN="𝔢",HN="⪚",jN="È",GN="è",WN="⪖",KN="⪘",YN="⪙",QN="∈",ZN="⏧",XN="ℓ",JN="⪕",tF="⪗",eF="Ē",nF="ē",rF="∅",iF="∅",sF="◻",oF="∅",aF="▫",lF=" ",cF=" ",uF=" ",hF="Ŋ",fF="ŋ",dF=" ",pF="Ę",gF="ę",_F="𝔼",mF="𝕖",yF="⋕",vF="⧣",bF="⩱",wF="ε",EF="Ε",xF="ε",SF="ϵ",AF="≖",kF="≕",CF="≂",TF="⪖",IF="⪕",RF="⩵",OF="=",DF="≂",PF="≟",MF="⇌",LF="≡",NF="⩸",FF="⧥",VF="⥱",$F="≓",qF="ℯ",BF="ℰ",UF="≐",zF="⩳",HF="≂",jF="Η",GF="η",WF="Ð",KF="ð",YF="Ë",QF="ë",ZF="€",XF="!",JF="∃",t3="∃",e3="ℰ",n3="ⅇ",r3="ⅇ",i3="≒",s3="Ф",o3="ф",a3="♀",l3="ﬃ",c3="ﬀ",u3="ﬄ",h3="𝔉",f3="𝔣",d3="ﬁ",p3="◼",g3="▪",_3="fj",m3="♭",y3="ﬂ",v3="▱",b3="ƒ",w3="𝔽",E3="𝕗",x3="∀",S3="∀",A3="⋔",k3="⫙",C3="ℱ",T3="⨍",I3="½",R3="⅓",O3="¼",D3="⅕",P3="⅙",M3="⅛",L3="⅔",N3="⅖",F3="¾",V3="⅗",$3="⅜",q3="⅘",B3="⅚",U3="⅝",z3="⅞",H3="⁄",j3="⌢",G3="𝒻",W3="ℱ",K3="ǵ",Y3="Γ",Q3="γ",Z3="Ϝ",X3="ϝ",J3="⪆",tV="Ğ",eV="ğ",nV="Ģ",rV="Ĝ",iV="ĝ",sV="Г",oV="г",aV="Ġ",lV="ġ",cV="≥",uV="≧",hV="⪌",fV="⋛",dV="≥",pV="≧",gV="⩾",_V="⪩",mV="⩾",yV="⪀",vV="⪂",bV="⪄",wV="⋛︀",EV="⪔",xV="𝔊",SV="𝔤",AV="≫",kV="⋙",CV="⋙",TV="ℷ",IV="Ѓ",RV="ѓ",OV="⪥",DV="≷",PV="⪒",MV="⪤",LV="⪊",NV="⪊",FV="⪈",VV="≩",$V="⪈",qV="≩",BV="⋧",UV="𝔾",zV="𝕘",HV="`",jV="≥",GV="⋛",WV="≧",KV="⪢",YV="≷",QV="⩾",ZV="≳",XV="𝒢",JV="ℊ",t4="≳",e4="⪎",n4="⪐",r4="⪧",i4="⩺",s4=">",o4=">",a4="≫",l4="⋗",c4="⦕",u4="⩼",h4="⪆",f4="⥸",d4="⋗",p4="⋛",g4="⪌",_4="≷",m4="≳",y4="≩︀",v4="≩︀",b4="ˇ",w4=" ",E4="½",x4="ℋ",S4="Ъ",A4="ъ",k4="⥈",C4="↔",T4="⇔",I4="↭",R4="^",O4="ℏ",D4="Ĥ",P4="ĥ",M4="♥",L4="♥",N4="…",F4="⊹",V4="𝔥",$4="ℌ",q4="ℋ",B4="⤥",U4="⤦",z4="⇿",H4="∻",j4="↩",G4="↪",W4="𝕙",K4="ℍ",Y4="―",Q4="─",Z4="𝒽",X4="ℋ",J4="ℏ",t9="Ħ",e9="ħ",n9="≎",r9="≏",i9="⁃",s9="‐",o9="Í",a9="í",l9="⁣",c9="Î",u9="î",h9="И",f9="и",d9="İ",p9="Е",g9="е",_9="¡",m9="⇔",y9="𝔦",v9="ℑ",b9="Ì",w9="ì",E9="ⅈ",x9="⨌",S9="∭",A9="⧜",k9="℩",C9="Ĳ",T9="ĳ",I9="Ī",R9="ī",O9="ℑ",D9="ⅈ",P9="ℐ",M9="ℑ",L9="ı",N9="ℑ",F9="⊷",V9="Ƶ",$9="⇒",q9="℅",B9="∞",U9="⧝",z9="ı",H9="⊺",j9="∫",G9="∬",W9="ℤ",K9="∫",Y9="⊺",Q9="⋂",Z9="⨗",X9="⨼",J9="⁣",t$="⁢",e$="Ё",n$="ё",r$="Į",i$="į",s$="𝕀",o$="𝕚",a$="Ι",l$="ι",c$="⨼",u$="¿",h$="𝒾",f$="ℐ",d$="∈",p$="⋵",g$="⋹",_$="⋴",m$="⋳",y$="∈",v$="⁢",b$="Ĩ",w$="ĩ",E$="І",x$="і",S$="Ï",A$="ï",k$="Ĵ",C$="ĵ",T$="Й",I$="й",R$="𝔍",O$="𝔧",D$="ȷ",P$="𝕁",M$="𝕛",L$="𝒥",N$="𝒿",F$="Ј",V$="ј",$$="Є",q$="є",B$="Κ",U$="κ",z$="ϰ",H$="Ķ",j$="ķ",G$="К",W$="к",K$="𝔎",Y$="𝔨",Q$="ĸ",Z$="Х",X$="х",J$="Ќ",t5="ќ",e5="𝕂",n5="𝕜",r5="𝒦",i5="𝓀",s5="⇚",o5="Ĺ",a5="ĺ",l5="⦴",c5="ℒ",u5="Λ",h5="λ",f5="⟨",d5="⟪",p5="⦑",g5="⟨",_5="⪅",m5="ℒ",y5="«",v5="⇤",b5="⤟",w5="←",E5="↞",x5="⇐",S5="⤝",A5="↩",k5="↫",C5="⤹",T5="⥳",I5="↢",R5="⤙",O5="⤛",D5="⪫",P5="⪭",M5="⪭︀",L5="⤌",N5="⤎",F5="❲",V5="{",$5="[",q5="⦋",B5="⦏",U5="⦍",z5="Ľ",H5="ľ",j5="Ļ",G5="ļ",W5="⌈",K5="{",Y5="Л",Q5="л",Z5="⤶",X5="“",J5="„",tq="⥧",eq="⥋",nq="↲",rq="≤",iq="≦",sq="⟨",oq="⇤",aq="←",lq="←",cq="⇐",uq="⇆",hq="↢",fq="⌈",dq="⟦",pq="⥡",gq="⥙",_q="⇃",mq="⌊",yq="↽",vq="↼",bq="⇇",wq="↔",Eq="↔",xq="⇔",Sq="⇆",Aq="⇋",kq="↭",Cq="⥎",Tq="↤",Iq="⊣",Rq="⥚",Oq="⋋",Dq="⧏",Pq="⊲",Mq="⊴",Lq="⥑",Nq="⥠",Fq="⥘",Vq="↿",$q="⥒",qq="↼",Bq="⪋",Uq="⋚",zq="≤",Hq="≦",jq="⩽",Gq="⪨",Wq="⩽",Kq="⩿",Yq="⪁",Qq="⪃",Zq="⋚︀",Xq="⪓",Jq="⪅",tB="⋖",eB="⋚",nB="⪋",rB="⋚",iB="≦",sB="≶",oB="≶",aB="⪡",lB="≲",cB="⩽",uB="≲",hB="⥼",fB="⌊",dB="𝔏",pB="𝔩",gB="≶",_B="⪑",mB="⥢",yB="↽",vB="↼",bB="⥪",wB="▄",EB="Љ",xB="љ",SB="⇇",AB="≪",kB="⋘",CB="⌞",TB="⇚",IB="⥫",RB="◺",OB="Ŀ",DB="ŀ",PB="⎰",MB="⎰",LB="⪉",NB="⪉",FB="⪇",VB="≨",$B="⪇",qB="≨",BB="⋦",UB="⟬",zB="⇽",HB="⟦",jB="⟵",GB="⟵",WB="⟸",KB="⟷",YB="⟷",QB="⟺",ZB="⟼",XB="⟶",JB="⟶",t6="⟹",e6="↫",n6="↬",r6="⦅",i6="𝕃",s6="𝕝",o6="⨭",a6="⨴",l6="∗",c6="_",u6="↙",h6="↘",f6="◊",d6="◊",p6="⧫",g6="(",_6="⦓",m6="⇆",y6="⌟",v6="⇋",b6="⥭",w6="‎",E6="⊿",x6="‹",S6="𝓁",A6="ℒ",k6="↰",C6="↰",T6="≲",I6="⪍",R6="⪏",O6="[",D6="‘",P6="‚",M6="Ł",L6="ł",N6="⪦",F6="⩹",V6="<",$6="<",q6="≪",B6="⋖",U6="⋋",z6="⋉",H6="⥶",j6="⩻",G6="◃",W6="⊴",K6="◂",Y6="⦖",Q6="⥊",Z6="⥦",X6="≨︀",J6="≨︀",tU="¯",eU="♂",nU="✠",rU="✠",iU="↦",sU="↦",oU="↧",aU="↤",lU="↥",cU="▮",uU="⨩",hU="М",fU="м",dU="—",pU="∺",gU="∡",_U=" ",mU="ℳ",yU="𝔐",vU="𝔪",bU="℧",wU="µ",EU="*",xU="⫰",SU="∣",AU="·",kU="⊟",CU="−",TU="∸",IU="⨪",RU="∓",OU="⫛",DU="…",PU="∓",MU="⊧",LU="𝕄",NU="𝕞",FU="∓",VU="𝓂",$U="ℳ",qU="∾",BU="Μ",UU="μ",zU="⊸",HU="⊸",jU="∇",GU="Ń",WU="ń",KU="∠⃒",YU="≉",QU="⩰̸",ZU="≋̸",XU="ŉ",JU="≉",t8="♮",e8="ℕ",n8="♮",r8=" ",i8="≎̸",s8="≏̸",o8="⩃",a8="Ň",l8="ň",c8="Ņ",u8="ņ",h8="≇",f8="⩭̸",d8="⩂",p8="Н",g8="н",_8="–",m8="⤤",y8="↗",v8="⇗",b8="↗",w8="≠",E8="≐̸",x8="​",S8="​",A8="​",k8="​",C8="≢",T8="⤨",I8="≂̸",R8="≫",O8="≪",D8=`
`,P8="∄",M8="∄",L8="𝔑",N8="𝔫",F8="≧̸",V8="≱",$8="≱",q8="≧̸",B8="⩾̸",U8="⩾̸",z8="⋙̸",H8="≵",j8="≫⃒",G8="≯",W8="≯",K8="≫̸",Y8="↮",Q8="⇎",Z8="⫲",X8="∋",J8="⋼",t7="⋺",e7="∋",n7="Њ",r7="њ",i7="↚",s7="⇍",o7="‥",a7="≦̸",l7="≰",c7="↚",u7="⇍",h7="↮",f7="⇎",d7="≰",p7="≦̸",g7="⩽̸",_7="⩽̸",m7="≮",y7="⋘̸",v7="≴",b7="≪⃒",w7="≮",E7="⋪",x7="⋬",S7="≪̸",A7="∤",k7="⁠",C7=" ",T7="𝕟",I7="ℕ",R7="⫬",O7="¬",D7="≢",P7="≭",M7="∦",L7="∉",N7="≠",F7="≂̸",V7="∄",$7="≯",q7="≱",B7="≧̸",U7="≫̸",z7="≹",H7="⩾̸",j7="≵",G7="≎̸",W7="≏̸",K7="∉",Y7="⋵̸",Q7="⋹̸",Z7="∉",X7="⋷",J7="⋶",tz="⧏̸",ez="⋪",nz="⋬",rz="≮",iz="≰",sz="≸",oz="≪̸",az="⩽̸",lz="≴",cz="⪢̸",uz="⪡̸",hz="∌",fz="∌",dz="⋾",pz="⋽",gz="⊀",_z="⪯̸",mz="⋠",yz="∌",vz="⧐̸",bz="⋫",wz="⋭",Ez="⊏̸",xz="⋢",Sz="⊐̸",Az="⋣",kz="⊂⃒",Cz="⊈",Tz="⊁",Iz="⪰̸",Rz="⋡",Oz="≿̸",Dz="⊃⃒",Pz="⊉",Mz="≁",Lz="≄",Nz="≇",Fz="≉",Vz="∤",$z="∦",qz="∦",Bz="⫽⃥",Uz="∂̸",zz="⨔",Hz="⊀",jz="⋠",Gz="⊀",Wz="⪯̸",Kz="⪯̸",Yz="⤳̸",Qz="↛",Zz="⇏",Xz="↝̸",Jz="↛",tH="⇏",eH="⋫",nH="⋭",rH="⊁",iH="⋡",sH="⪰̸",oH="𝒩",aH="𝓃",lH="∤",cH="∦",uH="≁",hH="≄",fH="≄",dH="∤",pH="∦",gH="⋢",_H="⋣",mH="⊄",yH="⫅̸",vH="⊈",bH="⊂⃒",wH="⊈",EH="⫅̸",xH="⊁",SH="⪰̸",AH="⊅",kH="⫆̸",CH="⊉",TH="⊃⃒",IH="⊉",RH="⫆̸",OH="≹",DH="Ñ",PH="ñ",MH="≸",LH="⋪",NH="⋬",FH="⋫",VH="⋭",$H="Ν",qH="ν",BH="#",UH="№",zH=" ",HH="≍⃒",jH="⊬",GH="⊭",WH="⊮",KH="⊯",YH="≥⃒",QH=">⃒",ZH="⤄",XH="⧞",JH="⤂",tj="≤⃒",ej="<⃒",nj="⊴⃒",rj="⤃",ij="⊵⃒",sj="∼⃒",oj="⤣",aj="↖",lj="⇖",cj="↖",uj="⤧",hj="Ó",fj="ó",dj="⊛",pj="Ô",gj="ô",_j="⊚",mj="О",yj="о",vj="⊝",bj="Ő",wj="ő",Ej="⨸",xj="⊙",Sj="⦼",Aj="Œ",kj="œ",Cj="⦿",Tj="𝔒",Ij="𝔬",Rj="˛",Oj="Ò",Dj="ò",Pj="⧁",Mj="⦵",Lj="Ω",Nj="∮",Fj="↺",Vj="⦾",$j="⦻",qj="‾",Bj="⧀",Uj="Ō",zj="ō",Hj="Ω",jj="ω",Gj="Ο",Wj="ο",Kj="⦶",Yj="⊖",Qj="𝕆",Zj="𝕠",Xj="⦷",Jj="“",tG="‘",eG="⦹",nG="⊕",rG="↻",iG="⩔",sG="∨",oG="⩝",aG="ℴ",lG="ℴ",cG="ª",uG="º",hG="⊶",fG="⩖",dG="⩗",pG="⩛",gG="Ⓢ",_G="𝒪",mG="ℴ",yG="Ø",vG="ø",bG="⊘",wG="Õ",EG="õ",xG="⨶",SG="⨷",AG="⊗",kG="Ö",CG="ö",TG="⌽",IG="‾",RG="⏞",OG="⎴",DG="⏜",PG="¶",MG="∥",LG="∥",NG="⫳",FG="⫽",VG="∂",$G="∂",qG="П",BG="п",UG="%",zG=".",HG="‰",jG="⊥",GG="‱",WG="𝔓",KG="𝔭",YG="Φ",QG="φ",ZG="ϕ",XG="ℳ",JG="☎",tW="Π",eW="π",nW="⋔",rW="ϖ",iW="ℏ",sW="ℎ",oW="ℏ",aW="⨣",lW="⊞",cW="⨢",uW="+",hW="∔",fW="⨥",dW="⩲",pW="±",gW="±",_W="⨦",mW="⨧",yW="±",vW="ℌ",bW="⨕",wW="𝕡",EW="ℙ",xW="£",SW="⪷",AW="⪻",kW="≺",CW="≼",TW="⪷",IW="≺",RW="≼",OW="≺",DW="⪯",PW="≼",MW="≾",LW="⪯",NW="⪹",FW="⪵",VW="⋨",$W="⪯",qW="⪳",BW="≾",UW="′",zW="″",HW="ℙ",jW="⪹",GW="⪵",WW="⋨",KW="∏",YW="∏",QW="⌮",ZW="⌒",XW="⌓",JW="∝",tK="∝",eK="∷",nK="∝",rK="≾",iK="⊰",sK="𝒫",oK="𝓅",aK="Ψ",lK="ψ",cK=" ",uK="𝔔",hK="𝔮",fK="⨌",dK="𝕢",pK="ℚ",gK="⁗",_K="𝒬",mK="𝓆",yK="ℍ",vK="⨖",bK="?",wK="≟",EK='"',xK='"',SK="⇛",AK="∽̱",kK="Ŕ",CK="ŕ",TK="√",IK="⦳",RK="⟩",OK="⟫",DK="⦒",PK="⦥",MK="⟩",LK="»",NK="⥵",FK="⇥",VK="⤠",$K="⤳",qK="→",BK="↠",UK="⇒",zK="⤞",HK="↪",jK="↬",GK="⥅",WK="⥴",KK="⤖",YK="↣",QK="↝",ZK="⤚",XK="⤜",JK="∶",tY="ℚ",eY="⤍",nY="⤏",rY="⤐",iY="❳",sY="}",oY="]",aY="⦌",lY="⦎",cY="⦐",uY="Ř",hY="ř",fY="Ŗ",dY="ŗ",pY="⌉",gY="}",_Y="Р",mY="р",yY="⤷",vY="⥩",bY="”",wY="”",EY="↳",xY="ℜ",SY="ℛ",AY="ℜ",kY="ℝ",CY="ℜ",TY="▭",IY="®",RY="®",OY="∋",DY="⇋",PY="⥯",MY="⥽",LY="⌋",NY="𝔯",FY="ℜ",VY="⥤",$Y="⇁",qY="⇀",BY="⥬",UY="Ρ",zY="ρ",HY="ϱ",jY="⟩",GY="⇥",WY="→",KY="→",YY="⇒",QY="⇄",ZY="↣",XY="⌉",JY="⟧",tQ="⥝",eQ="⥕",nQ="⇂",rQ="⌋",iQ="⇁",sQ="⇀",oQ="⇄",aQ="⇌",lQ="⇉",cQ="↝",uQ="↦",hQ="⊢",fQ="⥛",dQ="⋌",pQ="⧐",gQ="⊳",_Q="⊵",mQ="⥏",yQ="⥜",vQ="⥔",bQ="↾",wQ="⥓",EQ="⇀",xQ="˚",SQ="≓",AQ="⇄",kQ="⇌",CQ="‏",TQ="⎱",IQ="⎱",RQ="⫮",OQ="⟭",DQ="⇾",PQ="⟧",MQ="⦆",LQ="𝕣",NQ="ℝ",FQ="⨮",VQ="⨵",$Q="⥰",qQ=")",BQ="⦔",UQ="⨒",zQ="⇉",HQ="⇛",jQ="›",GQ="𝓇",WQ="ℛ",KQ="↱",YQ="↱",QQ="]",ZQ="’",XQ="’",JQ="⋌",tZ="⋊",eZ="▹",nZ="⊵",rZ="▸",iZ="⧎",sZ="⧴",oZ="⥨",aZ="℞",lZ="Ś",cZ="ś",uZ="‚",hZ="⪸",fZ="Š",dZ="š",pZ="⪼",gZ="≻",_Z="≽",mZ="⪰",yZ="⪴",vZ="Ş",bZ="ş",wZ="Ŝ",EZ="ŝ",xZ="⪺",SZ="⪶",AZ="⋩",kZ="⨓",CZ="≿",TZ="С",IZ="с",RZ="⊡",OZ="⋅",DZ="⩦",PZ="⤥",MZ="↘",LZ="⇘",NZ="↘",FZ="§",VZ=";",$Z="⤩",qZ="∖",BZ="∖",UZ="✶",zZ="𝔖",HZ="𝔰",jZ="⌢",GZ="♯",WZ="Щ",KZ="щ",YZ="Ш",QZ="ш",ZZ="↓",XZ="←",JZ="∣",tX="∥",eX="→",nX="↑",rX="­",iX="Σ",sX="σ",oX="ς",aX="ς",lX="∼",cX="⩪",uX="≃",hX="≃",fX="⪞",dX="⪠",pX="⪝",gX="⪟",_X="≆",mX="⨤",yX="⥲",vX="←",bX="∘",wX="∖",EX="⨳",xX="⧤",SX="∣",AX="⌣",kX="⪪",CX="⪬",TX="⪬︀",IX="Ь",RX="ь",OX="⌿",DX="⧄",PX="/",MX="𝕊",LX="𝕤",NX="♠",FX="♠",VX="∥",$X="⊓",qX="⊓︀",BX="⊔",UX="⊔︀",zX="√",HX="⊏",jX="⊑",GX="⊏",WX="⊑",KX="⊐",YX="⊒",QX="⊐",ZX="⊒",XX="□",JX="□",tJ="⊓",eJ="⊏",nJ="⊑",rJ="⊐",iJ="⊒",sJ="⊔",oJ="▪",aJ="□",lJ="▪",cJ="→",uJ="𝒮",hJ="𝓈",fJ="∖",dJ="⌣",pJ="⋆",gJ="⋆",_J="☆",mJ="★",yJ="ϵ",vJ="ϕ",bJ="¯",wJ="⊂",EJ="⋐",xJ="⪽",SJ="⫅",AJ="⊆",kJ="⫃",CJ="⫁",TJ="⫋",IJ="⊊",RJ="⪿",OJ="⥹",DJ="⊂",PJ="⋐",MJ="⊆",LJ="⫅",NJ="⊆",FJ="⊊",VJ="⫋",$J="⫇",qJ="⫕",BJ="⫓",UJ="⪸",zJ="≻",HJ="≽",jJ="≻",GJ="⪰",WJ="≽",KJ="≿",YJ="⪰",QJ="⪺",ZJ="⪶",XJ="⋩",JJ="≿",ttt="∋",ett="∑",ntt="∑",rtt="♪",itt="¹",stt="²",ott="³",att="⊃",ltt="⋑",ctt="⪾",utt="⫘",htt="⫆",ftt="⊇",dtt="⫄",ptt="⊃",gtt="⊇",_tt="⟉",mtt="⫗",ytt="⥻",vtt="⫂",btt="⫌",wtt="⊋",Ett="⫀",xtt="⊃",Stt="⋑",Att="⊇",ktt="⫆",Ctt="⊋",Ttt="⫌",Itt="⫈",Rtt="⫔",Ott="⫖",Dtt="⤦",Ptt="↙",Mtt="⇙",Ltt="↙",Ntt="⤪",Ftt="ß",Vtt="	",$tt="⌖",qtt="Τ",Btt="τ",Utt="⎴",ztt="Ť",Htt="ť",jtt="Ţ",Gtt="ţ",Wtt="Т",Ktt="т",Ytt="⃛",Qtt="⌕",Ztt="𝔗",Xtt="𝔱",Jtt="∴",tet="∴",eet="∴",net="Θ",ret="θ",iet="ϑ",set="ϑ",oet="≈",aet="∼",cet="  ",uet=" ",het=" ",fet="≈",det="∼",pet="Þ",get="þ",_et="˜",met="∼",yet="≃",vet="≅",bet="≈",wet="⨱",Eet="⊠",xet="×",Aet="⨰",ket="∭",Cet="⤨",Tet="⌶",Iet="⫱",Ret="⊤",Oet="𝕋",Det="𝕥",Pet="⫚",Met="⤩",Let="‴",Net="™",Fet="™",Vet="▵",$et="▿",qet="◃",Bet="⊴",Uet="≜",zet="▹",Het="⊵",jet="◬",Get="≜",Wet="⨺",Ket="⃛",Yet="⨹",Qet="⧍",Zet="⨻",Xet="⏢",Jet="𝒯",tnt="𝓉",ent="Ц",nnt="ц",rnt="Ћ",int="ћ",snt="Ŧ",ont="ŧ",ant="≬",lnt="↞",cnt="↠",unt="Ú",hnt="ú",fnt="↑",dnt="↟",pnt="⇑",gnt="⥉",_nt="Ў",mnt="ў",ynt="Ŭ",vnt="ŭ",bnt="Û",wnt="û",Ent="У",xnt="у",Snt="⇅",Ant="Ű",knt="ű",Cnt="⥮",Tnt="⥾",Int="𝔘",Rnt="𝔲",Ont="Ù",Dnt="ù",Pnt="⥣",Mnt="↿",Lnt="↾",Nnt="▀",Fnt="⌜",Vnt="⌜",$nt="⌏",qnt="◸",Bnt="Ū",Unt="ū",znt="¨",Hnt="_",jnt="⏟",Gnt="⎵",Wnt="⏝",Knt="⋃",Ynt="⊎",Qnt="Ų",Znt="ų",Xnt="𝕌",Jnt="𝕦",trt="⤒",ert="↑",nrt="↑",rrt="⇑",irt="⇅",srt="↕",ort="↕",art="⇕",lrt="⥮",crt="↿",urt="↾",hrt="⊎",frt="↖",drt="↗",prt="υ",grt="ϒ",_rt="ϒ",mrt="Υ",yrt="υ",vrt="↥",brt="⊥",wrt="⇈",Ert="⌝",xrt="⌝",Srt="⌎",Art="Ů",krt="ů",Crt="◹",Trt="𝒰",Irt="𝓊",Rrt="⋰",Ort="Ũ",Drt="ũ",Prt="▵",Mrt="▴",Lrt="⇈",Nrt="Ü",Frt="ü",Vrt="⦧",$rt="⦜",qrt="ϵ",Brt="ϰ",Urt="∅",zrt="ϕ",Hrt="ϖ",jrt="∝",Grt="↕",Wrt="⇕",Krt="ϱ",Yrt="ς",Qrt="⊊︀",Zrt="⫋︀",Xrt="⊋︀",Jrt="⫌︀",tit="ϑ",eit="⊲",nit="⊳",rit="⫨",iit="⫫",sit="⫩",oit="В",ait="в",lit="⊢",cit="⊨",uit="⊩",hit="⊫",fit="⫦",dit="⊻",pit="∨",git="⋁",_it="≚",mit="⋮",yit="|",vit="‖",bit="|",wit="‖",Eit="∣",xit="|",Sit="❘",Ait="≀",kit=" ",Cit="𝔙",Tit="𝔳",Iit="⊲",Rit="⊂⃒",Oit="⊃⃒",Dit="𝕍",Pit="𝕧",Mit="∝",Lit="⊳",Nit="𝒱",Fit="𝓋",Vit="⫋︀",$it="⊊︀",qit="⫌︀",Bit="⊋︀",Uit="⊪",zit="⦚",Hit="Ŵ",jit="ŵ",Git="⩟",Wit="∧",Kit="⋀",Yit="≙",Qit="℘",Zit="𝔚",Xit="𝔴",Jit="𝕎",tst="𝕨",est="℘",nst="≀",rst="≀",ist="𝒲",sst="𝓌",ost="⋂",ast="◯",lst="⋃",cst="▽",ust="𝔛",hst="𝔵",fst="⟷",dst="⟺",pst="Ξ",gst="ξ",_st="⟵",mst="⟸",yst="⟼",vst="⋻",bst="⨀",wst="𝕏",Est="𝕩",xst="⨁",Sst="⨂",Ast="⟶",kst="⟹",Cst="𝒳",Tst="𝓍",Ist="⨆",Rst="⨄",Ost="△",Dst="⋁",Pst="⋀",Mst="Ý",Lst="ý",Nst="Я",Fst="я",Vst="Ŷ",$st="ŷ",qst="Ы",Bst="ы",Ust="¥",zst="𝔜",Hst="𝔶",jst="Ї",Gst="ї",Wst="𝕐",Kst="𝕪",Yst="𝒴",Qst="𝓎",Zst="Ю",Xst="ю",Jst="ÿ",tot="Ÿ",eot="Ź",not="ź",rot="Ž",iot="ž",sot="З",oot="з",aot="Ż",lot="ż",cot="ℨ",uot="​",hot="Ζ",fot="ζ",dot="𝔷",pot="ℨ",got="Ж",_ot="ж",mot="⇝",yot="𝕫",vot="ℤ",bot="𝒵",wot="𝓏",Eot="‍",xot="‌",Sot={Aacute:s2,aacute:o2,Abreve:a2,abreve:l2,ac:c2,acd:u2,acE:h2,Acirc:f2,acirc:d2,acute:p2,Acy:g2,acy:_2,AElig:m2,aelig:y2,af:v2,Afr:b2,afr:w2,Agrave:E2,agrave:x2,alefsym:S2,aleph:A2,Alpha:k2,alpha:C2,Amacr:T2,amacr:I2,amalg:R2,amp:O2,AMP:D2,andand:P2,And:M2,and:L2,andd:N2,andslope:F2,andv:V2,ang:$2,ange:q2,angle:B2,angmsdaa:U2,angmsdab:z2,angmsdac:H2,angmsdad:j2,angmsdae:G2,angmsdaf:W2,angmsdag:K2,angmsdah:Y2,angmsd:Q2,angrt:Z2,angrtvb:X2,angrtvbd:J2,angsph:tI,angst:eI,angzarr:nI,Aogon:rI,aogon:iI,Aopf:sI,aopf:oI,apacir:aI,ap:lI,apE:cI,ape:uI,apid:hI,apos:fI,ApplyFunction:dI,approx:pI,approxeq:gI,Aring:_I,aring:mI,Ascr:yI,ascr:vI,Assign:bI,ast:wI,asymp:EI,asympeq:xI,Atilde:SI,atilde:AI,Auml:kI,auml:CI,awconint:TI,awint:II,backcong:RI,backepsilon:OI,backprime:DI,backsim:PI,backsimeq:MI,Backslash:LI,Barv:NI,barvee:FI,barwed:VI,Barwed:$I,barwedge:qI,bbrk:BI,bbrktbrk:UI,bcong:zI,Bcy:HI,bcy:jI,bdquo:GI,becaus:WI,because:KI,Because:YI,bemptyv:QI,bepsi:ZI,bernou:XI,Bernoullis:JI,Beta:tR,beta:eR,beth:nR,between:rR,Bfr:iR,bfr:sR,bigcap:oR,bigcirc:aR,bigcup:lR,bigodot:cR,bigoplus:uR,bigotimes:hR,bigsqcup:fR,bigstar:dR,bigtriangledown:pR,bigtriangleup:gR,biguplus:_R,bigvee:mR,bigwedge:yR,bkarow:vR,blacklozenge:bR,blacksquare:wR,blacktriangle:ER,blacktriangledown:xR,blacktriangleleft:SR,blacktriangleright:AR,blank:kR,blk12:CR,blk14:TR,blk34:IR,block:RR,bne:OR,bnequiv:DR,bNot:PR,bnot:MR,Bopf:LR,bopf:NR,bot:FR,bottom:VR,bowtie:$R,boxbox:qR,boxdl:BR,boxdL:UR,boxDl:zR,boxDL:HR,boxdr:jR,boxdR:GR,boxDr:WR,boxDR:KR,boxh:YR,boxH:QR,boxhd:ZR,boxHd:XR,boxhD:JR,boxHD:tO,boxhu:eO,boxHu:nO,boxhU:rO,boxHU:iO,boxminus:sO,boxplus:oO,boxtimes:aO,boxul:lO,boxuL:cO,boxUl:uO,boxUL:hO,boxur:fO,boxuR:dO,boxUr:pO,boxUR:gO,boxv:_O,boxV:mO,boxvh:yO,boxvH:vO,boxVh:bO,boxVH:wO,boxvl:EO,boxvL:xO,boxVl:SO,boxVL:AO,boxvr:kO,boxvR:CO,boxVr:TO,boxVR:IO,bprime:RO,breve:OO,Breve:DO,brvbar:PO,bscr:MO,Bscr:LO,bsemi:NO,bsim:FO,bsime:VO,bsolb:$O,bsol:qO,bsolhsub:BO,bull:UO,bullet:zO,bump:HO,bumpE:jO,bumpe:GO,Bumpeq:WO,bumpeq:KO,Cacute:YO,cacute:QO,capand:ZO,capbrcup:XO,capcap:JO,cap:tD,Cap:eD,capcup:nD,capdot:rD,CapitalDifferentialD:iD,caps:sD,caret:oD,caron:aD,Cayleys:lD,ccaps:cD,Ccaron:uD,ccaron:hD,Ccedil:fD,ccedil:dD,Ccirc:pD,ccirc:gD,Cconint:_D,ccups:mD,ccupssm:yD,Cdot:vD,cdot:bD,cedil:wD,Cedilla:ED,cemptyv:xD,cent:SD,centerdot:AD,CenterDot:kD,cfr:CD,Cfr:TD,CHcy:ID,chcy:RD,check:OD,checkmark:DD,Chi:PD,chi:MD,circ:LD,circeq:ND,circlearrowleft:FD,circlearrowright:VD,circledast:$D,circledcirc:qD,circleddash:BD,CircleDot:UD,circledR:zD,circledS:HD,CircleMinus:jD,CirclePlus:GD,CircleTimes:WD,cir:KD,cirE:YD,cire:QD,cirfnint:ZD,cirmid:XD,cirscir:JD,ClockwiseContourIntegral:tP,CloseCurlyDoubleQuote:eP,CloseCurlyQuote:nP,clubs:rP,clubsuit:iP,colon:sP,Colon:oP,Colone:aP,colone:lP,coloneq:cP,comma:uP,commat:hP,comp:fP,compfn:dP,complement:pP,complexes:gP,cong:_P,congdot:mP,Congruent:yP,conint:vP,Conint:bP,ContourIntegral:wP,copf:EP,Copf:xP,coprod:SP,Coproduct:AP,copy:kP,COPY:CP,copysr:TP,CounterClockwiseContourIntegral:IP,crarr:RP,cross:OP,Cross:DP,Cscr:PP,cscr:MP,csub:LP,csube:NP,csup:FP,csupe:VP,ctdot:$P,cudarrl:qP,cudarrr:BP,cuepr:UP,cuesc:zP,cularr:HP,cularrp:jP,cupbrcap:GP,cupcap:WP,CupCap:KP,cup:YP,Cup:QP,cupcup:ZP,cupdot:XP,cupor:JP,cups:tM,curarr:eM,curarrm:nM,curlyeqprec:rM,curlyeqsucc:iM,curlyvee:sM,curlywedge:oM,curren:aM,curvearrowleft:lM,curvearrowright:cM,cuvee:uM,cuwed:hM,cwconint:fM,cwint:dM,cylcty:pM,dagger:gM,Dagger:_M,daleth:mM,darr:yM,Darr:vM,dArr:bM,dash:wM,Dashv:EM,dashv:xM,dbkarow:SM,dblac:AM,Dcaron:kM,dcaron:CM,Dcy:TM,dcy:IM,ddagger:RM,ddarr:OM,DD:DM,dd:PM,DDotrahd:MM,ddotseq:LM,deg:NM,Del:FM,Delta:VM,delta:$M,demptyv:qM,dfisht:BM,Dfr:UM,dfr:zM,dHar:HM,dharl:jM,dharr:GM,DiacriticalAcute:WM,DiacriticalDot:KM,DiacriticalDoubleAcute:YM,DiacriticalGrave:QM,DiacriticalTilde:ZM,diam:XM,diamond:JM,Diamond:tL,diamondsuit:eL,diams:nL,die:rL,DifferentialD:iL,digamma:sL,disin:oL,div:aL,divide:lL,divideontimes:cL,divonx:uL,DJcy:hL,djcy:fL,dlcorn:dL,dlcrop:pL,dollar:gL,Dopf:_L,dopf:mL,Dot:yL,dot:vL,DotDot:bL,doteq:wL,doteqdot:EL,DotEqual:xL,dotminus:SL,dotplus:AL,dotsquare:kL,doublebarwedge:CL,DoubleContourIntegral:TL,DoubleDot:IL,DoubleDownArrow:RL,DoubleLeftArrow:OL,DoubleLeftRightArrow:DL,DoubleLeftTee:PL,DoubleLongLeftArrow:ML,DoubleLongLeftRightArrow:LL,DoubleLongRightArrow:NL,DoubleRightArrow:FL,DoubleRightTee:VL,DoubleUpArrow:$L,DoubleUpDownArrow:qL,DoubleVerticalBar:BL,DownArrowBar:UL,downarrow:zL,DownArrow:HL,Downarrow:jL,DownArrowUpArrow:GL,DownBreve:WL,downdownarrows:KL,downharpoonleft:YL,downharpoonright:QL,DownLeftRightVector:ZL,DownLeftTeeVector:XL,DownLeftVectorBar:JL,DownLeftVector:tN,DownRightTeeVector:eN,DownRightVectorBar:nN,DownRightVector:rN,DownTeeArrow:iN,DownTee:sN,drbkarow:oN,drcorn:aN,drcrop:lN,Dscr:cN,dscr:uN,DScy:hN,dscy:fN,dsol:dN,Dstrok:pN,dstrok:gN,dtdot:_N,dtri:mN,dtrif:yN,duarr:vN,duhar:bN,dwangle:wN,DZcy:EN,dzcy:xN,dzigrarr:SN,Eacute:AN,eacute:kN,easter:CN,Ecaron:TN,ecaron:IN,Ecirc:RN,ecirc:ON,ecir:DN,ecolon:PN,Ecy:MN,ecy:LN,eDDot:NN,Edot:FN,edot:VN,eDot:$N,ee:qN,efDot:BN,Efr:UN,efr:zN,eg:HN,Egrave:jN,egrave:GN,egs:WN,egsdot:KN,el:YN,Element:QN,elinters:ZN,ell:XN,els:JN,elsdot:tF,Emacr:eF,emacr:nF,empty:rF,emptyset:iF,EmptySmallSquare:sF,emptyv:oF,EmptyVerySmallSquare:aF,emsp13:lF,emsp14:cF,emsp:uF,ENG:hF,eng:fF,ensp:dF,Eogon:pF,eogon:gF,Eopf:_F,eopf:mF,epar:yF,eparsl:vF,eplus:bF,epsi:wF,Epsilon:EF,epsilon:xF,epsiv:SF,eqcirc:AF,eqcolon:kF,eqsim:CF,eqslantgtr:TF,eqslantless:IF,Equal:RF,equals:OF,EqualTilde:DF,equest:PF,Equilibrium:MF,equiv:LF,equivDD:NF,eqvparsl:FF,erarr:VF,erDot:$F,escr:qF,Escr:BF,esdot:UF,Esim:zF,esim:HF,Eta:jF,eta:GF,ETH:WF,eth:KF,Euml:YF,euml:QF,euro:ZF,excl:XF,exist:JF,Exists:t3,expectation:e3,exponentiale:n3,ExponentialE:r3,fallingdotseq:i3,Fcy:s3,fcy:o3,female:a3,ffilig:l3,fflig:c3,ffllig:u3,Ffr:h3,ffr:f3,filig:d3,FilledSmallSquare:p3,FilledVerySmallSquare:g3,fjlig:_3,flat:m3,fllig:y3,fltns:v3,fnof:b3,Fopf:w3,fopf:E3,forall:x3,ForAll:S3,fork:A3,forkv:k3,Fouriertrf:C3,fpartint:T3,frac12:I3,frac13:R3,frac14:O3,frac15:D3,frac16:P3,frac18:M3,frac23:L3,frac25:N3,frac34:F3,frac35:V3,frac38:$3,frac45:q3,frac56:B3,frac58:U3,frac78:z3,frasl:H3,frown:j3,fscr:G3,Fscr:W3,gacute:K3,Gamma:Y3,gamma:Q3,Gammad:Z3,gammad:X3,gap:J3,Gbreve:tV,gbreve:eV,Gcedil:nV,Gcirc:rV,gcirc:iV,Gcy:sV,gcy:oV,Gdot:aV,gdot:lV,ge:cV,gE:uV,gEl:hV,gel:fV,geq:dV,geqq:pV,geqslant:gV,gescc:_V,ges:mV,gesdot:yV,gesdoto:vV,gesdotol:bV,gesl:wV,gesles:EV,Gfr:xV,gfr:SV,gg:AV,Gg:kV,ggg:CV,gimel:TV,GJcy:IV,gjcy:RV,gla:OV,gl:DV,glE:PV,glj:MV,gnap:LV,gnapprox:NV,gne:FV,gnE:VV,gneq:$V,gneqq:qV,gnsim:BV,Gopf:UV,gopf:zV,grave:HV,GreaterEqual:jV,GreaterEqualLess:GV,GreaterFullEqual:WV,GreaterGreater:KV,GreaterLess:YV,GreaterSlantEqual:QV,GreaterTilde:ZV,Gscr:XV,gscr:JV,gsim:t4,gsime:e4,gsiml:n4,gtcc:r4,gtcir:i4,gt:s4,GT:o4,Gt:a4,gtdot:l4,gtlPar:c4,gtquest:u4,gtrapprox:h4,gtrarr:f4,gtrdot:d4,gtreqless:p4,gtreqqless:g4,gtrless:_4,gtrsim:m4,gvertneqq:y4,gvnE:v4,Hacek:b4,hairsp:w4,half:E4,hamilt:x4,HARDcy:S4,hardcy:A4,harrcir:k4,harr:C4,hArr:T4,harrw:I4,Hat:R4,hbar:O4,Hcirc:D4,hcirc:P4,hearts:M4,heartsuit:L4,hellip:N4,hercon:F4,hfr:V4,Hfr:$4,HilbertSpace:q4,hksearow:B4,hkswarow:U4,hoarr:z4,homtht:H4,hookleftarrow:j4,hookrightarrow:G4,hopf:W4,Hopf:K4,horbar:Y4,HorizontalLine:Q4,hscr:Z4,Hscr:X4,hslash:J4,Hstrok:t9,hstrok:e9,HumpDownHump:n9,HumpEqual:r9,hybull:i9,hyphen:s9,Iacute:o9,iacute:a9,ic:l9,Icirc:c9,icirc:u9,Icy:h9,icy:f9,Idot:d9,IEcy:p9,iecy:g9,iexcl:_9,iff:m9,ifr:y9,Ifr:v9,Igrave:b9,igrave:w9,ii:E9,iiiint:x9,iiint:S9,iinfin:A9,iiota:k9,IJlig:C9,ijlig:T9,Imacr:I9,imacr:R9,image:O9,ImaginaryI:D9,imagline:P9,imagpart:M9,imath:L9,Im:N9,imof:F9,imped:V9,Implies:$9,incare:q9,in:"∈",infin:B9,infintie:U9,inodot:z9,intcal:H9,int:j9,Int:G9,integers:W9,Integral:K9,intercal:Y9,Intersection:Q9,intlarhk:Z9,intprod:X9,InvisibleComma:J9,InvisibleTimes:t$,IOcy:e$,iocy:n$,Iogon:r$,iogon:i$,Iopf:s$,iopf:o$,Iota:a$,iota:l$,iprod:c$,iquest:u$,iscr:h$,Iscr:f$,isin:d$,isindot:p$,isinE:g$,isins:_$,isinsv:m$,isinv:y$,it:v$,Itilde:b$,itilde:w$,Iukcy:E$,iukcy:x$,Iuml:S$,iuml:A$,Jcirc:k$,jcirc:C$,Jcy:T$,jcy:I$,Jfr:R$,jfr:O$,jmath:D$,Jopf:P$,jopf:M$,Jscr:L$,jscr:N$,Jsercy:F$,jsercy:V$,Jukcy:$$,jukcy:q$,Kappa:B$,kappa:U$,kappav:z$,Kcedil:H$,kcedil:j$,Kcy:G$,kcy:W$,Kfr:K$,kfr:Y$,kgreen:Q$,KHcy:Z$,khcy:X$,KJcy:J$,kjcy:t5,Kopf:e5,kopf:n5,Kscr:r5,kscr:i5,lAarr:s5,Lacute:o5,lacute:a5,laemptyv:l5,lagran:c5,Lambda:u5,lambda:h5,lang:f5,Lang:d5,langd:p5,langle:g5,lap:_5,Laplacetrf:m5,laquo:y5,larrb:v5,larrbfs:b5,larr:w5,Larr:E5,lArr:x5,larrfs:S5,larrhk:A5,larrlp:k5,larrpl:C5,larrsim:T5,larrtl:I5,latail:R5,lAtail:O5,lat:D5,late:P5,lates:M5,lbarr:L5,lBarr:N5,lbbrk:F5,lbrace:V5,lbrack:$5,lbrke:q5,lbrksld:B5,lbrkslu:U5,Lcaron:z5,lcaron:H5,Lcedil:j5,lcedil:G5,lceil:W5,lcub:K5,Lcy:Y5,lcy:Q5,ldca:Z5,ldquo:X5,ldquor:J5,ldrdhar:tq,ldrushar:eq,ldsh:nq,le:rq,lE:iq,LeftAngleBracket:sq,LeftArrowBar:oq,leftarrow:aq,LeftArrow:lq,Leftarrow:cq,LeftArrowRightArrow:uq,leftarrowtail:hq,LeftCeiling:fq,LeftDoubleBracket:dq,LeftDownTeeVector:pq,LeftDownVectorBar:gq,LeftDownVector:_q,LeftFloor:mq,leftharpoondown:yq,leftharpoonup:vq,leftleftarrows:bq,leftrightarrow:wq,LeftRightArrow:Eq,Leftrightarrow:xq,leftrightarrows:Sq,leftrightharpoons:Aq,leftrightsquigarrow:kq,LeftRightVector:Cq,LeftTeeArrow:Tq,LeftTee:Iq,LeftTeeVector:Rq,leftthreetimes:Oq,LeftTriangleBar:Dq,LeftTriangle:Pq,LeftTriangleEqual:Mq,LeftUpDownVector:Lq,LeftUpTeeVector:Nq,LeftUpVectorBar:Fq,LeftUpVector:Vq,LeftVectorBar:$q,LeftVector:qq,lEg:Bq,leg:Uq,leq:zq,leqq:Hq,leqslant:jq,lescc:Gq,les:Wq,lesdot:Kq,lesdoto:Yq,lesdotor:Qq,lesg:Zq,lesges:Xq,lessapprox:Jq,lessdot:tB,lesseqgtr:eB,lesseqqgtr:nB,LessEqualGreater:rB,LessFullEqual:iB,LessGreater:sB,lessgtr:oB,LessLess:aB,lesssim:lB,LessSlantEqual:cB,LessTilde:uB,lfisht:hB,lfloor:fB,Lfr:dB,lfr:pB,lg:gB,lgE:_B,lHar:mB,lhard:yB,lharu:vB,lharul:bB,lhblk:wB,LJcy:EB,ljcy:xB,llarr:SB,ll:AB,Ll:kB,llcorner:CB,Lleftarrow:TB,llhard:IB,lltri:RB,Lmidot:OB,lmidot:DB,lmoustache:PB,lmoust:MB,lnap:LB,lnapprox:NB,lne:FB,lnE:VB,lneq:$B,lneqq:qB,lnsim:BB,loang:UB,loarr:zB,lobrk:HB,longleftarrow:jB,LongLeftArrow:GB,Longleftarrow:WB,longleftrightarrow:KB,LongLeftRightArrow:YB,Longleftrightarrow:QB,longmapsto:ZB,longrightarrow:XB,LongRightArrow:JB,Longrightarrow:t6,looparrowleft:e6,looparrowright:n6,lopar:r6,Lopf:i6,lopf:s6,loplus:o6,lotimes:a6,lowast:l6,lowbar:c6,LowerLeftArrow:u6,LowerRightArrow:h6,loz:f6,lozenge:d6,lozf:p6,lpar:g6,lparlt:_6,lrarr:m6,lrcorner:y6,lrhar:v6,lrhard:b6,lrm:w6,lrtri:E6,lsaquo:x6,lscr:S6,Lscr:A6,lsh:k6,Lsh:C6,lsim:T6,lsime:I6,lsimg:R6,lsqb:O6,lsquo:D6,lsquor:P6,Lstrok:M6,lstrok:L6,ltcc:N6,ltcir:F6,lt:V6,LT:$6,Lt:q6,ltdot:B6,lthree:U6,ltimes:z6,ltlarr:H6,ltquest:j6,ltri:G6,ltrie:W6,ltrif:K6,ltrPar:Y6,lurdshar:Q6,luruhar:Z6,lvertneqq:X6,lvnE:J6,macr:tU,male:eU,malt:nU,maltese:rU,Map:"⤅",map:iU,mapsto:sU,mapstodown:oU,mapstoleft:aU,mapstoup:lU,marker:cU,mcomma:uU,Mcy:hU,mcy:fU,mdash:dU,mDDot:pU,measuredangle:gU,MediumSpace:_U,Mellintrf:mU,Mfr:yU,mfr:vU,mho:bU,micro:wU,midast:EU,midcir:xU,mid:SU,middot:AU,minusb:kU,minus:CU,minusd:TU,minusdu:IU,MinusPlus:RU,mlcp:OU,mldr:DU,mnplus:PU,models:MU,Mopf:LU,mopf:NU,mp:FU,mscr:VU,Mscr:$U,mstpos:qU,Mu:BU,mu:UU,multimap:zU,mumap:HU,nabla:jU,Nacute:GU,nacute:WU,nang:KU,nap:YU,napE:QU,napid:ZU,napos:XU,napprox:JU,natural:t8,naturals:e8,natur:n8,nbsp:r8,nbump:i8,nbumpe:s8,ncap:o8,Ncaron:a8,ncaron:l8,Ncedil:c8,ncedil:u8,ncong:h8,ncongdot:f8,ncup:d8,Ncy:p8,ncy:g8,ndash:_8,nearhk:m8,nearr:y8,neArr:v8,nearrow:b8,ne:w8,nedot:E8,NegativeMediumSpace:x8,NegativeThickSpace:S8,NegativeThinSpace:A8,NegativeVeryThinSpace:k8,nequiv:C8,nesear:T8,nesim:I8,NestedGreaterGreater:R8,NestedLessLess:O8,NewLine:D8,nexist:P8,nexists:M8,Nfr:L8,nfr:N8,ngE:F8,nge:V8,ngeq:$8,ngeqq:q8,ngeqslant:B8,nges:U8,nGg:z8,ngsim:H8,nGt:j8,ngt:G8,ngtr:W8,nGtv:K8,nharr:Y8,nhArr:Q8,nhpar:Z8,ni:X8,nis:J8,nisd:t7,niv:e7,NJcy:n7,njcy:r7,nlarr:i7,nlArr:s7,nldr:o7,nlE:a7,nle:l7,nleftarrow:c7,nLeftarrow:u7,nleftrightarrow:h7,nLeftrightarrow:f7,nleq:d7,nleqq:p7,nleqslant:g7,nles:_7,nless:m7,nLl:y7,nlsim:v7,nLt:b7,nlt:w7,nltri:E7,nltrie:x7,nLtv:S7,nmid:A7,NoBreak:k7,NonBreakingSpace:C7,nopf:T7,Nopf:I7,Not:R7,not:O7,NotCongruent:D7,NotCupCap:P7,NotDoubleVerticalBar:M7,NotElement:L7,NotEqual:N7,NotEqualTilde:F7,NotExists:V7,NotGreater:$7,NotGreaterEqual:q7,NotGreaterFullEqual:B7,NotGreaterGreater:U7,NotGreaterLess:z7,NotGreaterSlantEqual:H7,NotGreaterTilde:j7,NotHumpDownHump:G7,NotHumpEqual:W7,notin:K7,notindot:Y7,notinE:Q7,notinva:Z7,notinvb:X7,notinvc:J7,NotLeftTriangleBar:tz,NotLeftTriangle:ez,NotLeftTriangleEqual:nz,NotLess:rz,NotLessEqual:iz,NotLessGreater:sz,NotLessLess:oz,NotLessSlantEqual:az,NotLessTilde:lz,NotNestedGreaterGreater:cz,NotNestedLessLess:uz,notni:hz,notniva:fz,notnivb:dz,notnivc:pz,NotPrecedes:gz,NotPrecedesEqual:_z,NotPrecedesSlantEqual:mz,NotReverseElement:yz,NotRightTriangleBar:vz,NotRightTriangle:bz,NotRightTriangleEqual:wz,NotSquareSubset:Ez,NotSquareSubsetEqual:xz,NotSquareSuperset:Sz,NotSquareSupersetEqual:Az,NotSubset:kz,NotSubsetEqual:Cz,NotSucceeds:Tz,NotSucceedsEqual:Iz,NotSucceedsSlantEqual:Rz,NotSucceedsTilde:Oz,NotSuperset:Dz,NotSupersetEqual:Pz,NotTilde:Mz,NotTildeEqual:Lz,NotTildeFullEqual:Nz,NotTildeTilde:Fz,NotVerticalBar:Vz,nparallel:$z,npar:qz,nparsl:Bz,npart:Uz,npolint:zz,npr:Hz,nprcue:jz,nprec:Gz,npreceq:Wz,npre:Kz,nrarrc:Yz,nrarr:Qz,nrArr:Zz,nrarrw:Xz,nrightarrow:Jz,nRightarrow:tH,nrtri:eH,nrtrie:nH,nsc:rH,nsccue:iH,nsce:sH,Nscr:oH,nscr:aH,nshortmid:lH,nshortparallel:cH,nsim:uH,nsime:hH,nsimeq:fH,nsmid:dH,nspar:pH,nsqsube:gH,nsqsupe:_H,nsub:mH,nsubE:yH,nsube:vH,nsubset:bH,nsubseteq:wH,nsubseteqq:EH,nsucc:xH,nsucceq:SH,nsup:AH,nsupE:kH,nsupe:CH,nsupset:TH,nsupseteq:IH,nsupseteqq:RH,ntgl:OH,Ntilde:DH,ntilde:PH,ntlg:MH,ntriangleleft:LH,ntrianglelefteq:NH,ntriangleright:FH,ntrianglerighteq:VH,Nu:$H,nu:qH,num:BH,numero:UH,numsp:zH,nvap:HH,nvdash:jH,nvDash:GH,nVdash:WH,nVDash:KH,nvge:YH,nvgt:QH,nvHarr:ZH,nvinfin:XH,nvlArr:JH,nvle:tj,nvlt:ej,nvltrie:nj,nvrArr:rj,nvrtrie:ij,nvsim:sj,nwarhk:oj,nwarr:aj,nwArr:lj,nwarrow:cj,nwnear:uj,Oacute:hj,oacute:fj,oast:dj,Ocirc:pj,ocirc:gj,ocir:_j,Ocy:mj,ocy:yj,odash:vj,Odblac:bj,odblac:wj,odiv:Ej,odot:xj,odsold:Sj,OElig:Aj,oelig:kj,ofcir:Cj,Ofr:Tj,ofr:Ij,ogon:Rj,Ograve:Oj,ograve:Dj,ogt:Pj,ohbar:Mj,ohm:Lj,oint:Nj,olarr:Fj,olcir:Vj,olcross:$j,oline:qj,olt:Bj,Omacr:Uj,omacr:zj,Omega:Hj,omega:jj,Omicron:Gj,omicron:Wj,omid:Kj,ominus:Yj,Oopf:Qj,oopf:Zj,opar:Xj,OpenCurlyDoubleQuote:Jj,OpenCurlyQuote:tG,operp:eG,oplus:nG,orarr:rG,Or:iG,or:sG,ord:oG,order:aG,orderof:lG,ordf:cG,ordm:uG,origof:hG,oror:fG,orslope:dG,orv:pG,oS:gG,Oscr:_G,oscr:mG,Oslash:yG,oslash:vG,osol:bG,Otilde:wG,otilde:EG,otimesas:xG,Otimes:SG,otimes:AG,Ouml:kG,ouml:CG,ovbar:TG,OverBar:IG,OverBrace:RG,OverBracket:OG,OverParenthesis:DG,para:PG,parallel:MG,par:LG,parsim:NG,parsl:FG,part:VG,PartialD:$G,Pcy:qG,pcy:BG,percnt:UG,period:zG,permil:HG,perp:jG,pertenk:GG,Pfr:WG,pfr:KG,Phi:YG,phi:QG,phiv:ZG,phmmat:XG,phone:JG,Pi:tW,pi:eW,pitchfork:nW,piv:rW,planck:iW,planckh:sW,plankv:oW,plusacir:aW,plusb:lW,pluscir:cW,plus:uW,plusdo:hW,plusdu:fW,pluse:dW,PlusMinus:pW,plusmn:gW,plussim:_W,plustwo:mW,pm:yW,Poincareplane:vW,pointint:bW,popf:wW,Popf:EW,pound:xW,prap:SW,Pr:AW,pr:kW,prcue:CW,precapprox:TW,prec:IW,preccurlyeq:RW,Precedes:OW,PrecedesEqual:DW,PrecedesSlantEqual:PW,PrecedesTilde:MW,preceq:LW,precnapprox:NW,precneqq:FW,precnsim:VW,pre:$W,prE:qW,precsim:BW,prime:UW,Prime:zW,primes:HW,prnap:jW,prnE:GW,prnsim:WW,prod:KW,Product:YW,profalar:QW,profline:ZW,profsurf:XW,prop:JW,Proportional:tK,Proportion:eK,propto:nK,prsim:rK,prurel:iK,Pscr:sK,pscr:oK,Psi:aK,psi:lK,puncsp:cK,Qfr:uK,qfr:hK,qint:fK,qopf:dK,Qopf:pK,qprime:gK,Qscr:_K,qscr:mK,quaternions:yK,quatint:vK,quest:bK,questeq:wK,quot:EK,QUOT:xK,rAarr:SK,race:AK,Racute:kK,racute:CK,radic:TK,raemptyv:IK,rang:RK,Rang:OK,rangd:DK,range:PK,rangle:MK,raquo:LK,rarrap:NK,rarrb:FK,rarrbfs:VK,rarrc:$K,rarr:qK,Rarr:BK,rArr:UK,rarrfs:zK,rarrhk:HK,rarrlp:jK,rarrpl:GK,rarrsim:WK,Rarrtl:KK,rarrtl:YK,rarrw:QK,ratail:ZK,rAtail:XK,ratio:JK,rationals:tY,rbarr:eY,rBarr:nY,RBarr:rY,rbbrk:iY,rbrace:sY,rbrack:oY,rbrke:aY,rbrksld:lY,rbrkslu:cY,Rcaron:uY,rcaron:hY,Rcedil:fY,rcedil:dY,rceil:pY,rcub:gY,Rcy:_Y,rcy:mY,rdca:yY,rdldhar:vY,rdquo:bY,rdquor:wY,rdsh:EY,real:xY,realine:SY,realpart:AY,reals:kY,Re:CY,rect:TY,reg:IY,REG:RY,ReverseElement:OY,ReverseEquilibrium:DY,ReverseUpEquilibrium:PY,rfisht:MY,rfloor:LY,rfr:NY,Rfr:FY,rHar:VY,rhard:$Y,rharu:qY,rharul:BY,Rho:UY,rho:zY,rhov:HY,RightAngleBracket:jY,RightArrowBar:GY,rightarrow:WY,RightArrow:KY,Rightarrow:YY,RightArrowLeftArrow:QY,rightarrowtail:ZY,RightCeiling:XY,RightDoubleBracket:JY,RightDownTeeVector:tQ,RightDownVectorBar:eQ,RightDownVector:nQ,RightFloor:rQ,rightharpoondown:iQ,rightharpoonup:sQ,rightleftarrows:oQ,rightleftharpoons:aQ,rightrightarrows:lQ,rightsquigarrow:cQ,RightTeeArrow:uQ,RightTee:hQ,RightTeeVector:fQ,rightthreetimes:dQ,RightTriangleBar:pQ,RightTriangle:gQ,RightTriangleEqual:_Q,RightUpDownVector:mQ,RightUpTeeVector:yQ,RightUpVectorBar:vQ,RightUpVector:bQ,RightVectorBar:wQ,RightVector:EQ,ring:xQ,risingdotseq:SQ,rlarr:AQ,rlhar:kQ,rlm:CQ,rmoustache:TQ,rmoust:IQ,rnmid:RQ,roang:OQ,roarr:DQ,robrk:PQ,ropar:MQ,ropf:LQ,Ropf:NQ,roplus:FQ,rotimes:VQ,RoundImplies:$Q,rpar:qQ,rpargt:BQ,rppolint:UQ,rrarr:zQ,Rrightarrow:HQ,rsaquo:jQ,rscr:GQ,Rscr:WQ,rsh:KQ,Rsh:YQ,rsqb:QQ,rsquo:ZQ,rsquor:XQ,rthree:JQ,rtimes:tZ,rtri:eZ,rtrie:nZ,rtrif:rZ,rtriltri:iZ,RuleDelayed:sZ,ruluhar:oZ,rx:aZ,Sacute:lZ,sacute:cZ,sbquo:uZ,scap:hZ,Scaron:fZ,scaron:dZ,Sc:pZ,sc:gZ,sccue:_Z,sce:mZ,scE:yZ,Scedil:vZ,scedil:bZ,Scirc:wZ,scirc:EZ,scnap:xZ,scnE:SZ,scnsim:AZ,scpolint:kZ,scsim:CZ,Scy:TZ,scy:IZ,sdotb:RZ,sdot:OZ,sdote:DZ,searhk:PZ,searr:MZ,seArr:LZ,searrow:NZ,sect:FZ,semi:VZ,seswar:$Z,setminus:qZ,setmn:BZ,sext:UZ,Sfr:zZ,sfr:HZ,sfrown:jZ,sharp:GZ,SHCHcy:WZ,shchcy:KZ,SHcy:YZ,shcy:QZ,ShortDownArrow:ZZ,ShortLeftArrow:XZ,shortmid:JZ,shortparallel:tX,ShortRightArrow:eX,ShortUpArrow:nX,shy:rX,Sigma:iX,sigma:sX,sigmaf:oX,sigmav:aX,sim:lX,simdot:cX,sime:uX,simeq:hX,simg:fX,simgE:dX,siml:pX,simlE:gX,simne:_X,simplus:mX,simrarr:yX,slarr:vX,SmallCircle:bX,smallsetminus:wX,smashp:EX,smeparsl:xX,smid:SX,smile:AX,smt:kX,smte:CX,smtes:TX,SOFTcy:IX,softcy:RX,solbar:OX,solb:DX,sol:PX,Sopf:MX,sopf:LX,spades:NX,spadesuit:FX,spar:VX,sqcap:$X,sqcaps:qX,sqcup:BX,sqcups:UX,Sqrt:zX,sqsub:HX,sqsube:jX,sqsubset:GX,sqsubseteq:WX,sqsup:KX,sqsupe:YX,sqsupset:QX,sqsupseteq:ZX,square:XX,Square:JX,SquareIntersection:tJ,SquareSubset:eJ,SquareSubsetEqual:nJ,SquareSuperset:rJ,SquareSupersetEqual:iJ,SquareUnion:sJ,squarf:oJ,squ:aJ,squf:lJ,srarr:cJ,Sscr:uJ,sscr:hJ,ssetmn:fJ,ssmile:dJ,sstarf:pJ,Star:gJ,star:_J,starf:mJ,straightepsilon:yJ,straightphi:vJ,strns:bJ,sub:wJ,Sub:EJ,subdot:xJ,subE:SJ,sube:AJ,subedot:kJ,submult:CJ,subnE:TJ,subne:IJ,subplus:RJ,subrarr:OJ,subset:DJ,Subset:PJ,subseteq:MJ,subseteqq:LJ,SubsetEqual:NJ,subsetneq:FJ,subsetneqq:VJ,subsim:$J,subsub:qJ,subsup:BJ,succapprox:UJ,succ:zJ,succcurlyeq:HJ,Succeeds:jJ,SucceedsEqual:GJ,SucceedsSlantEqual:WJ,SucceedsTilde:KJ,succeq:YJ,succnapprox:QJ,succneqq:ZJ,succnsim:XJ,succsim:JJ,SuchThat:ttt,sum:ett,Sum:ntt,sung:rtt,sup1:itt,sup2:stt,sup3:ott,sup:att,Sup:ltt,supdot:ctt,supdsub:utt,supE:htt,supe:ftt,supedot:dtt,Superset:ptt,SupersetEqual:gtt,suphsol:_tt,suphsub:mtt,suplarr:ytt,supmult:vtt,supnE:btt,supne:wtt,supplus:Ett,supset:xtt,Supset:Stt,supseteq:Att,supseteqq:ktt,supsetneq:Ctt,supsetneqq:Ttt,supsim:Itt,supsub:Rtt,supsup:Ott,swarhk:Dtt,swarr:Ptt,swArr:Mtt,swarrow:Ltt,swnwar:Ntt,szlig:Ftt,Tab:Vtt,target:$tt,Tau:qtt,tau:Btt,tbrk:Utt,Tcaron:ztt,tcaron:Htt,Tcedil:jtt,tcedil:Gtt,Tcy:Wtt,tcy:Ktt,tdot:Ytt,telrec:Qtt,Tfr:Ztt,tfr:Xtt,there4:Jtt,therefore:tet,Therefore:eet,Theta:net,theta:ret,thetasym:iet,thetav:set,thickapprox:oet,thicksim:aet,ThickSpace:cet,ThinSpace:uet,thinsp:het,thkap:fet,thksim:det,THORN:pet,thorn:get,tilde:_et,Tilde:met,TildeEqual:yet,TildeFullEqual:vet,TildeTilde:bet,timesbar:wet,timesb:Eet,times:xet,timesd:Aet,tint:ket,toea:Cet,topbot:Tet,topcir:Iet,top:Ret,Topf:Oet,topf:Det,topfork:Pet,tosa:Met,tprime:Let,trade:Net,TRADE:Fet,triangle:Vet,triangledown:$et,triangleleft:qet,trianglelefteq:Bet,triangleq:Uet,triangleright:zet,trianglerighteq:Het,tridot:jet,trie:Get,triminus:Wet,TripleDot:Ket,triplus:Yet,trisb:Qet,tritime:Zet,trpezium:Xet,Tscr:Jet,tscr:tnt,TScy:ent,tscy:nnt,TSHcy:rnt,tshcy:int,Tstrok:snt,tstrok:ont,twixt:ant,twoheadleftarrow:lnt,twoheadrightarrow:cnt,Uacute:unt,uacute:hnt,uarr:fnt,Uarr:dnt,uArr:pnt,Uarrocir:gnt,Ubrcy:_nt,ubrcy:mnt,Ubreve:ynt,ubreve:vnt,Ucirc:bnt,ucirc:wnt,Ucy:Ent,ucy:xnt,udarr:Snt,Udblac:Ant,udblac:knt,udhar:Cnt,ufisht:Tnt,Ufr:Int,ufr:Rnt,Ugrave:Ont,ugrave:Dnt,uHar:Pnt,uharl:Mnt,uharr:Lnt,uhblk:Nnt,ulcorn:Fnt,ulcorner:Vnt,ulcrop:$nt,ultri:qnt,Umacr:Bnt,umacr:Unt,uml:znt,UnderBar:Hnt,UnderBrace:jnt,UnderBracket:Gnt,UnderParenthesis:Wnt,Union:Knt,UnionPlus:Ynt,Uogon:Qnt,uogon:Znt,Uopf:Xnt,uopf:Jnt,UpArrowBar:trt,uparrow:ert,UpArrow:nrt,Uparrow:rrt,UpArrowDownArrow:irt,updownarrow:srt,UpDownArrow:ort,Updownarrow:art,UpEquilibrium:lrt,upharpoonleft:crt,upharpoonright:urt,uplus:hrt,UpperLeftArrow:frt,UpperRightArrow:drt,upsi:prt,Upsi:grt,upsih:_rt,Upsilon:mrt,upsilon:yrt,UpTeeArrow:vrt,UpTee:brt,upuparrows:wrt,urcorn:Ert,urcorner:xrt,urcrop:Srt,Uring:Art,uring:krt,urtri:Crt,Uscr:Trt,uscr:Irt,utdot:Rrt,Utilde:Ort,utilde:Drt,utri:Prt,utrif:Mrt,uuarr:Lrt,Uuml:Nrt,uuml:Frt,uwangle:Vrt,vangrt:$rt,varepsilon:qrt,varkappa:Brt,varnothing:Urt,varphi:zrt,varpi:Hrt,varpropto:jrt,varr:Grt,vArr:Wrt,varrho:Krt,varsigma:Yrt,varsubsetneq:Qrt,varsubsetneqq:Zrt,varsupsetneq:Xrt,varsupsetneqq:Jrt,vartheta:tit,vartriangleleft:eit,vartriangleright:nit,vBar:rit,Vbar:iit,vBarv:sit,Vcy:oit,vcy:ait,vdash:lit,vDash:cit,Vdash:uit,VDash:hit,Vdashl:fit,veebar:dit,vee:pit,Vee:git,veeeq:_it,vellip:mit,verbar:yit,Verbar:vit,vert:bit,Vert:wit,VerticalBar:Eit,VerticalLine:xit,VerticalSeparator:Sit,VerticalTilde:Ait,VeryThinSpace:kit,Vfr:Cit,vfr:Tit,vltri:Iit,vnsub:Rit,vnsup:Oit,Vopf:Dit,vopf:Pit,vprop:Mit,vrtri:Lit,Vscr:Nit,vscr:Fit,vsubnE:Vit,vsubne:$it,vsupnE:qit,vsupne:Bit,Vvdash:Uit,vzigzag:zit,Wcirc:Hit,wcirc:jit,wedbar:Git,wedge:Wit,Wedge:Kit,wedgeq:Yit,weierp:Qit,Wfr:Zit,wfr:Xit,Wopf:Jit,wopf:tst,wp:est,wr:nst,wreath:rst,Wscr:ist,wscr:sst,xcap:ost,xcirc:ast,xcup:lst,xdtri:cst,Xfr:ust,xfr:hst,xharr:fst,xhArr:dst,Xi:pst,xi:gst,xlarr:_st,xlArr:mst,xmap:yst,xnis:vst,xodot:bst,Xopf:wst,xopf:Est,xoplus:xst,xotime:Sst,xrarr:Ast,xrArr:kst,Xscr:Cst,xscr:Tst,xsqcup:Ist,xuplus:Rst,xutri:Ost,xvee:Dst,xwedge:Pst,Yacute:Mst,yacute:Lst,YAcy:Nst,yacy:Fst,Ycirc:Vst,ycirc:$st,Ycy:qst,ycy:Bst,yen:Ust,Yfr:zst,yfr:Hst,YIcy:jst,yicy:Gst,Yopf:Wst,yopf:Kst,Yscr:Yst,yscr:Qst,YUcy:Zst,yucy:Xst,yuml:Jst,Yuml:tot,Zacute:eot,zacute:not,Zcaron:rot,zcaron:iot,Zcy:sot,zcy:oot,Zdot:aot,zdot:lot,zeetrf:cot,ZeroWidthSpace:uot,Zeta:hot,zeta:fot,zfr:dot,Zfr:pot,ZHcy:got,zhcy:_ot,zigrarr:mot,zopf:yot,Zopf:vot,Zscr:bot,zscr:wot,zwj:Eot,zwnj:xot};var F0=Sot,dd=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ro={},D_={};function Aot(e){var t,n,r=D_[e];if(r)return r;for(r=D_[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function Kc(e,t,n){var r,i,o,l,c,f="";for(typeof t!="string"&&(n=t,t=Kc.defaultChars),typeof n>"u"&&(n=!0),c=Aot(t),r=0,i=e.length;r<i;r++){if(o=e.charCodeAt(r),n&&o===37&&r+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){f+=e.slice(r,r+3),r+=2;continue}if(o<128){f+=c[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(l=e.charCodeAt(r+1),l>=56320&&l<=57343)){f+=encodeURIComponent(e[r]+e[r+1]),r++;continue}f+="%EF%BF%BD";continue}f+=encodeURIComponent(e[r])}return f}Kc.defaultChars=";/?:@&=+$,-_.!~*'()#";Kc.componentChars="-_.!~*'()";var kot=Kc,P_={};function Cot(e){var t,n,r=P_[e];if(r)return r;for(r=P_[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function Yc(e,t){var n;return typeof t!="string"&&(t=Yc.defaultChars),n=Cot(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var i,o,l,c,f,d,_,v="";for(i=0,o=r.length;i<o;i+=3){if(l=parseInt(r.slice(i+1,i+3),16),l<128){v+=n[l];continue}if((l&224)===192&&i+3<o&&(c=parseInt(r.slice(i+4,i+6),16),(c&192)===128)){_=l<<6&1984|c&63,_<128?v+="��":v+=String.fromCharCode(_),i+=3;continue}if((l&240)===224&&i+6<o&&(c=parseInt(r.slice(i+4,i+6),16),f=parseInt(r.slice(i+7,i+9),16),(c&192)===128&&(f&192)===128)){_=l<<12&61440|c<<6&4032|f&63,_<2048||_>=55296&&_<=57343?v+="���":v+=String.fromCharCode(_),i+=6;continue}if((l&248)===240&&i+9<o&&(c=parseInt(r.slice(i+4,i+6),16),f=parseInt(r.slice(i+7,i+9),16),d=parseInt(r.slice(i+10,i+12),16),(c&192)===128&&(f&192)===128&&(d&192)===128)){_=l<<18&1835008|c<<12&258048|f<<6&4032|d&63,_<65536||_>1114111?v+="����":(_-=65536,v+=String.fromCharCode(55296+(_>>10),56320+(_&1023))),i+=9;continue}v+="�"}return v})}Yc.defaultChars=";/?:@&=+$,#";Yc.componentChars="";var Tot=Yc,Iot=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function bc(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Rot=/^([a-z0-9.+-]+:)/i,Oot=/:[0-9]*$/,Dot=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Pot=["<",">",'"',"`"," ","\r",`
`,"	"],Mot=["{","}","|","\\","^","`"].concat(Pot),Lot=["'"].concat(Mot),M_=["%","/","?",";","#"].concat(Lot),L_=["/","?","#"],Not=255,N_=/^[+a-z0-9A-Z_-]{0,63}$/,Fot=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F_={javascript:!0,"javascript:":!0},V_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Vot(e,t){if(e&&e instanceof bc)return e;var n=new bc;return n.parse(e,t),n}bc.prototype.parse=function(e,t){var n,r,i,o,l,c=e;if(c=c.trim(),!t&&e.split("#").length===1){var f=Dot.exec(c);if(f)return this.pathname=f[1],f[2]&&(this.search=f[2]),this}var d=Rot.exec(c);if(d&&(d=d[0],i=d.toLowerCase(),this.protocol=d,c=c.substr(d.length)),(t||d||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l=c.substr(0,2)==="//",l&&!(d&&F_[d])&&(c=c.substr(2),this.slashes=!0)),!F_[d]&&(l||d&&!V_[d])){var _=-1;for(n=0;n<L_.length;n++)o=c.indexOf(L_[n]),o!==-1&&(_===-1||o<_)&&(_=o);var v,S;for(_===-1?S=c.lastIndexOf("@"):S=c.lastIndexOf("@",_),S!==-1&&(v=c.slice(0,S),c=c.slice(S+1),this.auth=v),_=-1,n=0;n<M_.length;n++)o=c.indexOf(M_[n]),o!==-1&&(_===-1||o<_)&&(_=o);_===-1&&(_=c.length),c[_-1]===":"&&_--;var A=c.slice(0,_);c=c.slice(_),this.parseHost(A),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P){var z=this.hostname.split(/\./);for(n=0,r=z.length;n<r;n++){var X=z[n];if(X&&!X.match(N_)){for(var it="",tt=0,_t=X.length;tt<_t;tt++)X.charCodeAt(tt)>127?it+="x":it+=X[tt];if(!it.match(N_)){var bt=z.slice(0,n),$t=z.slice(n+1),yt=X.match(Fot);yt&&(bt.push(yt[1]),$t.unshift(yt[2])),$t.length&&(c=$t.join(".")+c),this.hostname=bt.join(".");break}}}}this.hostname.length>Not&&(this.hostname=""),P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var Qt=c.indexOf("#");Qt!==-1&&(this.hash=c.substr(Qt),c=c.slice(0,Qt));var Se=c.indexOf("?");return Se!==-1&&(this.search=c.substr(Se),c=c.slice(0,Se)),c&&(this.pathname=c),V_[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};bc.prototype.parseHost=function(e){var t=Oot.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var $ot=Vot;Ro.encode=kot;Ro.decode=Tot;Ro.format=Iot;Ro.parse=$ot;var bs={},jh,$_;function V0(){return $_||($_=1,jh=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),jh}var Gh,q_;function $0(){return q_||(q_=1,Gh=/[\0-\x1F\x7F-\x9F]/),Gh}var Wh,B_;function qot(){return B_||(B_=1,Wh=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),Wh}var Kh,U_;function q0(){return U_||(U_=1,Kh=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),Kh}var z_;function Bot(){return z_||(z_=1,bs.Any=V0(),bs.Cc=$0(),bs.Cf=qot(),bs.P=dd,bs.Z=q0()),bs}(function(e){function t(wt){return Object.prototype.toString.call(wt)}function n(wt){return t(wt)==="[object String]"}var r=Object.prototype.hasOwnProperty;function i(wt,Ie){return r.call(wt,Ie)}function o(wt){var Ie=Array.prototype.slice.call(arguments,1);return Ie.forEach(function(re){if(re){if(typeof re!="object")throw new TypeError(re+"must be object");Object.keys(re).forEach(function(cn){wt[cn]=re[cn]})}}),wt}function l(wt,Ie,re){return[].concat(wt.slice(0,Ie),re,wt.slice(Ie+1))}function c(wt){return!(wt>=55296&&wt<=57343||wt>=64976&&wt<=65007||(wt&65535)===65535||(wt&65535)===65534||wt>=0&&wt<=8||wt===11||wt>=14&&wt<=31||wt>=127&&wt<=159||wt>1114111)}function f(wt){if(wt>65535){wt-=65536;var Ie=55296+(wt>>10),re=56320+(wt&1023);return String.fromCharCode(Ie,re)}return String.fromCharCode(wt)}var d=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,_=/&([a-z#][a-z0-9]{1,31});/gi,v=new RegExp(d.source+"|"+_.source,"gi"),S=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,A=F0;function P(wt,Ie){var re=0;return i(A,Ie)?A[Ie]:Ie.charCodeAt(0)===35&&S.test(Ie)&&(re=Ie[1].toLowerCase()==="x"?parseInt(Ie.slice(2),16):parseInt(Ie.slice(1),10),c(re))?f(re):wt}function z(wt){return wt.indexOf("\\")<0?wt:wt.replace(d,"$1")}function X(wt){return wt.indexOf("\\")<0&&wt.indexOf("&")<0?wt:wt.replace(v,function(Ie,re,cn){return re||P(Ie,cn)})}var it=/[&<>"]/,tt=/[&<>"]/g,_t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function bt(wt){return _t[wt]}function $t(wt){return it.test(wt)?wt.replace(tt,bt):wt}var yt=/[.?*+^$[\]\\(){}|-]/g;function Qt(wt){return wt.replace(yt,"\\$&")}function Se(wt){switch(wt){case 9:case 32:return!0}return!1}function He(wt){if(wt>=8192&&wt<=8202)return!0;switch(wt){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var oe=dd;function Me(wt){return oe.test(wt)}function mr(wt){switch(wt){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function yr(wt){return wt=wt.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(wt=wt.replace(/ẞ/g,"ß")),wt.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=Ro,e.lib.ucmicro=Bot(),e.assign=o,e.isString=n,e.has=i,e.unescapeMd=z,e.unescapeAll=X,e.isValidEntityCode=c,e.fromCodePoint=f,e.escapeHtml=$t,e.arrayReplaceAt=l,e.isSpace=Se,e.isWhiteSpace=He,e.isMdAsciiPunct=mr,e.isPunctChar=Me,e.escapeRE=Qt,e.normalizeReference=yr})(be);var Qc={},Uot=function(t,n,r){var i,o,l,c,f=-1,d=t.posMax,_=t.pos;for(t.pos=n+1,i=1;t.pos<d;){if(l=t.src.charCodeAt(t.pos),l===93&&(i--,i===0)){o=!0;break}if(c=t.pos,t.md.inline.skipToken(t),l===91){if(c===t.pos-1)i++;else if(r)return t.pos=_,-1}}return o&&(f=t.pos),t.pos=_,f},H_=be.unescapeAll,zot=function(t,n,r){var i,o,l=0,c=n,f={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(n)===60){for(n++;n<r;){if(i=t.charCodeAt(n),i===10||i===60)return f;if(i===62)return f.pos=n+1,f.str=H_(t.slice(c+1,n)),f.ok=!0,f;if(i===92&&n+1<r){n+=2;continue}n++}return f}for(o=0;n<r&&(i=t.charCodeAt(n),!(i===32||i<32||i===127));){if(i===92&&n+1<r){if(t.charCodeAt(n+1)===32)break;n+=2;continue}if(i===40&&(o++,o>32))return f;if(i===41){if(o===0)break;o--}n++}return c===n||o!==0||(f.str=H_(t.slice(c,n)),f.lines=l,f.pos=n,f.ok=!0),f},Hot=be.unescapeAll,jot=function(t,n,r){var i,o,l=0,c=n,f={ok:!1,pos:0,lines:0,str:""};if(n>=r||(o=t.charCodeAt(n),o!==34&&o!==39&&o!==40))return f;for(n++,o===40&&(o=41);n<r;){if(i=t.charCodeAt(n),i===o)return f.pos=n+1,f.lines=l,f.str=Hot(t.slice(c+1,n)),f.ok=!0,f;if(i===40&&o===41)return f;i===10?l++:i===92&&n+1<r&&(n++,t.charCodeAt(n)===10&&l++),n++}return f};Qc.parseLinkLabel=Uot;Qc.parseLinkDestination=zot;Qc.parseLinkTitle=jot;var Got=be.assign,Wot=be.unescapeAll,Os=be.escapeHtml,ni={};ni.code_inline=function(e,t,n,r,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+Os(e[t].content)+"</code>"};ni.code_block=function(e,t,n,r,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+Os(e[t].content)+`</code></pre>
`};ni.fence=function(e,t,n,r,i){var o=e[t],l=o.info?Wot(o.info).trim():"",c="",f="",d,_,v,S,A;return l&&(v=l.split(/(\s+)/g),c=v[0],f=v.slice(2).join("")),n.highlight?d=n.highlight(o.content,c,f)||Os(o.content):d=Os(o.content),d.indexOf("<pre")===0?d+`
`:l?(_=o.attrIndex("class"),S=o.attrs?o.attrs.slice():[],_<0?S.push(["class",n.langPrefix+c]):(S[_]=S[_].slice(),S[_][1]+=" "+n.langPrefix+c),A={attrs:S},"<pre><code"+i.renderAttrs(A)+">"+d+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+d+`</code></pre>
`};ni.image=function(e,t,n,r,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)};ni.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};ni.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};ni.text=function(e,t){return Os(e[t].content)};ni.html_block=function(e,t){return e[t].content};ni.html_inline=function(e,t){return e[t].content};function Oo(){this.rules=Got({},ni)}Oo.prototype.renderAttrs=function(t){var n,r,i;if(!t.attrs)return"";for(i="",n=0,r=t.attrs.length;n<r;n++)i+=" "+Os(t.attrs[n][0])+'="'+Os(t.attrs[n][1])+'"';return i};Oo.prototype.renderToken=function(t,n,r){var i,o="",l=!1,c=t[n];return c.hidden?"":(c.block&&c.nesting!==-1&&n&&t[n-1].hidden&&(o+=`
`),o+=(c.nesting===-1?"</":"<")+c.tag,o+=this.renderAttrs(c),c.nesting===0&&r.xhtmlOut&&(o+=" /"),c.block&&(l=!0,c.nesting===1&&n+1<t.length&&(i=t[n+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===c.tag)&&(l=!1))),o+=l?`>
`:">",o)};Oo.prototype.renderInline=function(e,t,n){for(var r,i="",o=this.rules,l=0,c=e.length;l<c;l++)r=e[l].type,typeof o[r]<"u"?i+=o[r](e,l,t,n,this):i+=this.renderToken(e,l,t);return i};Oo.prototype.renderInlineAsText=function(e,t,n){for(var r="",i=0,o=e.length;i<o;i++)e[i].type==="text"?r+=e[i].content:e[i].type==="image"?r+=this.renderInlineAsText(e[i].children,t,n):e[i].type==="softbreak"&&(r+=`
`);return r};Oo.prototype.render=function(e,t,n){var r,i,o,l="",c=this.rules;for(r=0,i=e.length;r<i;r++)o=e[r].type,o==="inline"?l+=this.renderInline(e[r].children,t,n):typeof c[o]<"u"?l+=c[e[r].type](e,r,t,n,this):l+=this.renderToken(e,r,t,n);return l};var Kot=Oo;function jr(){this.__rules__=[],this.__cache__=null}jr.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};jr.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};jr.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null};jr.prototype.before=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};jr.prototype.after=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};jr.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};jr.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var i=this.__find__(r);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};jr.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};jr.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var i=this.__find__(r);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};jr.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var pd=jr,Yot=/\r\n?|\n/g,Qot=/\0/g,Zot=function(t){var n;n=t.src.replace(Yot,`
`),n=n.replace(Qot,"�"),t.src=n},Xot=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},Jot=function(t){var n=t.tokens,r,i,o;for(i=0,o=n.length;i<o;i++)r=n[i],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},tat=be.arrayReplaceAt;function eat(e){return/^<a[>\s]/i.test(e)}function nat(e){return/^<\/a\s*>/i.test(e)}var rat=function(t){var n,r,i,o,l,c,f,d,_,v,S,A,P,z,X,it,tt=t.tokens,_t;if(t.md.options.linkify){for(r=0,i=tt.length;r<i;r++)if(!(tt[r].type!=="inline"||!t.md.linkify.pretest(tt[r].content)))for(o=tt[r].children,P=0,n=o.length-1;n>=0;n--){if(c=o[n],c.type==="link_close"){for(n--;o[n].level!==c.level&&o[n].type!=="link_open";)n--;continue}if(c.type==="html_inline"&&(eat(c.content)&&P>0&&P--,nat(c.content)&&P++),!(P>0)&&c.type==="text"&&t.md.linkify.test(c.content)){for(_=c.content,_t=t.md.linkify.match(_),f=[],A=c.level,S=0,d=0;d<_t.length;d++)z=_t[d].url,X=t.md.normalizeLink(z),t.md.validateLink(X)&&(it=_t[d].text,_t[d].schema?_t[d].schema==="mailto:"&&!/^mailto:/i.test(it)?it=t.md.normalizeLinkText("mailto:"+it).replace(/^mailto:/,""):it=t.md.normalizeLinkText(it):it=t.md.normalizeLinkText("http://"+it).replace(/^http:\/\//,""),v=_t[d].index,v>S&&(l=new t.Token("text","",0),l.content=_.slice(S,v),l.level=A,f.push(l)),l=new t.Token("link_open","a",1),l.attrs=[["href",X]],l.level=A++,l.markup="linkify",l.info="auto",f.push(l),l=new t.Token("text","",0),l.content=it,l.level=A,f.push(l),l=new t.Token("link_close","a",-1),l.level=--A,l.markup="linkify",l.info="auto",f.push(l),S=_t[d].lastIndex);S<_.length&&(l=new t.Token("text","",0),l.content=_.slice(S),l.level=A,f.push(l)),tt[r].children=o=tat(o,n,f)}}}},B0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,iat=/\((c|tm|r|p)\)/i,sat=/\((c|tm|r|p)\)/ig,oat={c:"©",r:"®",p:"§",tm:"™"};function aat(e,t){return oat[t.toLowerCase()]}function lat(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(sat,aat)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function cat(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&B0.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var uat=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(iat.test(t.tokens[n].content)&&lat(t.tokens[n].children),B0.test(t.tokens[n].content)&&cat(t.tokens[n].children))},j_=be.isWhiteSpace,G_=be.isPunctChar,W_=be.isMdAsciiPunct,hat=/['"]/,K_=/['"]/g,Y_="’";function Jl(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function fat(e,t){var n,r,i,o,l,c,f,d,_,v,S,A,P,z,X,it,tt,_t,bt,$t,yt;for(bt=[],n=0;n<e.length;n++){for(r=e[n],f=e[n].level,tt=bt.length-1;tt>=0&&!(bt[tt].level<=f);tt--);if(bt.length=tt+1,r.type==="text"){i=r.content,l=0,c=i.length;t:for(;l<c&&(K_.lastIndex=l,o=K_.exec(i),!!o);){if(X=it=!0,l=o.index+1,_t=o[0]==="'",_=32,o.index-1>=0)_=i.charCodeAt(o.index-1);else for(tt=n-1;tt>=0&&!(e[tt].type==="softbreak"||e[tt].type==="hardbreak");tt--)if(e[tt].content){_=e[tt].content.charCodeAt(e[tt].content.length-1);break}if(v=32,l<c)v=i.charCodeAt(l);else for(tt=n+1;tt<e.length&&!(e[tt].type==="softbreak"||e[tt].type==="hardbreak");tt++)if(e[tt].content){v=e[tt].content.charCodeAt(0);break}if(S=W_(_)||G_(String.fromCharCode(_)),A=W_(v)||G_(String.fromCharCode(v)),P=j_(_),z=j_(v),z?X=!1:A&&(P||S||(X=!1)),P?it=!1:S&&(z||A||(it=!1)),v===34&&o[0]==='"'&&_>=48&&_<=57&&(it=X=!1),X&&it&&(X=S,it=A),!X&&!it){_t&&(r.content=Jl(r.content,o.index,Y_));continue}if(it){for(tt=bt.length-1;tt>=0&&(d=bt[tt],!(bt[tt].level<f));tt--)if(d.single===_t&&bt[tt].level===f){d=bt[tt],_t?($t=t.md.options.quotes[2],yt=t.md.options.quotes[3]):($t=t.md.options.quotes[0],yt=t.md.options.quotes[1]),r.content=Jl(r.content,o.index,yt),e[d.token].content=Jl(e[d.token].content,d.pos,$t),l+=yt.length-1,d.token===n&&(l+=$t.length-1),i=r.content,c=i.length,bt.length=tt;continue t}}X?bt.push({token:n,pos:o.index,single:_t,level:f}):it&&_t&&(r.content=Jl(r.content,o.index,Y_))}}}}var dat=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!hat.test(t.tokens[n].content)||fat(t.tokens[n].children,t)};function Do(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Do.prototype.attrIndex=function(t){var n,r,i;if(!this.attrs)return-1;for(n=this.attrs,r=0,i=n.length;r<i;r++)if(n[r][0]===t)return r;return-1};Do.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Do.prototype.attrSet=function(t,n){var r=this.attrIndex(t),i=[t,n];r<0?this.attrPush(i):this.attrs[r]=i};Do.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Do.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var gd=Do,pat=gd;function U0(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}U0.prototype.Token=pat;var gat=U0,_at=pd,Yh=[["normalize",Zot],["block",Xot],["inline",Jot],["linkify",rat],["replacements",uat],["smartquotes",dat]];function _d(){this.ruler=new _at;for(var e=0;e<Yh.length;e++)this.ruler.push(Yh[e][0],Yh[e][1])}_d.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};_d.prototype.State=gat;var mat=_d,Qh=be.isSpace;function Zh(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.substr(n,r-n)}function Q_(e){var t=[],n=0,r=e.length,i,o=!1,l=0,c="";for(i=e.charCodeAt(n);n<r;)i===124&&(o?(c+=e.substring(l,n-1),l=n):(t.push(c+e.substring(l,n)),c="",l=n+1)),o=i===92,n++,i=e.charCodeAt(n);return t.push(c+e.substring(l)),t}var yat=function(t,n,r,i){var o,l,c,f,d,_,v,S,A,P,z,X,it,tt,_t,bt,$t,yt;if(n+2>r||(_=n+1,t.sCount[_]<t.blkIndent)||t.sCount[_]-t.blkIndent>=4||(c=t.bMarks[_]+t.tShift[_],c>=t.eMarks[_])||($t=t.src.charCodeAt(c++),$t!==124&&$t!==45&&$t!==58)||c>=t.eMarks[_]||(yt=t.src.charCodeAt(c++),yt!==124&&yt!==45&&yt!==58&&!Qh(yt))||$t===45&&Qh(yt))return!1;for(;c<t.eMarks[_];){if(o=t.src.charCodeAt(c),o!==124&&o!==45&&o!==58&&!Qh(o))return!1;c++}for(l=Zh(t,n+1),v=l.split("|"),P=[],f=0;f<v.length;f++){if(z=v[f].trim(),!z){if(f===0||f===v.length-1)continue;return!1}if(!/^:?-+:?$/.test(z))return!1;z.charCodeAt(z.length-1)===58?P.push(z.charCodeAt(0)===58?"center":"right"):z.charCodeAt(0)===58?P.push("left"):P.push("")}if(l=Zh(t,n).trim(),l.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(v=Q_(l),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),S=v.length,S===0||S!==P.length))return!1;if(i)return!0;for(tt=t.parentType,t.parentType="table",bt=t.md.block.ruler.getRules("blockquote"),A=t.push("table_open","table",1),A.map=X=[n,0],A=t.push("thead_open","thead",1),A.map=[n,n+1],A=t.push("tr_open","tr",1),A.map=[n,n+1],f=0;f<v.length;f++)A=t.push("th_open","th",1),P[f]&&(A.attrs=[["style","text-align:"+P[f]]]),A=t.push("inline","",0),A.content=v[f].trim(),A.children=[],A=t.push("th_close","th",-1);for(A=t.push("tr_close","tr",-1),A=t.push("thead_close","thead",-1),_=n+2;_<r&&!(t.sCount[_]<t.blkIndent);_++){for(_t=!1,f=0,d=bt.length;f<d;f++)if(bt[f](t,_,r,!0)){_t=!0;break}if(_t||(l=Zh(t,_).trim(),!l)||t.sCount[_]-t.blkIndent>=4)break;for(v=Q_(l),v.length&&v[0]===""&&v.shift(),v.length&&v[v.length-1]===""&&v.pop(),_===n+2&&(A=t.push("tbody_open","tbody",1),A.map=it=[n+2,0]),A=t.push("tr_open","tr",1),A.map=[_,_+1],f=0;f<S;f++)A=t.push("td_open","td",1),P[f]&&(A.attrs=[["style","text-align:"+P[f]]]),A=t.push("inline","",0),A.content=v[f]?v[f].trim():"",A.children=[],A=t.push("td_close","td",-1);A=t.push("tr_close","tr",-1)}return it&&(A=t.push("tbody_close","tbody",-1),it[1]=_),A=t.push("table_close","table",-1),X[1]=_,t.parentType=tt,t.line=_,!0},vat=function(t,n,r){var i,o,l;if(t.sCount[n]-t.blkIndent<4)return!1;for(o=i=n+1;i<r;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,o=i;continue}break}return t.line=o,l=t.push("code_block","code",0),l.content=t.getLines(n,o,4+t.blkIndent,!1)+`
`,l.map=[n,t.line],!0},bat=function(t,n,r,i){var o,l,c,f,d,_,v,S=!1,A=t.bMarks[n]+t.tShift[n],P=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||A+3>P||(o=t.src.charCodeAt(A),o!==126&&o!==96)||(d=A,A=t.skipChars(A,o),l=A-d,l<3)||(v=t.src.slice(d,A),c=t.src.slice(A,P),o===96&&c.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(f=n;f++,!(f>=r||(A=d=t.bMarks[f]+t.tShift[f],P=t.eMarks[f],A<P&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(A)===o&&!(t.sCount[f]-t.blkIndent>=4)&&(A=t.skipChars(A,o),!(A-d<l)&&(A=t.skipSpaces(A),!(A<P)))){S=!0;break}return l=t.sCount[n],t.line=f+(S?1:0),_=t.push("fence","code",0),_.info=c,_.content=t.getLines(n+1,f,l,!0),_.markup=v,_.map=[n,t.line],!0},Z_=be.isSpace,wat=function(t,n,r,i){var o,l,c,f,d,_,v,S,A,P,z,X,it,tt,_t,bt,$t,yt,Qt,Se,He=t.lineMax,oe=t.bMarks[n]+t.tShift[n],Me=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(oe++)!==62)return!1;if(i)return!0;for(f=A=t.sCount[n]+1,t.src.charCodeAt(oe)===32?(oe++,f++,A++,o=!1,bt=!0):t.src.charCodeAt(oe)===9?(bt=!0,(t.bsCount[n]+A)%4===3?(oe++,f++,A++,o=!1):o=!0):bt=!1,P=[t.bMarks[n]],t.bMarks[n]=oe;oe<Me&&(l=t.src.charCodeAt(oe),Z_(l));){l===9?A+=4-(A+t.bsCount[n]+(o?1:0))%4:A++;oe++}for(z=[t.bsCount[n]],t.bsCount[n]=t.sCount[n]+1+(bt?1:0),_=oe>=Me,tt=[t.sCount[n]],t.sCount[n]=A-f,_t=[t.tShift[n]],t.tShift[n]=oe-t.bMarks[n],yt=t.md.block.ruler.getRules("blockquote"),it=t.parentType,t.parentType="blockquote",S=n+1;S<r&&(Se=t.sCount[S]<t.blkIndent,oe=t.bMarks[S]+t.tShift[S],Me=t.eMarks[S],!(oe>=Me));S++){if(t.src.charCodeAt(oe++)===62&&!Se){for(f=A=t.sCount[S]+1,t.src.charCodeAt(oe)===32?(oe++,f++,A++,o=!1,bt=!0):t.src.charCodeAt(oe)===9?(bt=!0,(t.bsCount[S]+A)%4===3?(oe++,f++,A++,o=!1):o=!0):bt=!1,P.push(t.bMarks[S]),t.bMarks[S]=oe;oe<Me&&(l=t.src.charCodeAt(oe),Z_(l));){l===9?A+=4-(A+t.bsCount[S]+(o?1:0))%4:A++;oe++}_=oe>=Me,z.push(t.bsCount[S]),t.bsCount[S]=t.sCount[S]+1+(bt?1:0),tt.push(t.sCount[S]),t.sCount[S]=A-f,_t.push(t.tShift[S]),t.tShift[S]=oe-t.bMarks[S];continue}if(_)break;for($t=!1,c=0,d=yt.length;c<d;c++)if(yt[c](t,S,r,!0)){$t=!0;break}if($t){t.lineMax=S,t.blkIndent!==0&&(P.push(t.bMarks[S]),z.push(t.bsCount[S]),_t.push(t.tShift[S]),tt.push(t.sCount[S]),t.sCount[S]-=t.blkIndent);break}P.push(t.bMarks[S]),z.push(t.bsCount[S]),_t.push(t.tShift[S]),tt.push(t.sCount[S]),t.sCount[S]=-1}for(X=t.blkIndent,t.blkIndent=0,Qt=t.push("blockquote_open","blockquote",1),Qt.markup=">",Qt.map=v=[n,0],t.md.block.tokenize(t,n,S),Qt=t.push("blockquote_close","blockquote",-1),Qt.markup=">",t.lineMax=He,t.parentType=it,v[1]=t.line,c=0;c<_t.length;c++)t.bMarks[c+n]=P[c],t.tShift[c+n]=_t[c],t.sCount[c+n]=tt[c],t.bsCount[c+n]=z[c];return t.blkIndent=X,!0},Eat=be.isSpace,xat=function(t,n,r,i){var o,l,c,f,d=t.bMarks[n]+t.tShift[n],_=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(o=t.src.charCodeAt(d++),o!==42&&o!==45&&o!==95))return!1;for(l=1;d<_;){if(c=t.src.charCodeAt(d++),c!==o&&!Eat(c))return!1;c===o&&l++}return l<3?!1:(i||(t.line=n+1,f=t.push("hr","hr",0),f.map=[n,t.line],f.markup=Array(l+1).join(String.fromCharCode(o))),!0)},z0=be.isSpace;function X_(e,t){var n,r,i,o;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<i&&(o=e.src.charCodeAt(r),!z0(o))?-1:r}function J_(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=r,o=e.eMarks[t];if(i+1>=o||(n=e.src.charCodeAt(i++),n<48||n>57))return-1;for(;;){if(i>=o)return-1;if(n=e.src.charCodeAt(i++),n>=48&&n<=57){if(i-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return i<o&&(n=e.src.charCodeAt(i),!z0(n))?-1:i}function Sat(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var Aat=function(t,n,r,i){var o,l,c,f,d,_,v,S,A,P,z,X,it,tt,_t,bt,$t,yt,Qt,Se,He,oe,Me,mr,yr,wt,Ie,re,cn=!1,ar=!0;if(t.sCount[n]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[n]-t.listIndent>=4&&t.sCount[n]<t.blkIndent)return!1;if(i&&t.parentType==="paragraph"&&t.sCount[n]>=t.blkIndent&&(cn=!0),(Me=J_(t,n))>=0){if(v=!0,yr=t.bMarks[n]+t.tShift[n],it=Number(t.src.slice(yr,Me-1)),cn&&it!==1)return!1}else if((Me=X_(t,n))>=0)v=!1;else return!1;if(cn&&t.skipSpaces(Me)>=t.eMarks[n])return!1;if(X=t.src.charCodeAt(Me-1),i)return!0;for(z=t.tokens.length,v?(re=t.push("ordered_list_open","ol",1),it!==1&&(re.attrs=[["start",it]])):re=t.push("bullet_list_open","ul",1),re.map=P=[n,0],re.markup=String.fromCharCode(X),_t=n,mr=!1,Ie=t.md.block.ruler.getRules("list"),yt=t.parentType,t.parentType="list";_t<r;){for(oe=Me,tt=t.eMarks[_t],_=bt=t.sCount[_t]+Me-(t.bMarks[n]+t.tShift[n]);oe<tt;){if(o=t.src.charCodeAt(oe),o===9)bt+=4-(bt+t.bsCount[_t])%4;else if(o===32)bt++;else break;oe++}if(l=oe,l>=tt?d=1:d=bt-_,d>4&&(d=1),f=_+d,re=t.push("list_item_open","li",1),re.markup=String.fromCharCode(X),re.map=S=[n,0],v&&(re.info=t.src.slice(yr,Me-1)),He=t.tight,Se=t.tShift[n],Qt=t.sCount[n],$t=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=f,t.tight=!0,t.tShift[n]=l-t.bMarks[n],t.sCount[n]=bt,l>=tt&&t.isEmpty(n+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,n,r,!0),(!t.tight||mr)&&(ar=!1),mr=t.line-n>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=$t,t.tShift[n]=Se,t.sCount[n]=Qt,t.tight=He,re=t.push("list_item_close","li",-1),re.markup=String.fromCharCode(X),_t=n=t.line,S[1]=_t,l=t.bMarks[n],_t>=r||t.sCount[_t]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)break;for(wt=!1,c=0,A=Ie.length;c<A;c++)if(Ie[c](t,_t,r,!0)){wt=!0;break}if(wt)break;if(v){if(Me=J_(t,_t),Me<0)break;yr=t.bMarks[_t]+t.tShift[_t]}else if(Me=X_(t,_t),Me<0)break;if(X!==t.src.charCodeAt(Me-1))break}return v?re=t.push("ordered_list_close","ol",-1):re=t.push("bullet_list_close","ul",-1),re.markup=String.fromCharCode(X),P[1]=_t,t.line=_t,t.parentType=yt,ar&&Sat(t,z),!0},kat=be.normalizeReference,tc=be.isSpace,Cat=function(t,n,r,i){var o,l,c,f,d,_,v,S,A,P,z,X,it,tt,_t,bt,$t=0,yt=t.bMarks[n]+t.tShift[n],Qt=t.eMarks[n],Se=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(yt)!==91)return!1;for(;++yt<Qt;)if(t.src.charCodeAt(yt)===93&&t.src.charCodeAt(yt-1)!==92){if(yt+1===Qt||t.src.charCodeAt(yt+1)!==58)return!1;break}for(f=t.lineMax,_t=t.md.block.ruler.getRules("reference"),P=t.parentType,t.parentType="reference";Se<f&&!t.isEmpty(Se);Se++)if(!(t.sCount[Se]-t.blkIndent>3)&&!(t.sCount[Se]<0)){for(tt=!1,_=0,v=_t.length;_<v;_++)if(_t[_](t,Se,f,!0)){tt=!0;break}if(tt)break}for(it=t.getLines(n,Se,t.blkIndent,!1).trim(),Qt=it.length,yt=1;yt<Qt;yt++){if(o=it.charCodeAt(yt),o===91)return!1;if(o===93){A=yt;break}else o===10?$t++:o===92&&(yt++,yt<Qt&&it.charCodeAt(yt)===10&&$t++)}if(A<0||it.charCodeAt(A+1)!==58)return!1;for(yt=A+2;yt<Qt;yt++)if(o=it.charCodeAt(yt),o===10)$t++;else if(!tc(o))break;if(z=t.md.helpers.parseLinkDestination(it,yt,Qt),!z.ok||(d=t.md.normalizeLink(z.str),!t.md.validateLink(d)))return!1;for(yt=z.pos,$t+=z.lines,l=yt,c=$t,X=yt;yt<Qt;yt++)if(o=it.charCodeAt(yt),o===10)$t++;else if(!tc(o))break;for(z=t.md.helpers.parseLinkTitle(it,yt,Qt),yt<Qt&&X!==yt&&z.ok?(bt=z.str,yt=z.pos,$t+=z.lines):(bt="",yt=l,$t=c);yt<Qt&&(o=it.charCodeAt(yt),!!tc(o));)yt++;if(yt<Qt&&it.charCodeAt(yt)!==10&&bt)for(bt="",yt=l,$t=c;yt<Qt&&(o=it.charCodeAt(yt),!!tc(o));)yt++;return yt<Qt&&it.charCodeAt(yt)!==10||(S=kat(it.slice(1,A)),!S)?!1:(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[S]>"u"&&(t.env.references[S]={title:bt,href:d}),t.parentType=P,t.line=n+$t+1),!0)},Tat=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zc={},Iat="[a-zA-Z_:][a-zA-Z0-9:._-]*",Rat="[^\"'=<>`\\x00-\\x20]+",Oat="'[^']*'",Dat='"[^"]*"',Pat="(?:"+Rat+"|"+Oat+"|"+Dat+")",Mat="(?:\\s+"+Iat+"(?:\\s*=\\s*"+Pat+")?)",H0="<[A-Za-z][A-Za-z0-9\\-]*"+Mat+"*\\s*\\/?>",j0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Lat="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Nat="<[?][\\s\\S]*?[?]>",Fat="<![A-Z]+\\s+[^>]*>",Vat="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",$at=new RegExp("^(?:"+H0+"|"+j0+"|"+Lat+"|"+Nat+"|"+Fat+"|"+Vat+")"),qat=new RegExp("^(?:"+H0+"|"+j0+")");Zc.HTML_TAG_RE=$at;Zc.HTML_OPEN_CLOSE_TAG_RE=qat;var Bat=Tat,Uat=Zc.HTML_OPEN_CLOSE_TAG_RE,co=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Bat.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Uat.source+"\\s*$"),/^$/,!1]],zat=function(t,n,r,i){var o,l,c,f,d=t.bMarks[n]+t.tShift[n],_=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(d)!==60)return!1;for(f=t.src.slice(d,_),o=0;o<co.length&&!co[o][0].test(f);o++);if(o===co.length)return!1;if(i)return co[o][2];if(l=n+1,!co[o][1].test(f)){for(;l<r&&!(t.sCount[l]<t.blkIndent);l++)if(d=t.bMarks[l]+t.tShift[l],_=t.eMarks[l],f=t.src.slice(d,_),co[o][1].test(f)){f.length!==0&&l++;break}}return t.line=l,c=t.push("html_block","",0),c.map=[n,l],c.content=t.getLines(n,l,t.blkIndent,!0),!0},tm=be.isSpace,Hat=function(t,n,r,i){var o,l,c,f,d=t.bMarks[n]+t.tShift[n],_=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(o=t.src.charCodeAt(d),o!==35||d>=_))return!1;for(l=1,o=t.src.charCodeAt(++d);o===35&&d<_&&l<=6;)l++,o=t.src.charCodeAt(++d);return l>6||d<_&&!tm(o)?!1:(i||(_=t.skipSpacesBack(_,d),c=t.skipCharsBack(_,35,d),c>d&&tm(t.src.charCodeAt(c-1))&&(_=c),t.line=n+1,f=t.push("heading_open","h"+String(l),1),f.markup="########".slice(0,l),f.map=[n,t.line],f=t.push("inline","",0),f.content=t.src.slice(d,_).trim(),f.map=[n,t.line],f.children=[],f=t.push("heading_close","h"+String(l),-1),f.markup="########".slice(0,l)),!0)},jat=function(t,n,r){var i,o,l,c,f,d,_,v,S,A=n+1,P,z=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(P=t.parentType,t.parentType="paragraph";A<r&&!t.isEmpty(A);A++)if(!(t.sCount[A]-t.blkIndent>3)){if(t.sCount[A]>=t.blkIndent&&(d=t.bMarks[A]+t.tShift[A],_=t.eMarks[A],d<_&&(S=t.src.charCodeAt(d),(S===45||S===61)&&(d=t.skipChars(d,S),d=t.skipSpaces(d),d>=_)))){v=S===61?1:2;break}if(!(t.sCount[A]<0)){for(o=!1,l=0,c=z.length;l<c;l++)if(z[l](t,A,r,!0)){o=!0;break}if(o)break}}return v?(i=t.getLines(n,A,t.blkIndent,!1).trim(),t.line=A+1,f=t.push("heading_open","h"+String(v),1),f.markup=String.fromCharCode(S),f.map=[n,t.line],f=t.push("inline","",0),f.content=i,f.map=[n,t.line-1],f.children=[],f=t.push("heading_close","h"+String(v),-1),f.markup=String.fromCharCode(S),t.parentType=P,!0):!1},Gat=function(t,n){var r,i,o,l,c,f,d=n+1,_=t.md.block.ruler.getRules("paragraph"),v=t.lineMax;for(f=t.parentType,t.parentType="paragraph";d<v&&!t.isEmpty(d);d++)if(!(t.sCount[d]-t.blkIndent>3)&&!(t.sCount[d]<0)){for(i=!1,o=0,l=_.length;o<l;o++)if(_[o](t,d,v,!0)){i=!0;break}if(i)break}return r=t.getLines(n,d,t.blkIndent,!1).trim(),t.line=d,c=t.push("paragraph_open","p",1),c.map=[n,t.line],c=t.push("inline","",0),c.content=r,c.map=[n,t.line],c.children=[],c=t.push("paragraph_close","p",-1),t.parentType=f,!0},G0=gd,Xc=be.isSpace;function ri(e,t,n,r){var i,o,l,c,f,d,_,v;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,v=!1,l=c=d=_=0,f=o.length;c<f;c++){if(i=o.charCodeAt(c),!v)if(Xc(i)){d++,i===9?_+=4-_%4:_++;continue}else v=!0;(i===10||c===f-1)&&(i!==10&&c++,this.bMarks.push(l),this.eMarks.push(c),this.tShift.push(d),this.sCount.push(_),this.bsCount.push(0),v=!1,d=0,_=0,l=c+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ri.prototype.push=function(e,t,n){var r=new G0(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};ri.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};ri.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};ri.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Xc(n));t++);return t};ri.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Xc(this.src.charCodeAt(--t)))return t+1;return t};ri.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};ri.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};ri.prototype.getLines=function(t,n,r,i){var o,l,c,f,d,_,v,S=t;if(t>=n)return"";for(_=new Array(n-t),o=0;S<n;S++,o++){for(l=0,v=f=this.bMarks[S],S+1<n||i?d=this.eMarks[S]+1:d=this.eMarks[S];f<d&&l<r;){if(c=this.src.charCodeAt(f),Xc(c))c===9?l+=4-(l+this.bsCount[S])%4:l++;else if(f-v<this.tShift[S])l++;else break;f++}l>r?_[o]=new Array(l-r+1).join(" ")+this.src.slice(f,d):_[o]=this.src.slice(f,d)}return _.join("")};ri.prototype.Token=G0;var Wat=ri,Kat=pd,ec=[["table",yat,["paragraph","reference"]],["code",vat],["fence",bat,["paragraph","reference","blockquote","list"]],["blockquote",wat,["paragraph","reference","blockquote","list"]],["hr",xat,["paragraph","reference","blockquote","list"]],["list",Aat,["paragraph","reference","blockquote"]],["reference",Cat],["html_block",zat,["paragraph","reference","blockquote"]],["heading",Hat,["paragraph","reference","blockquote"]],["lheading",jat],["paragraph",Gat]];function Jc(){this.ruler=new Kat;for(var e=0;e<ec.length;e++)this.ruler.push(ec[e][0],ec[e][1],{alt:(ec[e][2]||[]).slice()})}Jc.prototype.tokenize=function(e,t,n){for(var r,i,o=this.ruler.getRules(""),l=o.length,c=t,f=!1,d=e.md.options.maxNesting;c<n&&(e.line=c=e.skipEmptyLines(c),!(c>=n||e.sCount[c]<e.blkIndent));){if(e.level>=d){e.line=n;break}for(i=0;i<l&&(r=o[i](e,c,n,!1),!r);i++);e.tight=!f,e.isEmpty(e.line-1)&&(f=!0),c=e.line,c<n&&e.isEmpty(c)&&(f=!0,c++,e.line=c)}};Jc.prototype.parse=function(e,t,n,r){var i;e&&(i=new this.State(e,t,n,r),this.tokenize(i,i.line,i.lineMax))};Jc.prototype.State=Wat;var Yat=Jc;function Qat(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var Zat=function(t,n){for(var r=t.pos;r<t.posMax&&!Qat(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},Xat=be.isSpace,Jat=function(t,n){var r,i,o,l=t.pos;if(t.src.charCodeAt(l)!==10)return!1;if(r=t.pending.length-1,i=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(o=r-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(l++;l<i&&Xat(t.src.charCodeAt(l));)l++;return t.pos=l,!0},tlt=be.isSpace,md=[];for(var em=0;em<256;em++)md.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){md[e.charCodeAt(0)]=1});var elt=function(t,n){var r,i=t.pos,o=t.posMax;if(t.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(r=t.src.charCodeAt(i),r<256&&md[r]!==0)return n||(t.pending+=t.src[i]),t.pos+=2,!0;if(r===10){for(n||t.push("hardbreak","br",0),i++;i<o&&(r=t.src.charCodeAt(i),!!tlt(r));)i++;return t.pos=i,!0}}return n||(t.pending+="\\"),t.pos++,!0},nlt=function(t,n){var r,i,o,l,c,f,d,_,v=t.pos,S=t.src.charCodeAt(v);if(S!==96)return!1;for(r=v,v++,i=t.posMax;v<i&&t.src.charCodeAt(v)===96;)v++;if(o=t.src.slice(r,v),d=o.length,t.backticksScanned&&(t.backticks[d]||0)<=r)return n||(t.pending+=o),t.pos+=d,!0;for(c=f=v;(c=t.src.indexOf("`",f))!==-1;){for(f=c+1;f<i&&t.src.charCodeAt(f)===96;)f++;if(_=f-c,_===d)return n||(l=t.push("code_inline","code",0),l.markup=o,l.content=t.src.slice(v,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=f,!0;t.backticks[_]=c}return t.backticksScanned=!0,n||(t.pending+=o),t.pos+=d,!0},tu={};tu.tokenize=function(t,n){var r,i,o,l,c,f=t.pos,d=t.src.charCodeAt(f);if(n||d!==126||(i=t.scanDelims(t.pos,!0),l=i.length,c=String.fromCharCode(d),l<2))return!1;for(l%2&&(o=t.push("text","",0),o.content=c,l--),r=0;r<l;r+=2)o=t.push("text","",0),o.content=c+c,t.delimiters.push({marker:d,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function nm(e,t){var n,r,i,o,l,c=[],f=t.length;for(n=0;n<f;n++)i=t[n],i.marker===126&&i.end!==-1&&(o=t[i.end],l=e.tokens[i.token],l.type="s_open",l.tag="s",l.nesting=1,l.markup="~~",l.content="",l=e.tokens[o.token],l.type="s_close",l.tag="s",l.nesting=-1,l.markup="~~",l.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&c.push(o.token-1));for(;c.length;){for(n=c.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(l=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=l)}}tu.postProcess=function(t){var n,r=t.tokens_meta,i=t.tokens_meta.length;for(nm(t,t.delimiters),n=0;n<i;n++)r[n]&&r[n].delimiters&&nm(t,r[n].delimiters)};var eu={};eu.tokenize=function(t,n){var r,i,o,l=t.pos,c=t.src.charCodeAt(l);if(n||c!==95&&c!==42)return!1;for(i=t.scanDelims(t.pos,c===42),r=0;r<i.length;r++)o=t.push("text","",0),o.content=String.fromCharCode(c),t.delimiters.push({marker:c,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function rm(e,t){var n,r,i,o,l,c,f=t.length;for(n=f-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(i=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===i.token+1,l=String.fromCharCode(r.marker),o=e.tokens[r.token],o.type=c?"strong_open":"em_open",o.tag=c?"strong":"em",o.nesting=1,o.markup=c?l+l:l,o.content="",o=e.tokens[i.token],o.type=c?"strong_close":"em_close",o.tag=c?"strong":"em",o.nesting=-1,o.markup=c?l+l:l,o.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}eu.postProcess=function(t){var n,r=t.tokens_meta,i=t.tokens_meta.length;for(rm(t,t.delimiters),n=0;n<i;n++)r[n]&&r[n].delimiters&&rm(t,r[n].delimiters)};var rlt=be.normalizeReference,Xh=be.isSpace,ilt=function(t,n){var r,i,o,l,c,f,d,_,v,S="",A="",P=t.pos,z=t.posMax,X=t.pos,it=!0;if(t.src.charCodeAt(t.pos)!==91||(c=t.pos+1,l=t.md.helpers.parseLinkLabel(t,t.pos,!0),l<0))return!1;if(f=l+1,f<z&&t.src.charCodeAt(f)===40){for(it=!1,f++;f<z&&(i=t.src.charCodeAt(f),!(!Xh(i)&&i!==10));f++);if(f>=z)return!1;if(X=f,d=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),d.ok){for(S=t.md.normalizeLink(d.str),t.md.validateLink(S)?f=d.pos:S="",X=f;f<z&&(i=t.src.charCodeAt(f),!(!Xh(i)&&i!==10));f++);if(d=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<z&&X!==f&&d.ok)for(A=d.str,f=d.pos;f<z&&(i=t.src.charCodeAt(f),!(!Xh(i)&&i!==10));f++);}(f>=z||t.src.charCodeAt(f)!==41)&&(it=!0),f++}if(it){if(typeof t.env.references>"u")return!1;if(f<z&&t.src.charCodeAt(f)===91?(X=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?o=t.src.slice(X,f++):f=l+1):f=l+1,o||(o=t.src.slice(c,l)),_=t.env.references[rlt(o)],!_)return t.pos=P,!1;S=_.href,A=_.title}return n||(t.pos=c,t.posMax=l,v=t.push("link_open","a",1),v.attrs=r=[["href",S]],A&&r.push(["title",A]),t.md.inline.tokenize(t),v=t.push("link_close","a",-1)),t.pos=f,t.posMax=z,!0},slt=be.normalizeReference,Jh=be.isSpace,olt=function(t,n){var r,i,o,l,c,f,d,_,v,S,A,P,z,X="",it=t.pos,tt=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(f=t.pos+2,c=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),c<0))return!1;if(d=c+1,d<tt&&t.src.charCodeAt(d)===40){for(d++;d<tt&&(i=t.src.charCodeAt(d),!(!Jh(i)&&i!==10));d++);if(d>=tt)return!1;for(z=d,v=t.md.helpers.parseLinkDestination(t.src,d,t.posMax),v.ok&&(X=t.md.normalizeLink(v.str),t.md.validateLink(X)?d=v.pos:X=""),z=d;d<tt&&(i=t.src.charCodeAt(d),!(!Jh(i)&&i!==10));d++);if(v=t.md.helpers.parseLinkTitle(t.src,d,t.posMax),d<tt&&z!==d&&v.ok)for(S=v.str,d=v.pos;d<tt&&(i=t.src.charCodeAt(d),!(!Jh(i)&&i!==10));d++);else S="";if(d>=tt||t.src.charCodeAt(d)!==41)return t.pos=it,!1;d++}else{if(typeof t.env.references>"u")return!1;if(d<tt&&t.src.charCodeAt(d)===91?(z=d+1,d=t.md.helpers.parseLinkLabel(t,d),d>=0?l=t.src.slice(z,d++):d=c+1):d=c+1,l||(l=t.src.slice(f,c)),_=t.env.references[slt(l)],!_)return t.pos=it,!1;X=_.href,S=_.title}return n||(o=t.src.slice(f,c),t.md.inline.parse(o,t.md,t.env,P=[]),A=t.push("image","img",0),A.attrs=r=[["src",X],["alt",""]],A.children=P,A.content=o,S&&r.push(["title",S])),t.pos=d,t.posMax=tt,!0},alt=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,llt=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,clt=function(t,n){var r,i,o,l,c,f,d=t.pos;if(t.src.charCodeAt(d)!==60)return!1;for(c=t.pos,f=t.posMax;;){if(++d>=f||(l=t.src.charCodeAt(d),l===60))return!1;if(l===62)break}return r=t.src.slice(c+1,d),llt.test(r)?(i=t.md.normalizeLink(r),t.md.validateLink(i)?(n||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(r),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=r.length+2,!0):!1):alt.test(r)?(i=t.md.normalizeLink("mailto:"+r),t.md.validateLink(i)?(n||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(r),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=r.length+2,!0):!1):!1},ult=Zc.HTML_TAG_RE;function hlt(e){var t=e|32;return t>=97&&t<=122}var flt=function(t,n){var r,i,o,l,c=t.pos;return!t.md.options.html||(o=t.posMax,t.src.charCodeAt(c)!==60||c+2>=o)||(r=t.src.charCodeAt(c+1),r!==33&&r!==63&&r!==47&&!hlt(r))||(i=t.src.slice(c).match(ult),!i)?!1:(n||(l=t.push("html_inline","",0),l.content=t.src.slice(c,c+i[0].length)),t.pos+=i[0].length,!0)},im=F0,dlt=be.has,plt=be.isValidEntityCode,sm=be.fromCodePoint,glt=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,_lt=/^&([a-z][a-z0-9]{1,31});/i,mlt=function(t,n){var r,i,o,l=t.pos,c=t.posMax;if(t.src.charCodeAt(l)!==38)return!1;if(l+1<c){if(r=t.src.charCodeAt(l+1),r===35){if(o=t.src.slice(l).match(glt),o)return n||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),t.pending+=plt(i)?sm(i):sm(65533)),t.pos+=o[0].length,!0}else if(o=t.src.slice(l).match(_lt),o&&dlt(im,o[1]))return n||(t.pending+=im[o[1]]),t.pos+=o[0].length,!0}return n||(t.pending+="&"),t.pos++,!0};function om(e,t){var n,r,i,o,l,c,f,d,_={},v=t.length;if(v){var S=0,A=-2,P=[];for(n=0;n<v;n++)if(i=t[n],P.push(0),(t[S].marker!==i.marker||A!==i.token-1)&&(S=n),A=i.token,i.length=i.length||0,!!i.close){for(_.hasOwnProperty(i.marker)||(_[i.marker]=[-1,-1,-1,-1,-1,-1]),l=_[i.marker][(i.open?3:0)+i.length%3],r=S-P[S]-1,c=r;r>l;r-=P[r]+1)if(o=t[r],o.marker===i.marker&&o.open&&o.end<0&&(f=!1,(o.close||i.open)&&(o.length+i.length)%3===0&&(o.length%3!==0||i.length%3!==0)&&(f=!0),!f)){d=r>0&&!t[r-1].open?P[r-1]+1:0,P[n]=n-r+d,P[r]=d,i.open=!1,o.end=n,o.close=!1,c=-1,A=-2;break}c!==-1&&(_[i.marker][(i.open?3:0)+(i.length||0)%3]=c)}}}var ylt=function(t){var n,r=t.tokens_meta,i=t.tokens_meta.length;for(om(t,t.delimiters),n=0;n<i;n++)r[n]&&r[n].delimiters&&om(t,r[n].delimiters)},vlt=function(t){var n,r,i=0,o=t.tokens,l=t.tokens.length;for(n=r=0;n<l;n++)o[n].nesting<0&&i--,o[n].level=i,o[n].nesting>0&&i++,o[n].type==="text"&&n+1<l&&o[n+1].type==="text"?o[n+1].content=o[n].content+o[n+1].content:(n!==r&&(o[r]=o[n]),r++);n!==r&&(o.length=r)},yd=gd,am=be.isWhiteSpace,lm=be.isPunctChar,cm=be.isMdAsciiPunct;function ja(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}ja.prototype.pushPending=function(){var e=new yd("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};ja.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new yd(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};ja.prototype.scanDelims=function(e,t){var n=e,r,i,o,l,c,f,d,_,v,S=!0,A=!0,P=this.posMax,z=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<P&&this.src.charCodeAt(n)===z;)n++;return o=n-e,i=n<P?this.src.charCodeAt(n):32,d=cm(r)||lm(String.fromCharCode(r)),v=cm(i)||lm(String.fromCharCode(i)),f=am(r),_=am(i),_?S=!1:v&&(f||d||(S=!1)),f?A=!1:d&&(_||v||(A=!1)),t?(l=S,c=A):(l=S&&(!A||d),c=A&&(!S||v)),{can_open:l,can_close:c,length:o}};ja.prototype.Token=yd;var blt=ja,um=pd,tf=[["text",Zat],["newline",Jat],["escape",elt],["backticks",nlt],["strikethrough",tu.tokenize],["emphasis",eu.tokenize],["link",ilt],["image",olt],["autolink",clt],["html_inline",flt],["entity",mlt]],ef=[["balance_pairs",ylt],["strikethrough",tu.postProcess],["emphasis",eu.postProcess],["text_collapse",vlt]];function Ga(){var e;for(this.ruler=new um,e=0;e<tf.length;e++)this.ruler.push(tf[e][0],tf[e][1]);for(this.ruler2=new um,e=0;e<ef.length;e++)this.ruler2.push(ef[e][0],ef[e][1])}Ga.prototype.skipToken=function(e){var t,n,r=e.pos,i=this.ruler.getRules(""),o=i.length,l=e.md.options.maxNesting,c=e.cache;if(typeof c[r]<"u"){e.pos=c[r];return}if(e.level<l)for(n=0;n<o&&(e.level++,t=i[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos};Ga.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),i=r.length,o=e.posMax,l=e.md.options.maxNesting;e.pos<o;){if(e.level<l)for(n=0;n<i&&(t=r[n](e,!1),!t);n++);if(t){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Ga.prototype.parse=function(e,t,n,r){var i,o,l,c=new this.State(e,t,n,r);for(this.tokenize(c),o=this.ruler2.getRules(""),l=o.length,i=0;i<l;i++)o[i](c)};Ga.prototype.State=blt;var wlt=Ga,nf,hm;function Elt(){return hm||(hm=1,nf=function(e){var t={};t.src_Any=V0().source,t.src_Cc=$0().source,t.src_Z=q0().source,t.src_P=dd.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),nf}function If(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function nu(e){return Object.prototype.toString.call(e)}function xlt(e){return nu(e)==="[object String]"}function Slt(e){return nu(e)==="[object Object]"}function Alt(e){return nu(e)==="[object RegExp]"}function fm(e){return nu(e)==="[object Function]"}function klt(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var W0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Clt(e){return Object.keys(e||{}).reduce(function(t,n){return t||W0.hasOwnProperty(n)},!1)}var Tlt={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Ilt="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Rlt="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Olt(e){e.__index__=-1,e.__text_cache__=""}function Dlt(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function dm(){return function(e,t){t.normalize(e)}}function wc(e){var t=e.re=Elt()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Ilt),n.push(t.src_xn),t.src_tlds=n.join("|");function r(c){return c.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var i=[];e.__compiled__={};function o(c,f){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+f)}Object.keys(e.__schemas__).forEach(function(c){var f=e.__schemas__[c];if(f!==null){var d={validate:null,link:null};if(e.__compiled__[c]=d,Slt(f)){Alt(f.validate)?d.validate=Dlt(f.validate):fm(f.validate)?d.validate=f.validate:o(c,f),fm(f.normalize)?d.normalize=f.normalize:f.normalize?o(c,f):d.normalize=dm();return}if(xlt(f)){i.push(c);return}o(c,f)}}),i.forEach(function(c){e.__compiled__[e.__schemas__[c]]&&(e.__compiled__[c].validate=e.__compiled__[e.__schemas__[c]].validate,e.__compiled__[c].normalize=e.__compiled__[e.__schemas__[c]].normalize)}),e.__compiled__[""]={validate:null,normalize:dm()};var l=Object.keys(e.__compiled__).filter(function(c){return c.length>0&&e.__compiled__[c]}).map(klt).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Olt(e)}function Plt(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function pm(e,t){var n=new Plt(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Dr(e,t){if(!(this instanceof Dr))return new Dr(e,t);t||Clt(e)&&(t=e,e={}),this.__opts__=If({},W0,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=If({},Tlt,e),this.__compiled__={},this.__tlds__=Rlt,this.__tlds_replaced__=!1,this.re={},wc(this)}Dr.prototype.add=function(t,n){return this.__schemas__[t]=n,wc(this),this};Dr.prototype.set=function(t){return this.__opts__=If(this.__opts__,t),this};Dr.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,i,o,l,c,f,d,_;if(this.re.schema_test.test(t)){for(f=this.re.schema_search,f.lastIndex=0;(n=f.exec(t))!==null;)if(o=this.testSchemaAt(t,n[2],f.lastIndex),o){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(d=t.search(this.re.host_fuzzy_test),d>=0&&(this.__index__<0||d<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=r.index+r[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(_=t.indexOf("@"),_>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(l=i.index+i[1].length,c=i.index+i[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=c))),this.__index__>=0};Dr.prototype.pretest=function(t){return this.re.pretest.test(t)};Dr.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};Dr.prototype.match=function(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(pm(this,n)),n=this.__last_index__);for(var i=n?t.slice(n):t;this.test(i);)r.push(pm(this,n)),i=i.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};Dr.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,i,o){return r!==o[i-1]}).reverse(),wc(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,wc(this),this)};Dr.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Dr.prototype.onCompile=function(){};var Mlt=Dr;const Llt={},Nlt=Object.freeze(Object.defineProperty({__proto__:null,default:Llt},Symbol.toStringTag,{value:"Module"})),Flt=Uk(Nlt);var Vlt={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},$lt={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}},qlt={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}},ga=be,Blt=Qc,Ult=Kot,zlt=mat,Hlt=Yat,jlt=wlt,Glt=Mlt,xs=Ro,K0=Flt,Wlt={default:Vlt,zero:$lt,commonmark:qlt},Klt=/^(vbscript|javascript|file|data):/,Ylt=/^data:image\/(gif|png|jpeg|webp);/;function Qlt(e){var t=e.trim().toLowerCase();return Klt.test(t)?!!Ylt.test(t):!0}var Y0=["http:","https:","mailto:"];function Zlt(e){var t=xs.parse(e,!0);if(t.hostname&&(!t.protocol||Y0.indexOf(t.protocol)>=0))try{t.hostname=K0.toASCII(t.hostname)}catch{}return xs.encode(xs.format(t))}function Xlt(e){var t=xs.parse(e,!0);if(t.hostname&&(!t.protocol||Y0.indexOf(t.protocol)>=0))try{t.hostname=K0.toUnicode(t.hostname)}catch{}return xs.decode(xs.format(t),xs.decode.defaultChars+"%")}function Pr(e,t){if(!(this instanceof Pr))return new Pr(e,t);t||ga.isString(e)||(t=e||{},e="default"),this.inline=new jlt,this.block=new Hlt,this.core=new zlt,this.renderer=new Ult,this.linkify=new Glt,this.validateLink=Qlt,this.normalizeLink=Zlt,this.normalizeLinkText=Xlt,this.utils=ga,this.helpers=ga.assign({},Blt),this.options={},this.configure(e),t&&this.set(t)}Pr.prototype.set=function(e){return ga.assign(this.options,e),this};Pr.prototype.configure=function(e){var t=this,n;if(ga.isString(e)&&(n=e,e=Wlt[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};Pr.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(i){return n.indexOf(i)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Pr.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(i){return n.indexOf(i)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Pr.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Pr.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Pr.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Pr.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Pr.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var Jlt=Pr,tct=Jlt;const ect=M0(tct);var nct=zk({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1}},data:function(){return{md:null}},computed:{content:function(){var e,t=this.source;return(e=this.md)===null||e===void 0?void 0:e.render(t)}},created:function(){var e;this.md=new ect((e=this.options)!==null&&e!==void 0?e:{})},render:function(){return Hk("div",{innerHTML:this.content})}});const xa=nct,rct={key:0},ict=ot("br",null,null,-1),sct=ot("hr",null,null,-1),oct=ot("br",null,null,-1),act={key:2,class:"modal br-pill-ns"},lct={components:{VueMarkdown:xa},props:["config","instructions_open","toggle_instructions"],mounted(){$(".container").removeClass("container-extra-space"),this.config.prepend_instructions&&$(".container").addClass("container-extra-space")}},cct=Object.assign(lct,{__name:"Instructions",setup(e){return(t,n)=>(Nt(),Ut("main",null,[e.config.instructions&&e.config.prepend_instructions?(Nt(),Ut("section",rct,[ir(Cf(xa),{source:e.config.instructions,options:t.options,class:"mt0 mb0"},null,8,["source","options"]),ict,sct,oct])):_e("",!0),e.instructions_open?(Nt(),Ut("div",{key:1,class:"overlay",onClick:n[0]||(n[0]=(...r)=>e.toggle_instructions&&e.toggle_instructions(...r))})):_e("",!0),e.instructions_open?(Nt(),Ut("section",act,[ir(Cf(xa),{source:e.config.instructions,options:t.options,class:"mt0 mb0"},null,8,["source","options"])])):_e("",!0)]))}}),uct={data(){return{source_html:""}},props:["hits_data","current_hit","edits_dict","selected_state","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","handle_tokenization_rendering","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","hit_box_config","config"],watch:{current_hit(){this.process_source_html()},hits_data(){this.process_source_html()},set_span_text(){this.process_source_html()},selected_state(){this.process_source_html_with_selected_span(this.selected_state.source_category)}},methods:{process_source_html(){try{this.process_source_html_with_selected_span(null)}catch(e){this.source_html="",console.warn(e)}},process_source_html_with_selected_span(e){const t="input_idx",n="source_span",r=this.hits_data[this.current_hit-1].source;try{this.source_html=this.render_sentence(r,t,n,e)}catch(i){this.source_html="",console.warn(i)}},select_source_html(){if(!this.hit_box_config.enable_select_source_sentence)return;let e=$("input[name=edit_cotegory]:checked").val(),t=window.getSelection(),n=this.hits_data[this.current_hit-1].source,r=t.getRangeAt(0),[i,o]=[r.startOffset,r.endOffset];if(i==o||!n.substring(i,o).trim()){this.process_source_html(null);return}if(t.anchorNode!=t.focusNode||t.anchorNode==null){this.process_source_html_with_selected_span(e);return}const l=this.hits_data[this.current_hit-1].edits;for(let d of l)if(d.hasOwnProperty("input_idx"))for(let _ of d.input_idx){let[v,S]=_;if(i<S&&v<o){this.process_source_html(null);return}}$("#source-sentence").addClass(`select-color-${e}`);let c=[" ",`
`];if(this.config.tokenization&&this.config.tokenization=="tokenized"&&(c=["Ġ"," ",`
`]),!this.config.tokenization||this.config.tokenization!="char"){for(o-=1;c.includes(n.charAt(i));)i+=1;for(;i-1>=0&&!c.includes(n.charAt(i-1));)i-=1;for(;c.includes(n.charAt(o));)o-=1;for(;o+1<=n.length-1&&!c.includes(n.charAt(o+1));)o+=1;o+=1}if(i>=o){this.process_source_html_with_selected_span(e);return}let f=`<span class="selected-span-text bg-${e}-light"> ${n.substring(i,o)} </span>`;if(this.set_span_text(f,"source"),this.hit_box_config.enable_multi_select_source_sentence){let d=this.selected_state.source_idx;(d==null||d.length==0)&&(d=[]),d.push([i,o]),this.set_span_indices(d,"source");let _="";for(let v=0;v<d.length;v++){let[S,A]=d[v];_+=`
                    <span class="selected-span-text bg-${e}-light"> 
                        <span @click="remove_selected('${e}', ${S}, ${A})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${n.substring(S,A)} </span>&nbsp&nbsp`}this.set_span_text(_,"source")}else this.set_span_indices([i,o],"source");this.set_span_category(e,"source"),this.process_source_html_with_selected_span(e)},deselect_source_html(){this.hit_box_config.enable_select_source_sentence&&($("#source-sentence").html(this.hits_data[this.current_hit-1].source),this.source_html=this.hits_data[this.current_hit-1].source)}},computed:{get_source_html(){return{template:`<pre @mousedown='deselect_source_html' @mouseup='select_source_html' id="source-sentence" class="f4 lh-paras sans-serif" style="white-space: pre-line;">${this.source_html}</pre>`,methods:{select_source_html:this.select_source_html,deselect_source_html:this.deselect_source_html,remove_selected:this.remove_selected,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span,handle_tokenization_rendering:this.handle_tokenization_rendering},mounted(){this.handle_tokenization_rendering()}}}}},hct=Object.assign(uct,{__name:"SourceSent",setup(e){return(t,n)=>(Nt(),hd(fd(t.get_source_html)))}}),fct={data(){return{target_html:""}},props:["hits_data","current_hit","edits_dict","selected_edits_html","selected_edits","set_selected_edits","selected_state","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","handle_tokenization_rendering","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","hit_box_config","config"],watch:{current_hit(){this.process_target_html()},hits_data(){this.process_target_html()},set_span_text(){this.process_target_html()},selected_state(){this.process_target_html_with_selected_span(this.selected_state.target_category)}},methods:{process_target_html(){const e="output_idx",t="target_span",n=this.hits_data[this.current_hit-1].target;try{this.target_html=this.render_sentence(n,e,t,null)}catch(r){this.target_html="",console.warn(r)}},process_target_html_with_selected_span(e){const t="output_idx",n="target_span",r=this.hits_data[this.current_hit-1].target;try{this.target_html=this.render_sentence(r,t,n,e)}catch(i){this.target_html="",console.warn(i)}},select_target_html(e){if(!this.hit_box_config.enable_select_target_sentence)return;let t=$("input[name=edit_cotegory]:checked").val(),n=window.getSelection(),r=this.hits_data[this.current_hit-1].target,i=n.getRangeAt(0),[o,l]=[i.startOffset,i.endOffset];if(o==l||!r.substring(o,l).trim()){this.process_target_html(null);return}if(n.anchorNode!=n.focusNode||n.anchorNode==null){this.process_target_html_with_selected_span(t);return}const c=this.hits_data[this.current_hit-1].edits;for(let _ of c)if(_.hasOwnProperty("output_idx"))for(let v of _.output_idx){let[S,A]=v;if(o<A&&S<l){this.process_target_html(null);return}}$("#target-sentence").addClass(`select-color-${t}`);let f=[" ",`
`];if(this.config.tokenization&&this.config.tokenization=="tokenized"&&(f=["Ġ"," ",`
`]),!this.config.tokenization||this.config.tokenization!="char"){for(l-=1;f.includes(r.charAt(o));)o+=1;for(;o-1>=0&&!f.includes(r.charAt(o-1));)o-=1;for(;f.includes(r.charAt(l));)l-=1;for(;l+1<=r.length-1&&!f.includes(r.charAt(l+1));)l+=1;l+=1}if(o>=l){this.process_target_html_with_selected_span(t);return}let d=`<span class="selected-span-text bg-${t}-light"> ${r.substring(o,l)} </span>`;if(this.set_span_text(d,"target"),this.hit_box_config.enable_multi_select_target_sentence){let _=this.selected_state.target_idx;(_==null||_.length==0)&&(_=[]),_.push([o,l]),this.set_span_indices(_,"target");let v="";for(let S=0;S<_.length;S++){let[A,P]=_[S];v+=`<span class="selected-span-text bg-${t}-light"> 
                        <span @click="remove_selected('${t}',${A},${P})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${r.substring(A,P)} </span>&nbsp&nbsp`}this.set_span_text(v,"target")}else this.set_span_indices([o,l],"target");this.set_span_category(t,"target"),this.process_target_html_with_selected_span(t)},deselect_target_html(e){this.hit_box_config.enable_select_target_sentence&&($("#target-sentence").html(this.hits_data[this.current_hit-1].target),this.target_html=this.hits_data[this.current_hit-1].target)}},computed:{get_target_html(){return{template:` <pre @mousedown='deselect_target_html' @mouseup='select_target_html' id="target-sentence" class="f4 lh-paras sans-serif" style="white-space: pre-line;"> ${this.target_html} </pre> `,methods:{select_target_html:this.select_target_html,deselect_target_html:this.deselect_target_html,remove_selected:this.remove_selected,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span,handle_tokenization_rendering:this.handle_tokenization_rendering},mounted(){this.handle_tokenization_rendering()}}}}},dct=Object.assign(fct,{__name:"TargetSent",setup(e){return(t,n)=>(Nt(),hd(fd(t.get_target_html)))}}),pct={key:0,class:"f4 lh-paras context-span"},gct={key:1,class:"f4 lh-paras context-span"},_ct={key:0,class:"f4 lh-paras context-span"},mct={key:1,class:"f4 lh-paras context-span"},yct={data(){return{}},props:["hits_data","current_hit","edits_dict","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","set_edit_html","hit_box_config","config","sent_type","selected_state"],methods:{process_edit_list(e,t){return e=e.map(n=>{let r=[];if(n.hasOwnProperty("constituent_edits")){for(const i of n.constituent_edits)if(i.hasOwnProperty(t))for(const o of i[t])r.push({[t]:o,category:n.category,child_category:i.category,id:n.id,child_id:i.id,annotation:n.annotation})}if(n.hasOwnProperty(t))for(const i of n[t])r.push({[t]:i,category:n.category,id:n.id,annotation:n.annotation});return r}),e=[].concat(...e),e.sort(function(n,r){return n[t][0]-r[t][0]||n[t][1]-r[t][1]}),e},hasAnnotations(e){return"annotation"in e&&e.annotation!=null&&e.annotation!=""||this.config.disable&&Object.values(this.config.disable).includes("annotation")},is_selected(e,t,n){let r;const i=this.get_selected_index(t);return this.multi_select_enabled(t)?r=i.some(o=>e[t][0]==o[0]&&e[t][1]==o[1]&&e.category==n):r=e[t][0]==i[0]&&e[t][1]==i[1]&&e.category==n,r},get_selected_index(e){if(e=="input_idx")return Xe.cloneDeep(this.selected_state.source_idx);if(e=="output_idx")return Xe.cloneDeep(this.selected_state.target_idx)},multi_select_enabled(e){if(e=="input_idx")return this.hit_box_config.enable_multi_select_source_sentence;if(e=="output_idx")return this.hit_box_config.enable_multi_select_target_sentence},hover_span(e){if($(".quality-selection").is(":visible"))return;const t=e.target.dataset.category,n=e.target.dataset.id,r=n.split("-")[1];let i,o;e.target.classList.contains(`border-${t}-light`)?(i=`bg-${t}-light`,o="rgba(173, 197, 250, 1.0)"):(i=`bg-${t}`,o="rgba(33, 134, 235, 1.0)");let l=$(`.${t}[data-id=${n}]`),c=$(`.${t}_below[data-id=${n}]`);l.addClass(`white ${i}`),c.addClass(`white ${i}`),c.removeClass(`txt-${t} txt-${t}-light`);try{t=="substitution"&&(this.lines[t][r].color=o)}catch(f){console.log(f)}},un_hover_span(e){if($(".quality-selection").is(":visible"))return;const t=e.target.dataset.category,n=e.target.dataset.id,r=n.split("-")[1];let i,o;e.target.classList.contains(`border-${t}-light`)?(i="rgba(173, 197, 250, 0.4)",o=`txt-${t}-light`):(i="rgba(33, 134, 235, 0.46)",o=`txt-${t}`);let l=$(`.${t}[data-id=${n}]`),c=$(`.${t}_below[data-id=${n}]`);c.addClass(o),l.removeClass(`white bg-${t} bg-${t}-light`),c.removeClass(`white bg-${t} bg-${t}-light`);try{t=="substitution"&&(this.lines[t][r].color=i)}catch(f){console.log(f)}},getEditConfig(e){return this.config.edits.find(function(t){return t.name===e})},click_span(e){this.edits_dict;const t=e.target.dataset.category,n=e.target.dataset.id,r=n.split("-")[1];if($(".quality-selection").is(":visible")){if(this.getEditConfig(t).type&&this.getEditConfig(t).type=="composite")return;const i=this.hits_data[this.current_hit-1].edits.find(function(f){return f.category===t&&f.id===parseInt(r)}),o=this.selected_edits.find(function(f){return f.category===t&&f.id===parseInt(r)})!==void 0;if($("input[name=edit_cotegory]:checked").val()=="split"){let f=parseInt(r)+1;e.target.classList.contains("split-sign")&&(f==1?this.selected_state.selected_split="the 1st split":f==2?this.selected_state.selected_split="the 2nd split":f==3?this.selected_state.selected_split="the 3rd split":this.selected_state.selected_split=`the ${f}th split`,this.selected_state.split_id=parseInt(r))}let l=Xe.cloneDeep(this.selected_edits);o?l=l.filter(f=>f.category!==t||f.id!==parseInt(r)):l.push(i);let c="";for(const f of l)c+=this.render_selected_constituent_edit(f);this.set_selected_edits(l),this.set_edit_html(c)}else $(`.annotation-icon[data-id=${n}]`).click()},render_selected_constituent_edit(e){let t="";const n=e.category;if(this.getEditConfig(n).type=="multi_span"){t+=`<span class="edit-type txt-${n}">substitute </span>`;let r=e.input_idx;for(let o=0;o<r.length;o++)o!=0&&(t+=`<span class="edit-type txt-${n}"> and </span>`),t+=`<span class="pa1 edit-text br-pill-ns txt-${n} border-${n}-all">
                        &nbsp${this.hits_data[this.current_hit-1].source.substring(r[o][0],r[o][1])}&nbsp</span>`;t+=`<span class="edit-type txt-${n}"> with </span>`;let i=e.output_idx;for(let o=0;o<i.length;o++)o!=0&&(t+=`<span class="edit-type txt-${n}"> and </span>`),t+=`<span class="pa1 edit-text br-pill-ns txt-${n} border-${n}-all">
                        &nbsp${this.hits_data[this.current_hit-1].target.substring(i[o][0],i[o][1])}&nbsp</span>`;t+=",&nbsp&nbsp"}else{if(e.hasOwnProperty("input_idx")){let r=e.input_idx[0];t+=`<span class="edit-type txt-${n}">${n} </span>
                        <span class="pa1 edit-text br-pill-ns txt-${n} border-${n}-all">
                            &nbsp${this.hits_data[this.current_hit-1].source.substring(r[0],r[1])}&nbsp</span>,&nbsp&nbsp`}if(e.hasOwnProperty("output_idx")){let r=e.output_idx[0];t+=`<span class="edit-type txt-${n}">${n} </span>
                        <span class="pa1 edit-text br-pill-ns txt-${n} border-${n}-all">
                            &nbsp${this.hits_data[this.current_hit-1].target.substring(r[0],r[1])}&nbsp</span>,&nbsp&nbsp`}}return t},handle_tokenization_rendering(){this.config.tokenization&&this.config.tokenization=="tokenized"?$("span#source-sentence, span#target-sentence, .edit-text, .selected-span-text").addClass("hide-tokenization-chars"):$("span#source-sentence, span#target-sentence, .edit-text, .selected-span-text").removeClass("hide-tokenization-chars")},render_sentence(e,t,n,r){let i=0,o="",l=Xe.cloneDeep(this.hits_data[this.current_hit-1].edits);const c=r!=null&&r!="";if(c){const d=this.get_selected_index(t);if(this.multi_select_enabled(t)&&Array.isArray(d[0]))for(let _=0;_<d.length;_++)l.push({category:r,[t]:[d[_]]});else l.push({category:r,[t]:[d]})}const f=this.process_edit_list(l,t);for(let d=0;d<f.length;d++){let _=f[d],v=f[d+1];o+=e.substring(i,_[t][0]);let S=this.hasAnnotations(_)?"":"-light",A=d<f.length-1&&v[t][0]<=_[t][1]?"outside":"",P=_.hasOwnProperty("child_category")?`data-childcategory=${_.child_category} data-childid=${_.child_id}`:"";c&&this.is_selected(_,t,r)?o+=`<span @mouseover.stop @mouseout.stop class="bg-${_.category}-light span ${A}">`:o+=`<span @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${_.category} border-${_.category}${S} pointer span ${n} ${A}" data-category="${_.category}" data-id="${_.category}-${_.id}" ${P}>`;let z=d,X=!1;for(;d<f.length-1&&v[t][0]<=f[z][t][1];){if(d==z)o+=e.substring(_[t][0],v[t][0]);else{let bt=d;X&&(bt-=1),o+=e.substring(f[bt][t][1],v[t][0])}X=!1;let it=d<f.length-2&&f[d+2][t][0]<=v[t][1]?"middleside":"",tt=this.hasAnnotations(_)?"":"-light",_t=_.hasOwnProperty("child_category")?`data-childcategory=${_.child_category} data-childid=${_.child_id}`:"";if(c&&this.is_selected(_,t,r)?o+=`
                            <span @mouseover.stop @mouseout.stop class="bg-${_.category}-light span ${it}">`:o+=`
                            <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${v.category} border-${v.category}${tt} pointer span ${n} ${it}" data-category="${v.category}" data-id="${v.category}-${v.id}" ${_t}>`,d++,_=f[d],v=f[d+1],d<f.length-1&&v[t][0]<=_[t][1]){X=!0;let bt=f[d+1];o+=e.substring(_[t][0],bt[t][0]);let $t=this.hasAnnotations(bt)?"":"-light";_t=bt.hasOwnProperty("child_category")?`data-childcategory=${bt.child_category} data-childid=${bt.child_id}`:"",c&&this.is_selected(_,t,r)?o+=`
                                <span @mouseover.stop @mouseout.stop class="bg-${next_category}-light span">`:o+=`
                                <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${bt.category} border-${bt.category}${$t} pointer span ${n}" data-category="${bt.category}" data-id="${bt.category}-${bt.id}" ${_t}>`,o+=`
                                ${e.substring(bt[t][0],bt[t][1])}</span>
                            ${e.substring(bt[t][1],_[t][1])}</span>`,d++,_=f[d],v=f[d+1]}else v=f[d+1],o+=`
                            ${e.substring(v[t][0],v[t][1])}</span>`}if(z!=d){let it=d;z!=d&&X&&(it-=1),o+=`${e.substring(f[it][t][1],f[z][t][1])}</span>`,i=f[z][t][1]}else o+=`${e.substring(f[z][t][0],f[z][t][1])}</span>`,i=f[z][t][1]}return o+=e.substring(i),o}}},gm=Object.assign(yct,{__name:"Sent",setup(e){return(t,n)=>(Nt(),Ut("div",null,[e.sent_type==="source"?(Nt(),Ut(Ei,{key:0},[e.hits_data&&e.hits_data[e.current_hit-1]&&e.hits_data[e.current_hit-1].source_context_before?(Nt(),Ut("span",pct,Ht(e.hits_data[e.current_hit-1].source_context_before)+"  ",1)):_e("",!0),ir(hct,xi({sent_type:"source"},t.$props,{remove_selected:e.remove_selected,process_edit_list:t.process_edit_list,handle_tokenization_rendering:t.handle_tokenization_rendering,hasAnnotations:t.hasAnnotations,is_selected:t.is_selected,get_selected_index:t.get_selected_index,multi_select_enabled:t.multi_select_enabled,render_sentence:t.render_sentence,click_span:t.click_span,hover_span:t.hover_span,un_hover_span:t.un_hover_span,config:e.config}),null,16,["remove_selected","process_edit_list","handle_tokenization_rendering","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","config"]),e.hits_data&&e.hits_data[e.current_hit-1]&&e.hits_data[e.current_hit-1].source_context_after?(Nt(),Ut("span",gct,"  "+Ht(e.hits_data[e.current_hit-1].source_context_after),1)):_e("",!0)],64)):e.sent_type==="target"?(Nt(),Ut(Ei,{key:1},[e.hits_data&&e.hits_data[e.current_hit-1]&&e.hits_data[e.current_hit-1].target_context_before?(Nt(),Ut("span",_ct,Ht(e.hits_data[e.current_hit-1].target_context_before)+"  ",1)):_e("",!0),ir(dct,xi({sent_type:"target"},t.$props,{remove_selected:e.remove_selected,process_edit_list:t.process_edit_list,handle_tokenization_rendering:t.handle_tokenization_rendering,hasAnnotations:t.hasAnnotations,is_selected:t.is_selected,get_selected_index:t.get_selected_index,multi_select_enabled:t.multi_select_enabled,render_sentence:t.render_sentence,click_span:t.click_span,hover_span:t.hover_span,un_hover_span:t.un_hover_span,config:e.config}),null,16,["remove_selected","process_edit_list","handle_tokenization_rendering","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","config"]),e.hits_data&&e.hits_data[e.current_hit-1]&&e.hits_data[e.current_hit-1].target_context_after?(Nt(),Ut("span",mct,"  "+Ht(e.hits_data[e.current_hit-1].target_context_after),1)):_e("",!0)],64)):_e("",!0)]))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},vct=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],l=e[n++],c=e[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=e[n++],l=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return t.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],l=i+1<e.length,c=l?e[i+1]:0,f=i+2<e.length,d=f?e[i+2]:0,_=o>>2,v=(o&3)<<4|c>>4;let S=(c&15)<<2|d>>6,A=d&63;f||(A=64,l||(S=64)),r.push(n[_],n[v],n[S],n[A])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Q0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vct(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],c=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const v=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||c==null||d==null||v==null)throw new bct;const S=o<<2|c>>4;if(r.push(S),d!==64){const A=c<<4&240|d>>2;if(r.push(A),v!==64){const P=d<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wct=function(e){const t=Q0(e);return Z0.encodeByteArray(t,!0)},Ec=function(e){return wct(e).replace(/\./g,"")},Ect=function(e){try{return Z0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sct=()=>xct().__FIREBASE_DEFAULTS__,Act=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kct=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ect(e[1]);return t&&JSON.parse(t)},X0=()=>{try{return Sct()||Act()||kct()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Cct=e=>{var t,n;return(n=(t=X0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Tct=e=>{const t=Cct(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},J0=()=>{var e;return(e=X0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ict{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rct(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[Ec(JSON.stringify(n)),Ec(JSON.stringify(l)),c].join(".")}function Oct(){try{return typeof indexedDB=="object"}catch{return!1}}function Dct(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pct="FirebaseError";class Po extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Pct,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ty.prototype.create)}}class ty{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],l=o?Mct(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Po(i,c,r)}}function Mct(e,t){return e.replace(Lct,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Lct=/\{\$([^}]+)}/g;function Rf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],l=t[i];if(_m(o)&&_m(l)){if(!Rf(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _m(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e){return e&&e._delegate?e._delegate:e}class Sa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nct{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ict;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vct(t))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ws){return this.instances.has(t)}getOptions(t=ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&t(l,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fct(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ws){return this.component?this.component.multipleInstances?t:ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fct(e){return e===ws?void 0:e}function Vct(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ct{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nct(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const qct={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Bct=ge.INFO,Uct={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},zct=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Uct[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ey{constructor(t){this.name=t,this._logLevel=Bct,this._logHandler=zct,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qct[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const Hct=(e,t)=>t.some(n=>e instanceof n);let mm,ym;function jct(){return mm||(mm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gct(){return ym||(ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ny=new WeakMap,Of=new WeakMap,ry=new WeakMap,rf=new WeakMap,vd=new WeakMap;function Wct(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(Qi(e.result)),i()},l=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&ny.set(n,e)}).catch(()=>{}),vd.set(t,e),t}function Kct(e){if(Of.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});Of.set(e,t)}let Df={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Of.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ry.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Yct(e){Df=e(Df)}function Qct(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(sf(this),t,...n);return ry.set(r,t.sort?t.sort():[t]),Qi(r)}:Gct().includes(e)?function(...t){return e.apply(sf(this),t),Qi(ny.get(this))}:function(...t){return Qi(e.apply(sf(this),t))}}function Zct(e){return typeof e=="function"?Qct(e):(e instanceof IDBTransaction&&Kct(e),Hct(e,jct())?new Proxy(e,Df):e)}function Qi(e){if(e instanceof IDBRequest)return Wct(e);if(rf.has(e))return rf.get(e);const t=Zct(e);return t!==e&&(rf.set(e,t),vd.set(t,e)),t}const sf=e=>vd.get(e);function Xct(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(e,t),c=Qi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Qi(l.result),f.oldVersion,f.newVersion,Qi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Jct=["get","getKey","getAll","getAllKeys","count"],tut=["put","add","delete","clear"],of=new Map;function vm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(of.get(t))return of.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=tut.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jct.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return of.set(t,o),o}Yct(e=>({...e,get:(t,n,r)=>vm(t,n)||e.get(t,n,r),has:(t,n)=>!!vm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eut{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nut(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nut(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pf="@firebase/app",bm="0.9.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new ey("@firebase/app"),rut="@firebase/app-compat",iut="@firebase/analytics-compat",sut="@firebase/analytics",out="@firebase/app-check-compat",aut="@firebase/app-check",lut="@firebase/auth",cut="@firebase/auth-compat",uut="@firebase/database",hut="@firebase/database-compat",fut="@firebase/functions",dut="@firebase/functions-compat",put="@firebase/installations",gut="@firebase/installations-compat",_ut="@firebase/messaging",mut="@firebase/messaging-compat",yut="@firebase/performance",vut="@firebase/performance-compat",but="@firebase/remote-config",wut="@firebase/remote-config-compat",Eut="@firebase/storage",xut="@firebase/storage-compat",Sut="@firebase/firestore",Aut="@firebase/firestore-compat",kut="firebase",Cut="10.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",Tut={[Pf]:"fire-core",[rut]:"fire-core-compat",[sut]:"fire-analytics",[iut]:"fire-analytics-compat",[aut]:"fire-app-check",[out]:"fire-app-check-compat",[lut]:"fire-auth",[cut]:"fire-auth-compat",[uut]:"fire-rtdb",[hut]:"fire-rtdb-compat",[fut]:"fire-fn",[dut]:"fire-fn-compat",[put]:"fire-iid",[gut]:"fire-iid-compat",[_ut]:"fire-fcm",[mut]:"fire-fcm-compat",[yut]:"fire-perf",[vut]:"fire-perf-compat",[but]:"fire-rc",[wut]:"fire-rc-compat",[Eut]:"fire-gcs",[xut]:"fire-gcs-compat",[Sut]:"fire-fst",[Aut]:"fire-fst-compat","fire-js":"fire-js",[kut]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,Lf=new Map;function Iut(e,t){try{e.container.addComponent(t)}catch(n){Ps.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Sc(e){const t=e.name;if(Lf.has(t))return Ps.debug(`There were multiple attempts to register component ${t}.`),!1;Lf.set(t,e);for(const n of xc.values())Iut(n,e);return!0}function Rut(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Out={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zi=new ty("app","Firebase",Out);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dut{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Put=Cut;function iy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=J0()),!n)throw Zi.create("no-options");const o=xc.get(i);if(o){if(Rf(n,o.options)&&Rf(r,o.config))return o;throw Zi.create("duplicate-app",{appName:i})}const l=new $ct(i);for(const f of Lf.values())l.addComponent(f);const c=new Dut(n,r,l);return xc.set(i,c),c}function Mut(e=Mf){const t=xc.get(e);if(!t&&e===Mf&&J0())return iy();if(!t)throw Zi.create("no-app",{appName:e});return t}function yo(e,t,n){var r;let i=(r=Tut[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${t}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}Sc(new Sa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lut="firebase-heartbeat-database",Nut=1,Aa="firebase-heartbeat-store";let af=null;function sy(){return af||(af=Xct(Lut,Nut,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Aa)}}}).catch(e=>{throw Zi.create("idb-open",{originalErrorMessage:e.message})})),af}async function Fut(e){try{return await(await sy()).transaction(Aa).objectStore(Aa).get(oy(e))}catch(t){if(t instanceof Po)Ps.warn(t.message);else{const n=Zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ps.warn(n.message)}}}async function wm(e,t){try{const r=(await sy()).transaction(Aa,"readwrite");await r.objectStore(Aa).put(t,oy(e)),await r.done}catch(n){if(n instanceof Po)Ps.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function oy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vut=1024,$ut=30*24*60*60*1e3;class qut{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uut(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Em();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=$ut}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Em(),{heartbeatsToSend:n,unsentEntries:r}=But(this._heartbeatsCache.heartbeats),i=Ec(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Em(){return new Date().toISOString().substring(0,10)}function But(e,t=Vut){const n=[];let r=e.slice();for(const i of e){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),xm(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uut{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Oct()?Dct().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Fut(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function xm(e){return Ec(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zut(e){Sc(new Sa("platform-logger",t=>new eut(t),"PRIVATE")),Sc(new Sa("heartbeat",t=>new qut(t),"PRIVATE")),yo(Pf,bm,e),yo(Pf,bm,"esm2017"),yo("fire-js","")}zut("");var Hut="firebase",jut="10.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(Hut,jut,"app");var Gut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},At,bd=bd||{},Xt=Gut||self;function ru(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Wut(e){return Object.prototype.hasOwnProperty.call(e,lf)&&e[lf]||(e[lf]=++Kut)}var lf="closure_uid_"+(1e9*Math.random()>>>0),Kut=0;function Yut(e,t,n){return e.call.apply(e.bind,arguments)}function Qut(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function qn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qn=Yut:qn=Qut,qn.apply(null,arguments)}function nc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function kn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return t.prototype[i].apply(r,l)}}function rs(){this.s=this.s,this.o=this.o}var Zut=0;rs.prototype.s=!1;rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Zut!=0)&&Wut(this)};rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ay=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ru(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let l=0;l<o;l++)e[i+l]=r[l]}else e.push(r)}}function Bn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Xut=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xt.addEventListener("test",()=>{},t),Xt.removeEventListener("test",()=>{},t)}catch{}return e}();function ka(e){return/^[\s\xa0]*$/.test(e)}function iu(){var e=Xt.navigator;return e&&(e=e.userAgent)?e:""}function Yr(e){return iu().indexOf(e)!=-1}function Ed(e){return Ed[" "](e),e}Ed[" "]=function(){};function Jut(e,t){var n=jht;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var tht=Yr("Opera"),wo=Yr("Trident")||Yr("MSIE"),ly=Yr("Edge"),Nf=ly||wo,cy=Yr("Gecko")&&!(iu().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge"))&&!(Yr("Trident")||Yr("MSIE"))&&!Yr("Edge"),eht=iu().toLowerCase().indexOf("webkit")!=-1&&!Yr("Edge");function uy(){var e=Xt.document;return e?e.documentMode:void 0}var Ff;t:{var cf="",uf=function(){var e=iu();if(cy)return/rv:([^\);]+)(\)|;)/.exec(e);if(ly)return/Edge\/([\d\.]+)/.exec(e);if(wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(eht)return/WebKit\/(\S+)/.exec(e);if(tht)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(uf&&(cf=uf?uf[1]:""),wo){var hf=uy();if(hf!=null&&hf>parseFloat(cf)){Ff=String(hf);break t}}Ff=cf}var Vf;if(Xt.document&&wo){var Am=uy();Vf=Am||parseInt(Ff,10)||void 0}else Vf=void 0;var nht=Vf;function Ca(e,t){if(Bn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cy){t:{try{Ed(t.nodeName);var i=!0;break t}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:rht[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ca.$.h.call(this)}}kn(Ca,Bn);var rht={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),iht=0;function sht(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++iht,this.fa=this.ia=!1}function su(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function oht(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function hy(e){const t={};for(const n in e)t[n]=e[n];return t}const km="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fy(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<km.length;o++)n=km[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ou(e){this.src=e,this.g={},this.h=0}ou.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var l=qf(e,t,r,i);return-1<l?(t=e[l],n||(t.ia=!1)):(t=new sht(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function $f(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ay(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(su(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var Sd="closure_lm_"+(1e6*Math.random()|0),ff={};function dy(e,t,n,r,i){if(r&&r.once)return gy(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)dy(e,t[o],n,r,i);return null}return n=Cd(n),e&&e[Ka]?e.O(t,n,Wa(r)?!!r.capture:!!r,i):py(e,t,n,!1,r,i)}function py(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var l=Wa(i)?!!i.capture:!!i,c=kd(e);if(c||(e[Sd]=c=new ou(e)),n=c.add(t,n,r,l,o),n.proxy)return n;if(r=aht(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xut||(i=l),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(my(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aht(){function e(n){return t.call(e.src,e.listener,n)}const t=lht;return e}function gy(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)gy(e,t[o],n,r,i);return null}return n=Cd(n),e&&e[Ka]?e.P(t,n,Wa(r)?!!r.capture:!!r,i):py(e,t,n,!0,r,i)}function _y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_y(e,t[o],n,r,i);else r=Wa(r)?!!r.capture:!!r,n=Cd(n),e&&e[Ka]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=qf(o,n,r,i),-1<n&&(su(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=kd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qf(t,n,r,i)),(n=-1<e?t[e]:null)&&Ad(n))}function Ad(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ka])$f(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(my(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kd(t))?($f(n,e),n.h==0&&(n.src=null,t[Sd]=null)):su(e)}}}function my(e){return e in ff?ff[e]:ff[e]="on"+e}function lht(e,t){if(e.fa)e=!0;else{t=new Ca(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ad(e),e=n.call(r,t)}return e}function kd(e){return e=e[Sd],e instanceof ou?e:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(e){return typeof e=="function"?e:(e[df]||(e[df]=function(t){return e.handleEvent(t)}),e[df])}function Sn(){rs.call(this),this.i=new ou(this),this.S=this,this.J=null}kn(Sn,rs);Sn.prototype[Ka]=!0;Sn.prototype.removeEventListener=function(e,t,n,r){_y(this,e,t,n,r)};function On(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Bn(t,e);else if(t instanceof Bn)t.target=t.target||e;else{var i=t;t=new Bn(r,e),fy(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var l=t.g=n[o];i=rc(l,r,!0,t)&&i}if(l=t.g=e,i=rc(l,r,!0,t)&&i,i=rc(l,r,!1,t)&&i,n)for(o=0;o<n.length;o++)l=t.g=n[o],i=rc(l,r,!1,t)&&i}Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)su(n[r]);delete e.g[t],e.h--}}this.J=null};Sn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Sn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function rc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,f=l.la||l.src;l.ia&&$f(e.i,l),i=c.call(f,r)!==!1&&i}}return i&&!r.defaultPrevented}var Td=Xt.JSON.stringify;class cht{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function uht(){var e=Id;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class hht{constructor(){this.h=this.g=null}add(t,n){const r=yy.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yy=new cht(()=>new fht,e=>e.reset());class fht{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dht(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function pht(e){Xt.setTimeout(()=>{throw e},0)}let Ta,Ia=!1,Id=new hht,vy=()=>{const e=Xt.Promise.resolve(void 0);Ta=()=>{e.then(ght)}};var ght=()=>{for(var e;e=uht();){try{e.h.call(e.g)}catch(n){pht(n)}var t=yy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ia=!1};function au(e,t){Sn.call(this),this.h=e||1,this.g=t||Xt,this.j=qn(this.qb,this),this.l=Date.now()}kn(au,Sn);At=au.prototype;At.ga=!1;At.T=null;At.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(Rd(this),this.start()))}};At.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}At.N=function(){au.$.N.call(this),Rd(this),delete this.g};function Od(e,t,n){if(typeof e=="function")n&&(e=qn(e,n));else if(e&&typeof e.handleEvent=="function")e=qn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Xt.setTimeout(e,t||0)}function by(e){e.g=Od(()=>{e.g=null,e.i&&(e.i=!1,by(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class _ht extends rs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:by(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(e){rs.call(this),this.h=e,this.g={}}kn(Ra,rs);var Cm=[];function wy(e,t,n,r){Array.isArray(n)||(n&&(Cm[0]=n.toString()),n=Cm);for(var i=0;i<n.length;i++){var o=dy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ey(e){xd(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ad(t)},e),e.g={}}Ra.prototype.N=function(){Ra.$.N.call(this),Ey(this)};Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lu(){this.g=!0}lu.prototype.Ea=function(){this.g=!1};function mht(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var l="",c=o.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var _=d[0];d=d[1];var v=_.split("_");l=2<=v.length&&v[1]=="type"?l+(_+"="+d+"&"):l+(_+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+l})}function yht(e,t,n,r,i,o,l){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+l})}function go(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+bht(e,n)+(r?" "+r:"")})}function vht(e,t){e.info(function(){return"TIMEOUT: "+t})}lu.prototype.info=function(){};function bht(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return Td(n)}catch{return t}}var Fs={},Tm=null;function cu(){return Tm=Tm||new Sn}Fs.Ta="serverreachability";function xy(e){Bn.call(this,Fs.Ta,e)}kn(xy,Bn);function Oa(e){const t=cu();On(t,new xy(t))}Fs.STAT_EVENT="statevent";function Sy(e,t){Bn.call(this,Fs.STAT_EVENT,e),this.stat=t}kn(Sy,Bn);function Xn(e){const t=cu();On(t,new Sy(t,e))}Fs.Ua="timingevent";function Ay(e,t){Bn.call(this,Fs.Ua,e),this.size=t}kn(Ay,Bn);function Ya(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){e()},t)}var uu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ky={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dd(){}Dd.prototype.h=null;function Im(e){return e.h||(e.h=e.i())}function Cy(){}var Qa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pd(){Bn.call(this,"d")}kn(Pd,Bn);function Md(){Bn.call(this,"c")}kn(Md,Bn);var Bf;function hu(){}kn(hu,Dd);hu.prototype.g=function(){return new XMLHttpRequest};hu.prototype.i=function(){return{}};Bf=new hu;function Za(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ra(this),this.P=wht,e=Nf?125:void 0,this.V=new au(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ty}function Ty(){this.i=null,this.g="",this.h=!1}var wht=45e3,Uf={},Ac={};At=Za.prototype;At.setTimeout=function(e){this.P=e};function zf(e,t,n){e.L=1,e.v=du(Ti(t)),e.s=n,e.S=!0,Iy(e,null)}function Iy(e,t){e.G=Date.now(),Xa(e),e.A=Ti(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Fy(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ty,e.g=iv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new _ht(qn(e.Pa,e,e.g),e.O)),wy(e.U,e.g,"readystatechange",e.nb),t=e.I?hy(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Oa(),mht(e.j,e.u,e.A,e.m,e.W,e.s)}At.nb=function(e){e=e.target;const t=this.M;t&&Qr(e)==3?t.l():this.Pa(e)};At.Pa=function(e){try{if(e==this.g)t:{const _=Qr(this.g);var t=this.g.Ia();const v=this.g.da();if(!(3>_)&&(_!=3||Nf||this.g&&(this.h.h||this.g.ja()||Pm(this.g)))){this.J||_!=4||t==7||(t==8||0>=v?Oa(3):Oa(2)),fu(this);var n=this.g.da();this.ca=n;e:if(Ry(this)){var r=Pm(this.g);e="";var i=r.length,o=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),_a(this);var l="";break e}this.h.i=new Xt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,yht(this.j,this.u,this.A,this.m,this.W,_,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var c,f=this.g;if((c=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(c)){var d=c;break e}}d=null}if(n=d)go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hf(this,n);else{this.i=!1,this.o=3,Xn(12),Ss(this),_a(this);break t}}this.S?(Oy(this,_,l),Nf&&this.i&&_==3&&(wy(this.U,this.V,"tick",this.mb),this.V.start())):(go(this.j,this.m,l,null),Hf(this,l)),_==4&&Ss(this),this.i&&!this.J&&(_==4?tv(this.l,this):(this.i=!1,Xa(this)))}else Uht(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Xn(12)):(this.o=0,Xn(13)),Ss(this),_a(this)}}}catch{}finally{}};function Ry(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Oy(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=Eht(e,n),i==Ac){t==4&&(e.o=4,Xn(14),r=!1),go(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Uf){e.o=4,Xn(15),go(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else go(e.j,e.m,i,null),Hf(e,i);Ry(e)&&i!=Ac&&i!=Uf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Xn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qd(t),t.M=!0,Xn(11))):(go(e.j,e.m,n,"[Invalid Chunked Response]"),Ss(e),_a(e))}At.mb=function(){if(this.g){var e=Qr(this.g),t=this.g.ja();this.C<t.length&&(fu(this),Oy(this,e,t),this.i&&e!=4&&Xa(this))}};function Eht(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ac:(n=Number(t.substring(n,r)),isNaN(n)?Uf:(r+=1,r+n>t.length?Ac:(t=t.slice(r,r+n),e.C=r+n,t)))}At.cancel=function(){this.J=!0,Ss(this)};function Xa(e){e.Y=Date.now()+e.P,Dy(e,e.P)}function Dy(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ya(qn(e.lb,e),t)}function fu(e){e.B&&(Xt.clearTimeout(e.B),e.B=null)}At.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(vht(this.j,this.A),this.L!=2&&(Oa(),Xn(17)),Ss(this),this.o=2,_a(this)):Dy(this,this.Y-e)};function _a(e){e.l.H==0||e.J||tv(e.l,e)}function Ss(e){fu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Rd(e.V),Ey(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Hf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||jf(n.i,e))){if(!e.K&&jf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Tc(n),mu(n);else break t;$d(n),Xn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ya(qn(n.ib,n),6e3));if(1>=qy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else As(n,11)}else if((e.K||n.g==e)&&Tc(n),!ka(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let d=i[t];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const _=d[3];_!=null&&(n.ra=_,n.l.info("VER="+n.ra));const v=d[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const S=d[5];S!=null&&typeof S=="number"&&0<S&&(r=1.5*S,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=e.g;if(A){const P=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var o=r.i;o.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ld(o,o.h),o.h=null))}if(r.F){const z=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.Da=z,$e(r.I,r.F,z))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var l=e;if(r.wa=rv(r,r.J?r.pa:null,r.Y),l.K){By(r.i,l);var c=l,f=r.L;f&&c.setTimeout(f),c.B&&(fu(c),Xa(c)),r.g=l}else Xy(r);0<n.j.length&&yu(n)}else d[0]!="stop"&&d[0]!="close"||As(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?As(n,7):Vd(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Oa(4)}catch{}}function xht(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ru(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Sht(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ru(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Py(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ru(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Sht(e),r=xht(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var My=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aht(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cs){this.h=e.h,kc(this,e.j),this.s=e.s,this.g=e.g,Cc(this,e.m),this.l=e.l;var t=e.i,n=new Da;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Rm(this,n),this.o=e.o}else e&&(t=String(e).match(My))?(this.h=!1,kc(this,t[1]||"",!0),this.s=fa(t[2]||""),this.g=fa(t[3]||"",!0),Cc(this,t[4]),this.l=fa(t[5]||"",!0),Rm(this,t[6]||"",!0),this.o=fa(t[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Cs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(da(t,Om,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(da(t,Om,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(da(n,n.charAt(0)=="/"?Tht:Cht,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",da(n,Rht)),e.join("")};function Ti(e){return new Cs(e)}function kc(e,t,n){e.j=n?fa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rm(e,t,n){t instanceof Da?(e.i=t,Oht(e.i,e.h)):(n||(t=da(t,Iht)),e.i=new Da(t,e.h))}function $e(e,t,n){e.i.set(t,n)}function du(e){return $e(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function da(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,kht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kht(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Om=/[#\/\?@]/g,Cht=/[#\?:]/g,Tht=/[#\?]/g,Iht=/[#\?@]/g,Rht=/#/g;function Da(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function is(e){e.g||(e.g=new Map,e.h=0,e.i&&Aht(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}At=Da.prototype;At.add=function(e,t){is(this),this.i=null,e=Mo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Ly(e,t){is(e),t=Mo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ny(e,t){return is(e),t=Mo(e,t),e.g.has(t)}At.forEach=function(e,t){is(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};At.ta=function(){is(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};At.Z=function(e){is(this);let t=[];if(typeof e=="string")Ny(this,e)&&(t=t.concat(this.g.get(Mo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};At.set=function(e,t){return is(this),this.i=null,e=Mo(this,e),Ny(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};At.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Fy(e,t,n){Ly(e,t),0<n.length&&(e.i=null,e.g.set(Mo(e,t),wd(n)),e.h+=n.length)}At.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=o;l[r]!==""&&(i+="="+encodeURIComponent(String(l[r]))),e.push(i)}}return this.i=e.join("&")};function Mo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Oht(e,t){t&&!e.j&&(is(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ly(this,r),Fy(this,i,n))},e)),e.j=t}var Dht=class{constructor(e,t){this.g=e,this.map=t}};function Vy(e){this.l=e||Pht,Xt.PerformanceNavigationTiming?(e=Xt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pht=10;function $y(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function qy(e){return e.h?1:e.g?e.g.size:0}function jf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ld(e,t){e.g?e.g.add(t):e.h=t}function By(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Vy.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Uy(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return wd(e.i)}var Mht=class{stringify(e){return Xt.JSON.stringify(e,void 0)}parse(e){return Xt.JSON.parse(e,void 0)}};function Lht(){this.g=new Mht}function Nht(e,t,n){const r=n||"";try{Py(e,function(i,o){let l=i;Wa(i)&&(l=Td(i)),t.push(r+o+"="+encodeURIComponent(l))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fht(e,t){const n=new lu;if(Xt.Image){const r=new Image;r.onload=nc(ic,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nc(ic,n,r,"TestLoadImage: error",!1,t),r.onabort=nc(ic,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nc(ic,n,r,"TestLoadImage: timeout",!1,t),Xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ic(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function pu(e){this.l=e.fc||null,this.j=e.ob||!1}kn(pu,Dd);pu.prototype.g=function(){return new gu(this.l,this.j)};pu.prototype.i=function(e){return function(){return e}}({});function gu(e,t){Sn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(gu,Sn);var Nd=0;At=gu.prototype;At.open=function(e,t){if(this.readyState!=Nd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pa(this)};At.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Xt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=Nd};At.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function zy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}At.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ja(this):Pa(this),this.readyState==3&&zy(this)}};At.Za=function(e){this.g&&(this.response=this.responseText=e,Ja(this))};At.Ya=function(e){this.g&&(this.response=e,Ja(this))};At.ka=function(){this.g&&Ja(this)};function Ja(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pa(e)}At.setRequestHeader=function(e,t){this.v.append(e,t)};At.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};At.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Pa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Vht=Xt.JSON.parse;function Je(e){Sn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hy,this.L=this.M=!1}kn(Je,Sn);var Hy="",$ht=/^https?$/i,qht=["POST","PUT"];At=Je.prototype;At.Oa=function(e){this.M=e};At.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bf.g(),this.C=this.u?Im(this.u):Im(Bf),this.g.onreadystatechange=qn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){Dm(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Xt.FormData&&e instanceof Xt.FormData,!(0<=ay(qht,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wy(this),0<this.B&&((this.L=Bht(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.ua,this)):this.A=Od(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dm(this,o)}};function Bht(e){return wo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}At.ua=function(){typeof bd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function Dm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jy(e),_u(e)}function jy(e){e.F||(e.F=!0,On(e,"complete"),On(e,"error"))}At.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,On(this,"complete"),On(this,"abort"),_u(this))};At.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_u(this,!0)),Je.$.N.call(this)};At.La=function(){this.s||(this.G||this.v||this.l?Gy(this):this.kb())};At.kb=function(){Gy(this)};function Gy(e){if(e.h&&typeof bd<"u"&&(!e.C[1]||Qr(e)!=4||e.da()!=2)){if(e.v&&Qr(e)==4)Od(e.La,0,e);else if(On(e,"readystatechange"),Qr(e)==4){e.h=!1;try{const l=e.da();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.I).match(My)[1]||null;!i&&Xt.self&&Xt.self.location&&(i=Xt.self.location.protocol.slice(0,-1)),r=!$ht.test(i?i.toLowerCase():"")}n=r}if(n)On(e,"complete"),On(e,"success");else{e.m=6;try{var o=2<Qr(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",jy(e)}}finally{_u(e)}}}}function _u(e,t){if(e.g){Wy(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||On(e,"ready");try{n.onreadystatechange=r}catch{}}}function Wy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Xt.clearTimeout(e.A),e.A=null)}At.isActive=function(){return!!this.g};function Qr(e){return e.g?e.g.readyState:0}At.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}};At.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};At.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Vht(t)}};function Pm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Uht(e){const t={};e=(e.g&&2<=Qr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ka(e[r]))continue;var n=dht(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}oht(t,function(r){return r.join(", ")})}At.Ia=function(){return this.m};At.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ky(e){let t="";return xd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Fd(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ky(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):$e(e,t,n))}function oa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yy(e){this.Ga=0,this.j=[],this.l=new lu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oa("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oa("baseRetryDelayMs",5e3,e),this.hb=oa("retryDelaySeedMs",1e4,e),this.eb=oa("forwardChannelMaxRetries",2,e),this.xa=oa("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Vy(e&&e.concurrentRequestLimit),this.Ja=new Lht,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}At=Yy.prototype;At.ra=8;At.H=1;function Vd(e){if(Qy(e),e.H==3){var t=e.W++,n=Ti(e.I);if($e(n,"SID",e.K),$e(n,"RID",t),$e(n,"TYPE","terminate"),tl(e,n),t=new Za(e,e.l,t),t.L=2,t.v=du(Ti(n)),n=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{n=Xt.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Xt.Image&&(new Image().src=t.v,n=!0),n||(t.g=iv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xa(t)}nv(e)}function mu(e){e.g&&(qd(e),e.g.cancel(),e.g=null)}function Qy(e){mu(e),e.u&&(Xt.clearTimeout(e.u),e.u=null),Tc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Xt.clearTimeout(e.m),e.m=null)}function yu(e){if(!$y(e.i)&&!e.m){e.m=!0;var t=e.Na;Ta||vy(),Ia||(Ta(),Ia=!0),Id.add(t,e),e.C=0}}function zht(e,t){return qy(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ya(qn(e.Na,e,t),ev(e,e.C)),e.C++,!0)}At.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Za(this,this.l,e);let o=this.s;if(this.U&&(o?(o=hy(o),fy(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Zy(this,i,t),n=Ti(this.I),$e(n,"RID",e),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),tl(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ky(o)))+"&"+t:this.o&&Fd(n,this.o,o)),Ld(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",t),$e(n,"SID","null"),i.aa=!0,zf(i,n,null)):zf(i,n,t),this.H=2}}else this.H==3&&(e?Mm(this,e):this.j.length==0||$y(this.i)||Mm(this))};function Mm(e,t){var n;t?n=t.m:n=e.W++;const r=Ti(e.I);$e(r,"SID",e.K),$e(r,"RID",n),$e(r,"AID",e.V),tl(e,r),e.o&&e.s&&Fd(r,e.o,e.s),n=new Za(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ld(e.i,n),zf(n,r,t)}function tl(e,t){e.na&&xd(e.na,function(n,r){$e(t,r,n)}),e.h&&Py({},function(n,r){$e(t,r,n)})}function Zy(e,t,n){n=Math.min(e.j.length,n);var r=e.h?qn(e.h.Va,e.h,e):null;t:{var i=e.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=i[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let f=0;f<n;f++){let d=i[f].g;const _=i[f].map;if(d-=o,0>d)o=Math.max(0,i[f].g-100),c=!1;else try{Nht(_,l,"req"+d+"_")}catch{r&&r(_)}}if(c){r=l.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function Xy(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ta||vy(),Ia||(Ta(),Ia=!0),Id.add(t,e),e.A=0}}function $d(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ya(qn(e.Ma,e),ev(e,e.A)),e.A++,!0)}At.Ma=function(){if(this.u=null,Jy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ya(qn(this.jb,this),e)}};At.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xn(10),mu(this),Jy(this))};function qd(e){e.B!=null&&(Xt.clearTimeout(e.B),e.B=null)}function Jy(e){e.g=new Za(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ti(e.wa);$e(t,"RID","rpc"),$e(t,"SID",e.K),$e(t,"AID",e.V),$e(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&$e(t,"TO",e.qa),$e(t,"TYPE","xmlhttp"),tl(e,t),e.o&&e.s&&Fd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=du(Ti(t)),n.s=null,n.S=!0,Iy(n,e)}At.ib=function(){this.v!=null&&(this.v=null,mu(this),$d(this),Xn(19))};function Tc(e){e.v!=null&&(Xt.clearTimeout(e.v),e.v=null)}function tv(e,t){var n=null;if(e.g==t){Tc(e),qd(e),e.g=null;var r=2}else if(jf(e.i,t))n=t.F,By(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=cu(),On(r,new Ay(r,n)),yu(e)}else Xy(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&zht(e,t)||r==2&&$d(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:As(e,5);break;case 4:As(e,10);break;case 3:As(e,6);break;default:As(e,2)}}}function ev(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function As(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=qn(e.pb,e);n||(n=new Cs("//www.google.com/images/cleardot.gif"),Xt.location&&Xt.location.protocol=="http"||kc(n,"https"),du(n)),Fht(n.toString(),r)}else Xn(2);e.H=0,e.h&&e.h.za(t),nv(e),Qy(e)}At.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xn(2)):(this.l.info("Failed to ping google.com"),Xn(1))};function nv(e){if(e.H=0,e.ma=[],e.h){const t=Uy(e.i);(t.length!=0||e.j.length!=0)&&(Sm(e.ma,t),Sm(e.ma,e.j),e.i.i.length=0,wd(e.j),e.j.length=0),e.h.ya()}}function rv(e,t,n){var r=n instanceof Cs?Ti(n):new Cs(n);if(r.g!="")t&&(r.g=t+"."+r.g),Cc(r,r.m);else{var i=Xt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Cs(null);r&&kc(o,r),t&&(o.g=t),i&&Cc(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&$e(r,n,t),$e(r,"VER",e.ra),tl(e,r),r}function iv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Je(new pu({ob:!0})):new Je(e.va),t.Oa(e.J),t}At.isActive=function(){return!!this.h&&this.h.isActive(this)};function sv(){}At=sv.prototype;At.Ba=function(){};At.Aa=function(){};At.za=function(){};At.ya=function(){};At.isActive=function(){return!0};At.Va=function(){};function Ic(){if(wo&&!(10<=Number(nht)))throw Error("Environmental error: no available transport.")}Ic.prototype.g=function(e,t){return new _r(e,t)};function _r(e,t){Sn.call(this),this.g=new Yy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ka(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Lo(this)}kn(_r,Sn);_r.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rv(e,null,e.Y),yu(e)};_r.prototype.close=function(){Vd(this.g)};_r.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Td(e),e=n);t.j.push(new Dht(t.fb++,e)),t.H==3&&yu(t)};_r.prototype.N=function(){this.g.h=null,delete this.j,Vd(this.g),delete this.g,_r.$.N.call(this)};function ov(e){Pd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}kn(ov,Pd);function av(){Md.call(this),this.status=1}kn(av,Md);function Lo(e){this.g=e}kn(Lo,sv);Lo.prototype.Ba=function(){On(this.g,"a")};Lo.prototype.Aa=function(e){On(this.g,new ov(e))};Lo.prototype.za=function(e){On(this.g,new av)};Lo.prototype.ya=function(){On(this.g,"b")};function Hht(){this.blockSize=-1}function ti(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kn(ti,Hht);ti.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pf(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],l=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(l<<7&4294967295|l>>>25),l=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(l<<12&4294967295|l>>>20),l=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(l<<17&4294967295|l>>>15),l=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(l<<22&4294967295|l>>>10),l=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(l<<12&4294967295|l>>>20),l=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(l<<17&4294967295|l>>>15),l=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(l<<22&4294967295|l>>>10),l=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(l<<12&4294967295|l>>>20),l=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(l<<17&4294967295|l>>>15),l=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(l<<22&4294967295|l>>>10),l=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(l<<7&4294967295|l>>>25),l=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(l<<12&4294967295|l>>>20),l=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(l<<17&4294967295|l>>>15),l=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(l<<22&4294967295|l>>>10),l=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(l<<9&4294967295|l>>>23),l=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(l<<20&4294967295|l>>>12),l=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(l<<9&4294967295|l>>>23),l=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(l<<20&4294967295|l>>>12),l=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(l<<9&4294967295|l>>>23),l=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(l<<20&4294967295|l>>>12),l=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(l<<5&4294967295|l>>>27),l=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(l<<9&4294967295|l>>>23),l=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(l<<14&4294967295|l>>>18),l=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(l<<20&4294967295|l>>>12),l=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(l<<11&4294967295|l>>>21),l=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(l<<16&4294967295|l>>>16),l=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(l<<23&4294967295|l>>>9),l=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(l<<11&4294967295|l>>>21),l=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(l<<16&4294967295|l>>>16),l=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(l<<23&4294967295|l>>>9),l=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(l<<11&4294967295|l>>>21),l=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(l<<16&4294967295|l>>>16),l=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(l<<23&4294967295|l>>>9),l=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(l<<4&4294967295|l>>>28),l=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(l<<11&4294967295|l>>>21),l=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(l<<16&4294967295|l>>>16),l=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(l<<23&4294967295|l>>>9),l=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(l<<10&4294967295|l>>>22),l=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(l<<15&4294967295|l>>>17),l=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(l<<21&4294967295|l>>>11),l=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(l<<10&4294967295|l>>>22),l=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(l<<15&4294967295|l>>>17),l=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(l<<21&4294967295|l>>>11),l=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(l<<10&4294967295|l>>>22),l=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(l<<15&4294967295|l>>>17),l=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(l<<21&4294967295|l>>>11),l=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(l<<6&4294967295|l>>>26),l=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(l<<10&4294967295|l>>>22),l=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(l<<15&4294967295|l>>>17),l=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}ti.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)pf(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){pf(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){pf(this,r),i=0;break}}this.h=i,this.i+=t};ti.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Te(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var jht={};function Bd(e){return-128<=e&&128>e?Jut(e,function(t){return new Te([t|0],0>t?-1:0)}):new Te([e|0],0>e?-1:0)}function Zr(e){if(isNaN(e)||!isFinite(e))return vo;if(0>e)return Rn(Zr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Gf;return new Te(t,0)}function lv(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Rn(lv(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zr(Math.pow(t,8)),r=vo,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+o),t);8>o?(o=Zr(Math.pow(t,o)),r=r.R(o).add(Zr(l))):(r=r.R(n),r=r.add(Zr(l)))}return r}var Gf=4294967296,vo=Bd(0),Wf=Bd(1),Lm=Bd(16777216);At=Te.prototype;At.ea=function(){if(Ir(this))return-Rn(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Gf+r)*t,t*=Gf}return e};At.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Si(this))return"0";if(Ir(this))return"-"+Rn(this).toString(e);for(var t=Zr(Math.pow(e,6)),n=this,r="";;){var i=Oc(n,t).g;n=Rc(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Si(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};At.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Si(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ir(e){return e.h==-1}At.X=function(e){return e=Rc(this,e),Ir(e)?-1:Si(e)?0:1};function Rn(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Te(n,~e.h).add(Wf)}At.abs=function(){return Ir(this)?Rn(this):this};At.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),l=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=l>>>16,o&=65535,l&=65535,n[i]=l<<16|o}return new Te(n,n[n.length-1]&-2147483648?-1:0)};function Rc(e,t){return e.add(Rn(t))}At.R=function(e){if(Si(this)||Si(e))return vo;if(Ir(this))return Ir(e)?Rn(this).R(Rn(e)):Rn(Rn(this).R(e));if(Ir(e))return Rn(this.R(Rn(e)));if(0>this.X(Lm)&&0>e.X(Lm))return Zr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,l=this.D(r)&65535,c=e.D(i)>>>16,f=e.D(i)&65535;n[2*r+2*i]+=l*f,sc(n,2*r+2*i),n[2*r+2*i+1]+=o*f,sc(n,2*r+2*i+1),n[2*r+2*i+1]+=l*c,sc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*c,sc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Te(n,0)};function sc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function aa(e,t){this.g=e,this.h=t}function Oc(e,t){if(Si(t))throw Error("division by zero");if(Si(e))return new aa(vo,vo);if(Ir(e))return t=Oc(Rn(e),t),new aa(Rn(t.g),Rn(t.h));if(Ir(t))return t=Oc(e,Rn(t)),new aa(Rn(t.g),t.h);if(30<e.g.length){if(Ir(e)||Ir(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wf,r=t;0>=r.X(e);)n=Nm(n),r=Nm(r);var i=uo(n,1),o=uo(r,1);for(r=uo(r,2),n=uo(n,2);!Si(r);){var l=o.add(r);0>=l.X(e)&&(i=i.add(n),o=l),r=uo(r,1),n=uo(n,1)}return t=Rc(e,i.R(t)),new aa(i,t)}for(i=vo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Zr(n),l=o.R(t);Ir(l)||0<l.X(e);)n-=r,o=Zr(n),l=o.R(t);Si(o)&&(o=Wf),i=i.add(o),e=Rc(e,l)}return new aa(i,e)}At.gb=function(e){return Oc(this,e).h};At.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Te(n,this.h&e.h)};At.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Te(n,this.h|e.h)};At.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Te(n,this.h^e.h)};function Nm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Te(n,e.h)}function uo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Te(i,e.h)}Ic.prototype.createWebChannel=Ic.prototype.g;_r.prototype.send=_r.prototype.u;_r.prototype.open=_r.prototype.m;_r.prototype.close=_r.prototype.close;uu.NO_ERROR=0;uu.TIMEOUT=8;uu.HTTP_ERROR=6;ky.COMPLETE="complete";Cy.EventType=Qa;Qa.OPEN="a";Qa.CLOSE="b";Qa.ERROR="c";Qa.MESSAGE="d";Sn.prototype.listen=Sn.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;ti.prototype.digest=ti.prototype.l;ti.prototype.reset=ti.prototype.reset;ti.prototype.update=ti.prototype.j;Te.prototype.add=Te.prototype.add;Te.prototype.multiply=Te.prototype.R;Te.prototype.modulo=Te.prototype.gb;Te.prototype.compare=Te.prototype.X;Te.prototype.toNumber=Te.prototype.ea;Te.prototype.toString=Te.prototype.toString;Te.prototype.getBits=Te.prototype.D;Te.fromNumber=Zr;Te.fromString=lv;var Ght=function(){return new Ic},Wht=function(){return cu()},gf=uu,Kht=ky,Yht=Fs,Fm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oc=Cy,Qht=Je,Zht=Te;const Vm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="10.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new ey("@firebase/firestore");function la(){return Ms.logLevel}function Vt(e,...t){if(Ms.logLevel<=ge.DEBUG){const n=t.map(Ud);Ms.debug(`Firestore (${No}): ${e}`,...n)}}function Ls(e,...t){if(Ms.logLevel<=ge.ERROR){const n=t.map(Ud);Ms.error(`Firestore (${No}): ${e}`,...n)}}function Dc(e,...t){if(Ms.logLevel<=ge.WARN){const n=t.map(Ud);Ms.warn(`Firestore (${No}): ${e}`,...n)}}function Ud(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+e;throw Ls(t),new Error(t)}function An(e,t){e||fe()}function qe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends Po{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class Jht{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tft{constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ts,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ts)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string"),new cv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return An(t===null||typeof t=="string"),new Fn(t)}}class eft{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nft{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new eft(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rft{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ift{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(An(typeof n.token=="string"),this.R=n.token,new rft(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sft(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=sft(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Le(e,t){return e<t?-1:e>t?1:0}function Eo(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Jt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Jt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xn.fromMillis(Date.now())}static fromDate(t){return xn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new xn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Le(this.nanoseconds,t.nanoseconds):Le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ke(t)}static min(){return new Ke(new xn(0,0))}static max(){return new Ke(new xn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ma.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ma?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),l=n.get(i);if(o<l)return-1;if(o>l)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class on extends Ma{construct(t,n,r){return new on(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Jt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new on(n)}static emptyPath(){return new on([])}}const oft=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Ma{construct(t,n,r){return new $n(t,n,r)}static isValidIdentifier(t){return oft.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $n(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Jt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Jt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Jt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Jt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(on.fromString(t))}static fromName(t){return new le(on.fromString(t).popFirst(5))}static empty(){return new le(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&on.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return on.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new on(t.slice()))}}function aft(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new Ji(i,le.empty(),t)}function lft(e){return new Ji(e.readTime,e.key,-1)}class Ji{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(Ke.min(),le.empty(),-1)}static max(){return new Ji(Ke.max(),le.empty(),-1)}}function cft(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Le(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uft="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hft{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(e){if(e.code!==pt.FAILED_PRECONDITION||e.message!==uft)throw e;Vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new dt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.reject(n)}static resolve(t){return new dt((n,r)=>{n(t)})}static reject(t){return new dt((n,r)=>{r(t)})}static waitFor(t){return new dt((n,r)=>{let i=0,o=0,l=!1;t.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},f=>r(f))}),l=!0,o===i&&n()})}static or(t){let n=dt.resolve(!1);for(const r of t)n=n.next(i=>i?dt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new dt((r,i)=>{const o=t.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(t[d]).next(_=>{l[d]=_,++c,c===o&&r(l)},_=>i(_))}})}static doWhile(t,n){return new dt((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function vu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}fv.ae=-1;function zd(e){return e==null}function Pc(e){return e===0&&1/e==-1/0}function fft(e){return typeof e=="number"&&Number.isInteger(e)&&!Pc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,n){this.comparator=t,this.root=n||Tn.EMPTY}insert(t,n){return new or(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(t){return new or(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ac(this.root,t,this.comparator,!0)}}class ac{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Tn(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.comparator=t,this.data=new or(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new qm(this.data.getIterator())}getIteratorFrom(t){return new qm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Jn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Jn(this.comparator);return n.data=t,n}}class qm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this.fields=t,t.sort($n.comparator)}static empty(){return new Hr([])}unionWith(t){let n=new Jn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Hr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Eo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dft extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dft("Invalid base64 string: "+o):o}}(t);return new Ii(n)}static fromUint8Array(t){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new Ii(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const pft=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(e){if(An(!!e),typeof e=="string"){let t=0;const n=pft.exec(e);if(An(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:In(e.seconds),nanos:In(e.nanos)}}function In(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function La(e){return typeof e=="string"?Ii.fromBase64String(e):Ii.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pv(e){const t=e.mapValue.fields.__previous_value__;return Hd(t)?pv(t):t}function Mc(e){const t=Ns(e.mapValue.fields.__local_write_time__.timestampValue);return new xn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gft{constructor(t,n,r,i,o,l,c,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}class Lc{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Lc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hd(e)?4:_ft(e)?9007199254740991:10:fe()}function ei(e,t){if(e===t)return!0;const n=xo(e);if(n!==xo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mc(e).isEqual(Mc(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ns(i.timestampValue),c=Ns(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return La(i.bytesValue).isEqual(La(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return In(i.geoPointValue.latitude)===In(o.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return In(i.integerValue)===In(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=In(i.doubleValue),c=In(o.doubleValue);return l===c?Pc(l)===Pc(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Eo(e.arrayValue.values||[],t.arrayValue.values||[],ei);case 10:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if($m(l)!==$m(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ei(l[f],c[f])))return!1;return!0}(e,t);default:return fe()}}function Na(e,t){return(e.values||[]).find(n=>ei(n,t))!==void 0}function So(e,t){if(e===t)return 0;const n=xo(e),r=xo(t);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(e.booleanValue,t.booleanValue);case 2:return function(o,l){const c=In(o.integerValue||o.doubleValue),f=In(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(e,t);case 3:return Bm(e.timestampValue,t.timestampValue);case 4:return Bm(Mc(e),Mc(t));case 5:return Le(e.stringValue,t.stringValue);case 6:return function(o,l){const c=La(o),f=La(l);return c.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(o,l){const c=o.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const _=Le(c[d],f[d]);if(_!==0)return _}return Le(c.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,l){const c=Le(In(o.latitude),In(l.latitude));return c!==0?c:Le(In(o.longitude),In(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,l){const c=o.values||[],f=l.values||[];for(let d=0;d<c.length&&d<f.length;++d){const _=So(c[d],f[d]);if(_)return _}return Le(c.length,f.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,l){if(o===lc.mapValue&&l===lc.mapValue)return 0;if(o===lc.mapValue)return 1;if(l===lc.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=l.fields||{},_=Object.keys(d);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const S=Le(f[v],_[v]);if(S!==0)return S;const A=So(c[f[v]],d[_[v]]);if(A!==0)return A}return Le(f.length,_.length)}(e.mapValue,t.mapValue);default:throw fe()}}function Bm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Le(e,t);const n=Ns(e),r=Ns(t),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function Ao(e){return Kf(e)}function Kf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ns(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return La(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kf(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Kf(n.fields[l])}`;return i+"}"}(e.mapValue):fe()}function Yf(e){return!!e&&"integerValue"in e}function jd(e){return!!e&&"arrayValue"in e}function hc(e){return!!e&&"mapValue"in e}function ma(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ma(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ma(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _ft(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t){this.value=t}static empty(){return new Rr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!hc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ma(n)}setAll(t){let n=$n.emptyPath(),r={},i=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=ma(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Fo(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Rr(ma(this.value))}}function gv(e){const t=[];return Fo(e.fields,(n,r)=>{const i=new $n([n]);if(hc(r)){const o=gv(r.mapValue).fields;if(o.length===0)t.push(i);else for(const l of o)t.push(i.child(l))}else t.push(i)}),new Hr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,r,i,o,l,c){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Ur(t,0,Ke.min(),Ke.min(),Ke.min(),Rr.empty(),0)}static newFoundDocument(t,n,r,i){return new Ur(t,1,n,Ke.min(),r,i,0)}static newNoDocument(t,n){return new Ur(t,2,n,Ke.min(),Ke.min(),Rr.empty(),0)}static newUnknownDocument(t,n){return new Ur(t,3,n,Ke.min(),Ke.min(),Rr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ur&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.position=t,this.inclusive=n}}function Um(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],l=e.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(l.referenceValue),n.key):r=So(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ei(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n="asc"){this.field=t,this.dir=n}}function mft(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{}class En extends _v{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new vft(t,n,r):n==="array-contains"?new Eft(t,r):n==="in"?new xft(t,r):n==="not-in"?new Sft(t,r):n==="array-contains-any"?new Aft(t,r):new En(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new bft(t,r):new wft(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ts extends _v{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ts(t,n)}matches(t){return mv(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function mv(e){return e.op==="and"}function yv(e){return yft(e)&&mv(e)}function yft(e){for(const t of e.filters)if(t instanceof ts)return!1;return!0}function Qf(e){if(e instanceof En)return e.field.canonicalString()+e.op.toString()+Ao(e.value);if(yv(e))return e.filters.map(t=>Qf(t)).join(",");{const t=e.filters.map(n=>Qf(n)).join(",");return`${e.op}(${t})`}}function vv(e,t){return e instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(e,t):e instanceof ts?function(r,i){return i instanceof ts&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&vv(l,i.filters[c]),!0):!1}(e,t):void fe()}function bv(e){return e instanceof En?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(e):e instanceof ts?function(n){return n.op.toString()+" {"+n.getFilters().map(bv).join(" ,")+"}"}(e):"Filter"}class vft extends En{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class bft extends En{constructor(t,n){super(t,"in",n),this.keys=wv("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class wft extends En{constructor(t,n){super(t,"not-in",n),this.keys=wv("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wv(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class Eft extends En{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jd(n)&&Na(n.arrayValue,this.value)}}class xft extends En{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}}class Sft extends En{constructor(t,n){super(t,"not-in",n)}matches(t){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Na(this.value.arrayValue,n)}}class Aft extends En{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Na(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kft{constructor(t,n=null,r=[],i=[],o=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.he=null}}function Hm(e,t=null,n=[],r=[],i=null,o=null,l=null){return new kft(e,t,n,r,i,o,l)}function Gd(e){const t=qe(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Qf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ao(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ao(r)).join(",")),t.he=n}return t.he}function Wd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mft(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zm(e.startAt,t.startAt)&&zm(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Cft(e,t,n,r,i,o,l,c){return new bu(e,t,n,r,i,o,l,c)}function Tft(e){return new bu(e)}function jm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ift(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rft(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Oft(e){return e.collectionGroup!==null}function va(e){const t=qe(e);if(t.Pe===null){t.Pe=[];const n=Rft(t),r=Ift(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new ya(n)),t.Pe.push(new ya($n.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new ya($n.keyField(),o))}}}return t.Pe}function Is(e){const t=qe(e);return t.Ie||(t.Ie=Dft(t,va(e))),t.Ie}function Dft(e,t){if(e.limitType==="F")return Hm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ya(i.field,o)});const n=e.endAt?new Nc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nc(e.startAt.position,e.startAt.inclusive):null;return Hm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Zf(e,t,n){return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ev(e,t){return Wd(Is(e),Is(t))&&e.limitType===t.limitType}function xv(e){return`${Gd(Is(e))}|lt:${e.limitType}`}function ca(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bv(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(Is(e))}; limitType=${e.limitType})`}function Kd(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of va(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(l,c,f){const d=Um(l,c,f);return l.inclusive?d<=0:d<0}(r.startAt,va(r),i)||r.endAt&&!function(l,c,f){const d=Um(l,c,f);return l.inclusive?d>=0:d>0}(r.endAt,va(r),i))}(e,t)}function Pft(e){return(t,n)=>{let r=!1;for(const i of va(e)){const o=Mft(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Mft(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(o,l,c){const f=l.data.field(o),d=c.data.field(o);return f!==null&&d!==null?So(f,d):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Fo(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lft=new or(le.comparator);function Fc(){return Lft}const Sv=new or(le.comparator);function cc(...e){let t=Sv;for(const n of e)t=t.insert(n.key,n);return t}function Av(e){let t=Sv;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ks(){return ba()}function kv(){return ba()}function ba(){return new Vo(e=>e.toString(),(e,t)=>e.isEqual(t))}const Nft=new or(le.comparator),Fft=new Jn(le.comparator);function Vn(...e){let t=Fft;for(const n of e)t=t.add(n);return t}const Vft=new Jn(Le);function $ft(){return Vft}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function Tv(e){return{integerValue:""+e}}function qft(e,t){return fft(t)?Tv(t):Cv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function Bft(e,t,n){return e instanceof Vc?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hd(o)&&(o=pv(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,t):e instanceof ko?Rv(e,t):e instanceof Fa?Ov(e,t):function(i,o){const l=Iv(i,o),c=Gm(l)+Gm(i.Te);return Yf(l)&&Yf(i.Te)?Tv(c):Cv(i.serializer,c)}(e,t)}function Uft(e,t,n){return e instanceof ko?Rv(e,t):e instanceof Fa?Ov(e,t):n}function Iv(e,t){return e instanceof $c?function(r){return Yf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Vc extends wu{}class ko extends wu{constructor(t){super(),this.elements=t}}function Rv(e,t){const n=Dv(t);for(const r of e.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fa extends wu{constructor(t){super(),this.elements=t}}function Ov(e,t){let n=Dv(t);for(const r of e.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class $c extends wu{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Gm(e){return In(e.integerValue||e.doubleValue)}function Dv(e){return jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zft{constructor(t,n){this.field=t,this.transform=n}}function Hft(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof Fa&&i instanceof Fa?Eo(r.elements,i.elements,ei):r instanceof $c&&i instanceof $c?ei(r.Te,i.Te):r instanceof Vc&&i instanceof Vc}(e.transform,t.transform)}class jft{constructor(t,n){this.version=t,this.transformResults=n}}class Ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eu{}function Pv(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Lv(e.key,Ai.none()):new xu(e.key,e.data,Ai.none());{const n=e.data,r=Rr.empty();let i=new Jn($n.comparator);for(let o of t.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Vs(e.key,r,new Hr(i.toArray()),Ai.none())}}function Gft(e,t,n){e instanceof xu?function(i,o,l){const c=i.value.clone(),f=Km(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Vs?function(i,o,l){if(!fc(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Km(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(Mv(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(e,t,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function wa(e,t,n,r){return e instanceof xu?function(o,l,c,f){if(!fc(o.precondition,l))return c;const d=o.value.clone(),_=Ym(o.fieldTransforms,f,l);return d.setAll(_),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vs?function(o,l,c,f){if(!fc(o.precondition,l))return c;const d=Ym(o.fieldTransforms,f,l),_=l.data;return _.setAll(Mv(o)),_.setAll(d),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(e,t,n,r):function(o,l,c){return fc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function Wft(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Iv(r.transform,i||null);o!=null&&(n===null&&(n=Rr.empty()),n.set(r.field,o))}return n||null}function Wm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(o,l)=>Hft(o,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xu extends Eu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends Eu{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Mv(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Km(e,t,n){const r=new Map;An(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],l=o.transform,c=t.data.field(o.field);r.set(o.field,Uft(l,c,n[i]))}return r}function Ym(e,t,n){const r=new Map;for(const i of e){const o=i.transform,l=n.data.field(i.field);r.set(i.field,Bft(o,l,t))}return r}class Lv extends Eu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kft extends Eu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yft{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&Gft(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=wa(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=wa(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=kv();return this.mutations.forEach(i=>{const o=t.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const f=Pv(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vn())}isEqual(t){return this.batchId===t.batchId&&Eo(this.mutations,t.mutations,(n,r)=>Wm(n,r))&&Eo(this.baseMutations,t.baseMutations,(n,r)=>Wm(n,r))}}class Yd{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){An(t.mutations.length===r.length);let i=function(){return Nft}();const o=t.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Yd(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qft{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,de;function Zft(e){switch(e){default:return fe();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Xft(e){if(e===void 0)return Ls("GRPC error has no .code"),pt.UNKNOWN;switch(e){case sn.OK:return pt.OK;case sn.CANCELLED:return pt.CANCELLED;case sn.UNKNOWN:return pt.UNKNOWN;case sn.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case sn.INTERNAL:return pt.INTERNAL;case sn.UNAVAILABLE:return pt.UNAVAILABLE;case sn.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case sn.NOT_FOUND:return pt.NOT_FOUND;case sn.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case sn.ABORTED:return pt.ABORTED;case sn.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case sn.DATA_LOSS:return pt.DATA_LOSS;default:return fe()}}(de=sn||(sn={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zht([4294967295,4294967295],0);class Jft{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tdt(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function edt(e,t){return Xf(e,t.toTimestamp())}function bo(e){return An(!!e),Ke.fromTimestamp(function(n){const r=Ns(n);return new xn(r.seconds,r.nanos)}(e))}function Nv(e,t){return function(r){return new on(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function ndt(e){const t=on.fromString(e);return An(udt(t)),t}function Jf(e,t){return Nv(e.databaseId,t.path)}function rdt(e){const t=ndt(e);return t.length===4?on.emptyPath():sdt(t)}function idt(e){return new on(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sdt(e){return An(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Qm(e,t,n){return{name:Jf(e,t),fields:n.value.mapValue.fields}}function odt(e,t){let n;if(t instanceof xu)n={update:Qm(e,t.key,t.value)};else if(t instanceof Lv)n={delete:Jf(e,t.key)};else if(t instanceof Vs)n={update:Qm(e,t.key,t.data),updateMask:cdt(t.fieldMask)};else{if(!(t instanceof Kft))return fe();n={verify:Jf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Vc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ko)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $c)return{fieldPath:l.field.canonicalString(),increment:c.Te};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:edt(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(e,t.precondition)),n}function adt(e,t){return e&&e.length>0?(An(t!==void 0),e.map(n=>function(i,o){let l=i.updateTime?bo(i.updateTime):bo(o);return l.isEqual(Ke.min())&&(l=bo(o)),new jft(l,i.transformResults||[])}(n,t))):[]}function ldt(e){let t=rdt(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){An(r===1);const _=n.from[0];_.allDescendants?i=_.collectionId:t=t.child(_.collectionId)}let o=[];n.where&&(o=function(v){const S=Fv(v);return S instanceof ts&&yv(S)?S.getFilters():[S]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(S=>function(P){return new ya(fo(P.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(n.orderBy));let c=null;n.limit&&(c=function(v){let S;return S=typeof v=="object"?v.value:v,zd(S)?null:S}(n.limit));let f=null;n.startAt&&(f=function(v){const S=!!v.before,A=v.values||[];return new Nc(A,S)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const S=!v.before,A=v.values||[];return new Nc(A,S)}(n.endAt)),Cft(t,i,l,o,c,"F",f,d)}function Fv(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fo(n.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fo(n.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fo(n.unaryFilter.field);return En.create(l,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(e):e.fieldFilter!==void 0?function(n){return En.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ts.create(n.compositeFilter.filters.map(r=>Fv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(e):fe()}function fo(e){return $n.fromServerFormat(e.fieldPath)}function cdt(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function udt(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hdt{constructor(t){this.ht=t}}function fdt(e){const t=ldt({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ddt{constructor(){this.an=new pdt}addToCollectionParentIndex(t,n){return this.an.add(n),dt.resolve()}getCollectionParents(t,n){return dt.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return dt.resolve()}deleteFieldIndex(t,n){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,n){return dt.resolve()}getDocumentsMatchingTarget(t,n){return dt.resolve(null)}getIndexType(t,n){return dt.resolve(0)}getFieldIndexes(t,n){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,n){return dt.resolve(Ji.min())}getMinOffsetFromCollectionGroup(t,n){return dt.resolve(Ji.min())}updateCollectionGroup(t,n,r){return dt.resolve()}updateIndexEntries(t,n){return dt.resolve()}}class pdt{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Jn(on.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Jn(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Bn(){return new Co(0)}static Ln(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gdt{constructor(){this.changes=new Vo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ur.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?dt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _dt{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mdt{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&wa(r.mutation,i,Hr.empty(),xn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Vn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Vn()){const i=ks();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let l=cc();return o.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const r=ks();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Vn()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,r,i){let o=Fc();const l=ba(),c=function(){return ba()}();return n.forEach((f,d)=>{const _=r.get(d.key);i.has(d.key)&&(_===void 0||_.mutation instanceof Vs)?o=o.insert(d.key,d):_!==void 0?(l.set(d.key,_.mutation.getFieldMask()),wa(_.mutation,d,_.mutation.getFieldMask(),xn.now())):l.set(d.key,Hr.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,_)=>l.set(d,_)),n.forEach((d,_)=>{var v;return c.set(d,new _dt(_,(v=l.get(d))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(t,n){const r=ba();let i=new or((l,c)=>l-c),o=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let _=r.get(f)||Hr.empty();_=c.applyToLocalView(d,_),r.set(f,_);const v=(i.get(c.batchId)||Vn()).add(f);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,_=f.value,v=kv();_.forEach(S=>{if(!o.has(S)){const A=Pv(n.get(S),r.get(S));A!==null&&v.set(S,A),o=o.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,v))}return dt.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(l){return le.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Oft(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):dt.resolve(ks());let c=-1,f=o;return l.next(d=>dt.forEach(d,(_,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(_)?dt.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{f=f.insert(_,S)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,Vn())).next(_=>({batchId:c,changes:Av(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let l=cc();return this.indexManager.getCollectionParents(t,o).next(c=>dt.forEach(c,f=>{const d=function(v,S){return new bu(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,i).next(_=>{_.forEach((v,S)=>{l=l.insert(v,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(l=>{o.forEach((f,d)=>{const _=d.getKey();l.get(_)===null&&(l=l.insert(_,Ur.newInvalidDocument(_)))});let c=cc();return l.forEach((f,d)=>{const _=o.get(f);_!==void 0&&wa(_.mutation,d,Hr.empty(),xn.now()),Kd(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ydt{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return dt.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bo(i.createTime)}}(n)),dt.resolve()}getNamedQuery(t,n){return dt.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,function(i){return{name:i.name,query:fdt(i.bundledQuery),readTime:bo(i.readTime)}}(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vdt{constructor(){this.overlays=new or(le.comparator),this.Pr=new Map}getOverlay(t,n){return dt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ks();return dt.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.It(t,n,o)}),dt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),dt.resolve()}getOverlaysForCollection(t,n,r){const i=ks(),o=n.length+1,l=new le(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return dt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new or((d,_)=>d-_);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let _=o.get(d.largestBatchId);_===null&&(_=ks(),o=o.insert(d.largestBatchId,_)),_.set(d.getKey(),d)}}const c=ks(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,_)=>c.set(d,_)),!(c.size()>=i)););return dt.resolve(c)}It(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Qft(n,r));let o=this.Pr.get(n);o===void 0&&(o=Vn(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Ir=new Jn(wn.dr),this.Tr=new Jn(wn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const r=new wn(t,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Rr(new wn(t,n))}Vr(t,n){t.forEach(r=>this.removeReference(r,n))}mr(t){const n=new le(new on([])),r=new wn(n,t),i=new wn(n,t+1),o=[];return this.Tr.forEachInRange([r,i],l=>{this.Rr(l),o.push(l.key)}),o}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Tr=this.Tr.delete(t)}pr(t){const n=new le(new on([])),r=new wn(n,t),i=new wn(n,t+1);let o=Vn();return this.Tr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(t){const n=new wn(t,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class wn{constructor(t,n){this.key=t,this.yr=n}static dr(t,n){return le.comparator(t.key,n.key)||Le(t.yr,n.yr)}static Er(t,n){return Le(t.yr,n.yr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bdt{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Jn(wn.dr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Yft(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Sr=this.Sr.add(new wn(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return dt.resolve(l)}lookupMutationBatch(t,n){return dt.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return dt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],l=>{const c=this.br(l.yr);o.push(c)}),dt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Jn(Le);return n.forEach(i=>{const o=new wn(i,0),l=new wn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,l],c=>{r=r.add(c.yr)})}),dt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const l=new wn(new le(o),0);let c=new Jn(Le);return this.Sr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.yr)),!0)},l),dt.resolve(this.Cr(c))}Cr(t){const n=[];return t.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){An(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return dt.forEach(n.mutations,i=>{const o=new wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Sr=r})}xn(t){}containsKey(t,n){const r=new wn(n,0),i=this.Sr.firstAfterOrEqual(r);return dt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wdt{constructor(t){this.Fr=t,this.docs=function(){return new or(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return dt.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(t,n){let r=Fc();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ur.newInvalidDocument(i))}),dt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Fc();const l=n.path,c=new le(l.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:_}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||cft(lft(_),r)<=0||(i.has(_.key)||Kd(n,_))&&(o=o.insert(_.key,_.mutableCopy()))}return dt.resolve(o)}getAllFromCollectionGroup(t,n,r,i){fe()}Mr(t,n){return dt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Edt(this)}getSize(t){return dt.resolve(this.size)}}class Edt extends gdt{constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(t,i)):this.ur.removeEntry(r)}),dt.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xdt{constructor(t){this.persistence=t,this.Or=new Vo(n=>Gd(n),Wd),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Qd,this.targetCount=0,this.Lr=Co.Bn()}forEachTarget(t,n){return this.Or.forEach((r,i)=>n(i)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),dt.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Co(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,dt.resolve()}updateTargetData(t,n){return this.Qn(n),dt.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Or.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Or.delete(l),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),dt.waitFor(o).next(()=>i)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Or.get(n)||null;return dt.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Ar(n,r),dt.resolve()}removeMatchingKeys(t,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(t,l))}),dt.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.mr(n),dt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.pr(n);return dt.resolve(r)}containsKey(t,n){return dt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sdt{constructor(t,n){this.kr={},this.overlays={},this.qr=new fv(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new xdt(this),this.indexManager=new ddt,this.remoteDocumentCache=function(i){return new wdt(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new hdt(n),this.Ur=new ydt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new vdt,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.kr[t.toKey()];return r||(r=new bdt(n,this.referenceDelegate),this.kr[t.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(t,n,r){Vt("MemoryPersistence","Starting transaction:",t);const i=new Adt(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(o=>this.referenceDelegate.Gr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zr(t,n){return dt.or(Object.values(this.kr).map(r=>()=>r.containsKey(t,n)))}}class Adt extends hft{constructor(t){super(),this.currentSequenceNumber=t}}class Zd{constructor(t){this.persistence=t,this.jr=new Qd,this.Hr=null}static Jr(t){return new Zd(t)}get Yr(){if(this.Hr)return this.Hr;throw fe()}addReference(t,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),dt.resolve()}removeReference(t,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(t,n){return this.Yr.add(n.toString()),dt.resolve()}removeTarget(t,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Wr(){this.Hr=new Set}Gr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.Yr,r=>{const i=le.fromPath(r);return this.Zr(t,i).next(o=>{o||n.removeEntry(i,Ke.min())})}).next(()=>(this.Hr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Zr(t,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(t){return 0}Zr(t,n){return dt.or([()=>dt.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.zr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(t,n){let r=Vn(),i=Vn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kdt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cdt{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(t,n){this.ji=t,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Hi(t,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Ji(t,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new kdt;return this.Yi(t,n,l).next(c=>{if(o.result=c,this.Wi)return this.Zi(t,n,l,c.size)})}).next(()=>o.result)}Zi(t,n,r,i){return r.documentReadCount<this.Gi?(la()<=ge.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),dt.resolve()):(la()<=ge.DEBUG&&Vt("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(la()<=ge.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Is(n))):dt.resolve())}Hi(t,n){if(jm(n))return dt.resolve(null);let r=Is(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zf(n,null,"F"),r=Is(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const l=Vn(...o);return this.ji.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,r).next(f=>{const d=this.Xi(n,c);return this.es(n,d,l,f.readTime)?this.Hi(t,Zf(n,null,"F")):this.ts(t,d,n,f)}))})))}Ji(t,n,r,i){return jm(n)||i.isEqual(Ke.min())?dt.resolve(null):this.ji.getDocuments(t,r).next(o=>{const l=this.Xi(n,o);return this.es(n,l,r,i)?dt.resolve(null):(la()<=ge.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(n)),this.ts(t,l,n,aft(i,-1)).next(c=>c))})}Xi(t,n){let r=new Jn(Pft(t));return n.forEach((i,o)=>{Kd(t,o)&&(r=r.add(o))}),r}es(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Yi(t,n,r){return la()<=ge.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",ca(n)),this.ji.getDocumentsMatchingQuery(t,n,Ji.min(),r)}ts(t,n,r,i){return this.ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tdt{constructor(t,n,r,i){this.persistence=t,this.ns=n,this.serializer=i,this.rs=new or(Le),this.ss=new Vo(o=>Gd(o),Wd),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}us(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mdt(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.rs))}}function Idt(e,t,n,r){return new Tdt(e,t,n,r)}async function Vv(e,t){const n=qe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.us(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let f=Vn();for(const d of i){l.push(d.batchId);for(const _ of d.mutations)f=f.add(_.key)}for(const d of o){c.push(d.batchId);for(const _ of d.mutations)f=f.add(_.key)}return n.localDocuments.getDocuments(r,f).next(d=>({cs:d,removedBatchIds:l,addedBatchIds:c}))})})}function Rdt(e,t){const n=qe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n._s.newChangeBuffer({trackRemovals:!0});return function(c,f,d,_){const v=d.batch,S=v.keys();let A=dt.resolve();return S.forEach(P=>{A=A.next(()=>_.getEntry(f,P)).next(z=>{const X=d.docVersions.get(P);An(X!==null),z.version.compareTo(X)<0&&(v.applyToRemoteDocument(z,d),z.isValidDocument()&&(z.setReadTime(d.commitVersion),_.addEntry(z)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Vn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Odt(e){const t=qe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Kr.getLastRemoteSnapshotVersion(n))}function Ddt(e,t){const n=qe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class Zm{constructor(){this.activeTargetIds=$ft()}Rs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}As(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pdt{constructor(){this.ro=new Zm,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.ro.Rs(t),this.io[t]||"not-current"}updateQueryState(t,n,r){this.io[t]=n}removeLocalQueryTarget(t){this.ro.Vs(t)}isLocalQueryTarget(t){return this.ro.activeTargetIds.has(t)}clearQueryState(t){delete this.io[t]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(t){return this.ro.activeTargetIds.has(t)}start(){return this.ro=new Zm,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mdt{so(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(t){this.co.push(t)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.co)t(0)}uo(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.co)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function _f(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ldt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ndt{constructor(t){this.ho=t.ho,this.Po=t.Po}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.Po()}send(t){this.ho(t)}Vo(){this.To()}mo(t){this.Ao(t)}fo(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Fdt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get So(){return!1}bo(n,r,i,o,l){const c=_f(),f=this.Do(n,r);Vt("RestConnection",`Sending RPC '${n}' ${c}:`,f,i);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(d,o,l),this.vo(n,f,d,i).then(_=>(Vt("RestConnection",`Received RPC '${n}' ${c}: `,_),_),_=>{throw Dc("RestConnection",`RPC '${n}' ${c} failed with error: `,_,"url: ",f,"request:",i),_})}Fo(n,r,i,o,l,c){return this.bo(n,r,i,o,l)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),i&&i.headers.forEach((o,l)=>n[l]=o)}Do(n,r){const i=Ldt[n];return`${this.po}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const o=_f();return new Promise((l,c)=>{const f=new Qht;f.setWithCredentials(!0),f.listenOnce(Kht.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case gf.NO_ERROR:const _=f.getResponseJson();Vt(Nn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),l(_);break;case gf.TIMEOUT:Vt(Nn,`RPC '${t}' ${o} timed out`),c(new Jt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const v=f.getStatus();if(Vt(Nn,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const P=function(X){const it=X.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(it)>=0?it:pt.UNKNOWN}(A.status);c(new Jt(P,A.message))}else c(new Jt(pt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Jt(pt.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{Vt(Nn,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);Vt(Nn,`RPC '${t}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)})}Mo(t,n,r){const i=_f(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Ght(),c=Wht(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Co(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const _=o.join("");Vt(Nn,`Creating RPC '${t}' stream ${i}: ${_}`,f);const v=l.createWebChannel(_,f);let S=!1,A=!1;const P=new Ndt({ho:X=>{A?Vt(Nn,`Not sending because RPC '${t}' stream ${i} is closed:`,X):(S||(Vt(Nn,`Opening RPC '${t}' stream ${i} transport.`),v.open(),S=!0),Vt(Nn,`RPC '${t}' stream ${i} sending:`,X),v.send(X))},Po:()=>v.close()}),z=(X,it,tt)=>{X.listen(it,_t=>{try{tt(_t)}catch(bt){setTimeout(()=>{throw bt},0)}})};return z(v,oc.EventType.OPEN,()=>{A||Vt(Nn,`RPC '${t}' stream ${i} transport opened.`)}),z(v,oc.EventType.CLOSE,()=>{A||(A=!0,Vt(Nn,`RPC '${t}' stream ${i} transport closed`),P.mo())}),z(v,oc.EventType.ERROR,X=>{A||(A=!0,Dc(Nn,`RPC '${t}' stream ${i} transport errored:`,X),P.mo(new Jt(pt.UNAVAILABLE,"The operation could not be completed")))}),z(v,oc.EventType.MESSAGE,X=>{var it;if(!A){const tt=X.data[0];An(!!tt);const _t=tt,bt=_t.error||((it=_t[0])===null||it===void 0?void 0:it.error);if(bt){Vt(Nn,`RPC '${t}' stream ${i} received error:`,bt);const $t=bt.status;let yt=function(He){const oe=sn[He];if(oe!==void 0)return Xft(oe)}($t),Qt=bt.message;yt===void 0&&(yt=pt.INTERNAL,Qt="Unknown error status: "+$t+" with message "+bt.message),A=!0,P.mo(new Jt(yt,Qt)),v.close()}else Vt(Nn,`RPC '${t}' stream ${i} received:`,tt),P.fo(tt)}}),z(c,Yht.STAT_EVENT,X=>{X.stat===Fm.PROXY?Vt(Nn,`RPC '${t}' stream ${i} detected buffering proxy`):X.stat===Fm.NOPROXY&&Vt(Nn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.Vo()},0),P}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){return new Jft(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,n,r=1e3,i=1.5,o=6e4){this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(t){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&Vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),t())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vdt{constructor(t,n,r,i,o,l,c,f){this._i=t,this.Uo=r,this.Wo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new $v(t,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(t){this.r_(),this.stream.send(t)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(t,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,t!==4?this.Ho.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{t(()=>{const i=new Jt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(t,n){const r=this.o_(this.Go);this.stream=this.u_(t,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(t){return Vt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}o_(t){return n=>{this._i.enqueueAndForget(()=>this.Go===t?n():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $dt extends Vdt{constructor(t,n,r,i,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(t,n){return this.connection.Mo("Write",t,n)}onMessage(t){if(An(!!t.streamToken),this.lastStreamToken=t.streamToken,this.P_){this.Ho.reset();const n=adt(t.writeResults,t.commitTime),r=bo(t.commitTime);return this.listener.T_(r,n)}return An(!t.writeResults||t.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const t={};t.database=idt(this.serializer),this.n_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>odt(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qdt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new Jt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Jt(pt.UNKNOWN,i.toString())})}Fo(t,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Fo(t,n,r,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Jt(pt.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class Bdt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(t){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.w_("Offline")))}set(t){this.D_(),this.f_=0,t==="Online"&&(this.p_=!1),this.w_(t)}w_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}S_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Ls(n),this.p_=!1):Vt("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Udt{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(l=>{r.enqueueAndForget(async()=>{nl(this)&&(Vt("RemoteStore","Restarting streams for network reachability change."),await async function(f){const d=qe(f);d.F_.add(4),await el(d),d.O_.set("Unknown"),d.F_.delete(4),await Au(d)}(this))})}),this.O_=new Bdt(r,i)}}async function Au(e){if(nl(e))for(const t of e.M_)await t(!0)}async function el(e){for(const t of e.M_)await t(!1)}function nl(e){return qe(e).F_.size===0}async function qv(e,t,n){if(!vu(t))throw t;e.F_.add(1),await el(e),e.O_.set("Offline"),n||(n=()=>Odt(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Vt("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await Au(e)})}function Bv(e,t){return t().catch(n=>qv(e,n,t))}async function ku(e){const t=qe(e),n=es(t);let r=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;zdt(t);)try{const i=await Ddt(t.localStore,r);if(i===null){t.C_.length===0&&n.e_();break}r=i.batchId,Hdt(t,i)}catch(i){await qv(t,i)}Uv(t)&&zv(t)}function zdt(e){return nl(e)&&e.C_.length<10}function Hdt(e,t){e.C_.push(t);const n=es(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function Uv(e){return nl(e)&&!es(e).Jo()&&e.C_.length>0}function zv(e){es(e).start()}async function jdt(e){es(e).A_()}async function Gdt(e){const t=es(e);for(const n of e.C_)t.d_(n.mutations)}async function Wdt(e,t,n){const r=e.C_.shift(),i=Yd.from(r,t,n);await Bv(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ku(e)}async function Kdt(e,t){t&&es(e).I_&&await async function(r,i){if(function(l){return Zft(l)&&l!==pt.ABORTED}(i.code)){const o=r.C_.shift();es(r).Xo(),await Bv(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ku(r)}}(e,t),Uv(e)&&zv(e)}async function Jm(e,t){const n=qe(e);n.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const r=nl(n);n.F_.add(3),await el(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await Au(n)}async function Ydt(e,t){const n=qe(e);t?(n.F_.delete(2),await Au(n)):t||(n.F_.add(2),await el(n),n.O_.set("Unknown"))}function es(e){return e.L_||(e.L_=function(n,r,i){const o=qe(n);return o.V_(),new $dt(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Io:jdt.bind(null,e),Eo:Kdt.bind(null,e),E_:Gdt.bind(null,e),T_:Wdt.bind(null,e)}),e.M_.push(async t=>{t?(e.L_.Xo(),await ku(e)):(await e.L_.stop(),e.C_.length>0&&(Vt("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const l=Date.now()+r,c=new Jd(t,n,l,i,o);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(e,t){if(Ls("AsyncQueue",`${t}: ${e}`),vu(e))return new Jt(pt.UNAVAILABLE,`${t}: ${e}`);throw e}class Qdt{constructor(){this.queries=new Vo(t=>xv(t),Ev),this.onlineState="Unknown",this.K_=new Set}}function Zdt(e){e.K_.forEach(t=>{t.next()})}class Xdt{constructor(t,n,r,i,o,l){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.fa={},this.ga=new Vo(c=>xv(c),Ev),this.pa=new Map,this.ya=new Set,this.wa=new or(le.comparator),this.Sa=new Map,this.ba=new Qd,this.Da={},this.Ca=new Map,this.va=Co.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Jdt(e,t,n){const r=rpt(e);try{const i=await function(l,c){const f=qe(l),d=xn.now(),_=c.reduce((A,P)=>A.add(P.key),Vn());let v,S;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let P=Fc(),z=Vn();return f._s.getEntries(A,_).next(X=>{P=X,P.forEach((it,tt)=>{tt.isValidDocument()||(z=z.add(it))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,P)).next(X=>{v=X;const it=[];for(const tt of c){const _t=Wft(tt,v.get(tt.key).overlayedDocument);_t!=null&&it.push(new Vs(tt.key,_t,gv(_t.value.mapValue),Ai.exists(!0)))}return f.mutationQueue.addMutationBatch(A,d,it,c)}).next(X=>{S=X;const it=X.applyToLocalDocumentSet(v,z);return f.documentOverlayCache.saveOverlays(A,X.batchId,it)})}).then(()=>({batchId:S.batchId,changes:Av(v)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let d=l.Da[l.currentUser.toKey()];d||(d=new or(Le)),d=d.insert(c,f),l.Da[l.currentUser.toKey()]=d}(r,i.batchId,n),await Cu(r,i.changes),await ku(r.remoteStore)}catch(i){const o=Hv(i,"Failed to persist write");n.reject(o)}}function t0(e,t,n){const r=qe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,l)=>{const c=l.view.U_(t);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=qe(l);f.onlineState=c;let d=!1;f.queries.forEach((_,v)=>{for(const S of v.listeners)S.U_(c)&&(d=!0)}),d&&Zdt(f)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tpt(e,t){const n=qe(e),r=t.batch.batchId;try{const i=await Rdt(n.localStore,t);Gv(n,r,null),jv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await hv(i)}}async function ept(e,t,n){const r=qe(e);try{const i=await function(l,c){const f=qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let _;return f.mutationQueue.lookupMutationBatch(d,c).next(v=>(An(v!==null),_=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,_,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,_)).next(()=>f.localDocuments.getDocuments(d,_))})}(r.localStore,t);Gv(r,t,n),jv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cu(r,i)}catch(i){await hv(i)}}function jv(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function Gv(e,t,n){const r=qe(e);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}async function Cu(e,t,n){const r=qe(e),i=[],o=[],l=[];r.ga.isEmpty()||(r.ga.forEach((c,f)=>{l.push(r.Ma(f,t,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const _=Xd.$i(f.targetId,d);o.push(_)}}))}),await Promise.all(l),r.fa.c_(i),await async function(f,d){const _=qe(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>dt.forEach(d,S=>dt.forEach(S.Qi,A=>_.persistence.referenceDelegate.addReference(v,S.targetId,A)).next(()=>dt.forEach(S.Ki,A=>_.persistence.referenceDelegate.removeReference(v,S.targetId,A)))))}catch(v){if(!vu(v))throw v;Vt("LocalStore","Failed to update sequence numbers: "+v)}for(const v of d){const S=v.targetId;if(!v.fromCache){const A=_.rs.get(S),P=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(P);_.rs=_.rs.insert(S,z)}}}(r.localStore,o))}async function npt(e,t){const n=qe(e);if(!n.currentUser.isEqual(t)){Vt("SyncEngine","User change. New user:",t.toKey());const r=await Vv(n.localStore,t);n.currentUser=t,function(o,l){o.Ca.forEach(c=>{c.forEach(f=>{f.reject(new Jt(pt.CANCELLED,l))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.cs)}}function rpt(e){const t=qe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tpt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ept.bind(null,t),t}class e0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Su(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Idt(this.persistence,new Cdt,t.initialUser,this.serializer)}createPersistence(t){return new Sdt(Zd.Jr,this.serializer)}createSharedClientState(t){return new Pdt}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ipt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=npt.bind(null,this.syncEngine),await Ydt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Qdt}()}createDatastore(t){const n=Su(t.databaseInfo.databaseId),r=function(o){return new Fdt(o)}(t.databaseInfo);return function(o,l,c,f){return new qdt(o,l,c,f)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,l,c){return new Udt(r,i,o,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>t0(this.syncEngine,n,0),function(){return Xm.C()?new Xm:new Mdt}())}createSyncEngine(t,n){return function(i,o,l,c,f,d,_){const v=new Xdt(i,o,l,c,f,d);return _&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=qe(n);Vt("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await el(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=uv.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Vt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Vt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function yf(e,t){e.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vv(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function n0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await apt(e);Vt("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Jm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>Jm(t.remoteStore,o)),e._onlineComponents=t}function opt(e){return e.name==="FirebaseError"?e.code===pt.FAILED_PRECONDITION||e.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function apt(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!opt(n))throw n;Dc("Error using user provided cache. Falling back to memory cache: "+n),await yf(e,new e0)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),await yf(e,new e0);return e._offlineComponents}async function lpt(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),await n0(e,e._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),await n0(e,new ipt))),e._onlineComponents}function cpt(e){return lpt(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upt(e,t,n){if(!n)throw new Jt(pt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hpt(e,t,n,r){if(t===!0&&r===!0)throw new Jt(pt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function i0(e){if(!le.isDocumentKey(e))throw new Jt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function td(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tp(e);throw new Jt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Jt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Jt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hpt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Jt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Jt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Jt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Jt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xht;switch(r.type){case"firstParty":return new nft(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Jt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=r0.get(n);r&&(Vt("ComponentProvider","Removing Datastore"),r0.delete(n),r.terminate())}(this),Promise.resolve()}}function fpt(e,t,n,r={}){var i;const o=(e=td(e,ep))._getSettings(),l=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Fn.MOCK_USER;else{c=Rct(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Jt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fn(d)}e._authCredentials=new Jht(new cv(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new np(this.firestore,t,this._query)}}class ki{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ki(this.firestore,t,this._key)}}class Va extends np{constructor(t,n,r){super(t,n,Tft(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ki(this.firestore,null,new le(t))}withConverter(t){return new Va(this.firestore,t,this._path)}}function dpt(e,t,...n){if(e=Ds(e),arguments.length===1&&(t=uv.V()),upt("doc","path",t),e instanceof ep){const r=on.fromString(t,...n);return i0(r),new ki(e,null,new le(r))}{if(!(e instanceof ki||e instanceof Va))throw new Jt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(on.fromString(t,...n));return i0(r),new ki(e.firestore,e instanceof Va?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppt{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new $v(this,"async_queue_retry"),this.ou=()=>{const n=mf();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this._u(),this.au(t)}enterRestrictedMode(t){if(!this.eu){this.eu=!0,this.iu=t||!1;const n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(t){if(this._u(),this.eu)return new Promise(()=>{});const n=new Ts;return this.au(()=>this.eu&&this.iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xa.push(t),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(t){if(!vu(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(t){const n=this.Za.then(()=>(this.ru=!0,t().catch(r=>{this.nu=r,this.ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(t,n,r){this._u(),this.su.indexOf(t)>-1&&(n=0);const i=Jd.createAndSchedule(this,t,n,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&fe()}verifyOperationInProgress(){}async lu(){let t;do t=this.Za,await t;while(t!==this.Za)}hu(t){for(const n of this.tu)if(n.timerId===t)return!0;return!1}Pu(t){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lu()})}Iu(t){this.su.push(t)}cu(t){const n=this.tu.indexOf(t);this.tu.splice(n,1)}}class Kv extends ep{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new ppt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yv(this),this._firestoreClient.terminate()}}function gpt(e,t){const n=typeof e=="object"?e:Mut(),r=typeof e=="string"?e:t||"(default)",i=Rut(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Tct("firestore");o&&fpt(i,...o)}return i}function _pt(e){return e._firestoreClient||Yv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yv(e){var t,n,r;const i=e._freezeSettings(),o=function(c,f,d,_){return new gft(c,f,d,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Wv(_.experimentalLongPollingOptions),_.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new spt(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(Ii.fromBase64String(t))}catch(n){throw new Jt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $a(Ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Jt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Jt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Le(this._lat,t._lat)||Le(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mpt=/^__.*__$/;class Zv{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Iu{constructor(t,n,r,i,o,l){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.du(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new Iu(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.Vu(t),i}mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(t){return this.Eu({path:void 0,Ru:!0})}gu(t){return qc(t,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vu(this.path.get(t))}Vu(t){if(t.length===0)throw this.gu("Document fields must not be empty");if(Xv(this.Tu)&&mpt.test(t))throw this.gu('Document fields cannot begin and end with "__"')}}class ypt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Su(t)}wu(t,n,r,i=!1){return new Iu({Tu:t,methodName:n,yu:r,path:$n.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vpt(e){const t=e._freezeSettings(),n=Su(e._databaseId);return new ypt(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Ru extends Tu{_toFieldTransform(t){if(t.Tu!==2)throw t.Tu===1?t.gu(`${this._methodName}() can only appear at the top level of your update data`):t.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ru}}function bpt(e,t,n){return new Iu({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wpt extends Tu{constructor(t,n){super(t),this.Su=n}_toFieldTransform(t){const n=bpt(this,t,!0),r=this.Su.map(o=>rl(o,n)),i=new ko(r);return new zft(t.path,i)}isEqual(t){return this===t}}function Ept(e,t,n,r){const i=e.wu(1,t,n);t1("Data must be an object, but it was:",i,r);const o=[],l=Rr.empty();Fo(r,(f,d)=>{const _=e1(t,f,n);d=Ds(d);const v=i.mu(_);if(d instanceof Ru)o.push(_);else{const S=rl(d,v);S!=null&&(o.push(_),l.set(_,S))}});const c=new Hr(o);return new Zv(l,c,i.fieldTransforms)}function xpt(e,t,n,r,i,o){const l=e.wu(1,t,n),c=[o0(t,r,n)],f=[i];if(o.length%2!=0)throw new Jt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)c.push(o0(t,o[S])),f.push(o[S+1]);const d=[],_=Rr.empty();for(let S=c.length-1;S>=0;--S)if(!kpt(d,c[S])){const A=c[S];let P=f[S];P=Ds(P);const z=l.mu(A);if(P instanceof Ru)d.push(A);else{const X=rl(P,z);X!=null&&(d.push(A),_.set(A,X))}}const v=new Hr(d);return new Zv(_,v,l.fieldTransforms)}function rl(e,t){if(Jv(e=Ds(e)))return t1("Unsupported field value:",t,e),Spt(e,t);if(e instanceof Tu)return function(r,i){if(!Xv(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&t.Tu!==4)throw t.gu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let f=rl(c,i.fu(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qft(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xn.fromDate(r);return{timestampValue:Xf(i.serializer,o)}}if(r instanceof xn){const o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xf(i.serializer,o)}}if(r instanceof Qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:tdt(i.serializer,r._byteString)};if(r instanceof ki){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.gu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${tp(r)}`)}(e,t)}function Spt(e,t){const n={};return dv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fo(e,(r,i)=>{const o=rl(i,t.Au(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Jv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xn||e instanceof Qv||e instanceof $a||e instanceof ki||e instanceof Tu)}function t1(e,t,n){if(!Jv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tp(n);throw r==="an object"?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function o0(e,t,n){if((t=Ds(t))instanceof rp)return t._internalPath;if(typeof t=="string")return e1(e,t);throw qc("Field path arguments must be of type string or ",e,!1,void 0,n)}const Apt=new RegExp("[~\\*/\\[\\]]");function e1(e,t,n){if(t.search(Apt)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rp(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qc(e,t,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Jt(pt.INVALID_ARGUMENT,c+e+f)}function kpt(e,t){return e.some(n=>n.isEqual(t))}function Cpt(e,t,n,...r){e=td(e,ki);const i=td(e.firestore,Kv),o=vpt(i);let l;return l=typeof(t=Ds(t))=="string"||t instanceof rp?xpt(o,"updateDoc",e._key,t,n,r):Ept(o,"updateDoc",e._key,t),Tpt(i,[l.toMutation(e._key,Ai.exists(!0))])}function Tpt(e,t){return function(r,i){const o=new Ts;return r.asyncQueue.enqueueAndForget(async()=>Jdt(await cpt(r),i,o)),o.promise}(_pt(e),t)}function Ipt(...e){return new wpt("arrayUnion",e)}(function(t,n=!0){(function(i){No=i})(Put),Sc(new Sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Kv(new tft(r.getProvider("auth-internal")),new ift(r.getProvider("app-check-internal")),function(d,_){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Jt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(d.options.projectId,_)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),yo(Vm,"4.1.3",t),yo(Vm,"4.1.3","esm2017")})();function n1(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rpt}=Object.prototype,{getPrototypeOf:ip}=Object,Ou=(e=>t=>{const n=Rpt.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ii=e=>(e=e.toLowerCase(),t=>Ou(t)===e),Du=e=>t=>typeof t===e,{isArray:$o}=Array,qa=Du("undefined");function Opt(e){return e!==null&&!qa(e)&&e.constructor!==null&&!qa(e.constructor)&&Or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const r1=ii("ArrayBuffer");function Dpt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&r1(e.buffer),t}const Ppt=Du("string"),Or=Du("function"),i1=Du("number"),Pu=e=>e!==null&&typeof e=="object",Mpt=e=>e===!0||e===!1,dc=e=>{if(Ou(e)!=="object")return!1;const t=ip(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lpt=ii("Date"),Npt=ii("File"),Fpt=ii("Blob"),Vpt=ii("FileList"),$pt=e=>Pu(e)&&Or(e.pipe),qpt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Or(e.append)&&((t=Ou(e))==="formdata"||t==="object"&&Or(e.toString)&&e.toString()==="[object FormData]"))},Bpt=ii("URLSearchParams"),Upt=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function il(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),$o(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let c;for(r=0;r<l;r++)c=o[r],t.call(null,e[c],c,e)}}function s1(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const o1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),a1=e=>!qa(e)&&e!==o1;function ed(){const{caseless:e}=a1(this)&&this||{},t={},n=(r,i)=>{const o=e&&s1(t,i)||i;dc(t[o])&&dc(r)?t[o]=ed(t[o],r):dc(r)?t[o]=ed({},r):$o(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&il(arguments[r],n);return t}const zpt=(e,t,n,{allOwnKeys:r}={})=>(il(t,(i,o)=>{n&&Or(i)?e[o]=n1(i,n):e[o]=i},{allOwnKeys:r}),e),Hpt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jpt=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Gpt=(e,t,n,r)=>{let i,o,l;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&ip(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Wpt=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Kpt=e=>{if(!e)return null;if($o(e))return e;let t=e.length;if(!i1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ypt=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ip(Uint8Array)),Qpt=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Zpt=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Xpt=ii("HTMLFormElement"),Jpt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),a0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),tgt=ii("RegExp"),l1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};il(n,(i,o)=>{let l;(l=t(i,o,e))!==!1&&(r[o]=l||i)}),Object.defineProperties(e,r)},egt=e=>{l1(e,(t,n)=>{if(Or(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Or(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ngt=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return $o(e)?r(e):r(String(e).split(t)),n},rgt=()=>{},igt=(e,t)=>(e=+e,Number.isFinite(e)?e:t),vf="abcdefghijklmnopqrstuvwxyz",l0="0123456789",c1={DIGIT:l0,ALPHA:vf,ALPHA_DIGIT:vf+vf.toUpperCase()+l0},sgt=(e=16,t=c1.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function ogt(e){return!!(e&&Or(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const agt=e=>{const t=new Array(10),n=(r,i)=>{if(Pu(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=$o(r)?[]:{};return il(r,(l,c)=>{const f=n(l,i+1);!qa(f)&&(o[c]=f)}),t[i]=void 0,o}}return r};return n(e,0)},lgt=ii("AsyncFunction"),cgt=e=>e&&(Pu(e)||Or(e))&&Or(e.then)&&Or(e.catch),ct={isArray:$o,isArrayBuffer:r1,isBuffer:Opt,isFormData:qpt,isArrayBufferView:Dpt,isString:Ppt,isNumber:i1,isBoolean:Mpt,isObject:Pu,isPlainObject:dc,isUndefined:qa,isDate:Lpt,isFile:Npt,isBlob:Fpt,isRegExp:tgt,isFunction:Or,isStream:$pt,isURLSearchParams:Bpt,isTypedArray:Ypt,isFileList:Vpt,forEach:il,merge:ed,extend:zpt,trim:Upt,stripBOM:Hpt,inherits:jpt,toFlatObject:Gpt,kindOf:Ou,kindOfTest:ii,endsWith:Wpt,toArray:Kpt,forEachEntry:Qpt,matchAll:Zpt,isHTMLForm:Xpt,hasOwnProperty:a0,hasOwnProp:a0,reduceDescriptors:l1,freezeMethods:egt,toObjectSet:ngt,toCamelCase:Jpt,noop:rgt,toFiniteNumber:igt,findKey:s1,global:o1,isContextDefined:a1,ALPHABET:c1,generateString:sgt,isSpecCompliantForm:ogt,toJSONObject:agt,isAsyncFn:lgt,isThenable:cgt};function pe(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ct.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const u1=pe.prototype,h1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{h1[e]={value:e}});Object.defineProperties(pe,h1);Object.defineProperty(u1,"isAxiosError",{value:!0});pe.from=(e,t,n,r,i,o)=>{const l=Object.create(u1);return ct.toFlatObject(e,l,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),pe.call(l,e.message,t,n,r,i),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};const ugt=null;function nd(e){return ct.isPlainObject(e)||ct.isArray(e)}function f1(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function c0(e,t,n){return e?e.concat(t).map(function(i,o){return i=f1(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function hgt(e){return ct.isArray(e)&&!e.some(nd)}const fgt=ct.toFlatObject(ct,{},null,function(t){return/^is[A-Z]/.test(t)});function Mu(e,t,n){if(!ct.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ct.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,X){return!ct.isUndefined(X[z])});const r=n.metaTokens,i=n.visitor||_,o=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(t);if(!ct.isFunction(i))throw new TypeError("visitor must be a function");function d(P){if(P===null)return"";if(ct.isDate(P))return P.toISOString();if(!f&&ct.isBlob(P))throw new pe("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(P)||ct.isTypedArray(P)?f&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,z,X){let it=P;if(P&&!X&&typeof P=="object"){if(ct.endsWith(z,"{}"))z=r?z:z.slice(0,-2),P=JSON.stringify(P);else if(ct.isArray(P)&&hgt(P)||(ct.isFileList(P)||ct.endsWith(z,"[]"))&&(it=ct.toArray(P)))return z=f1(z),it.forEach(function(_t,bt){!(ct.isUndefined(_t)||_t===null)&&t.append(l===!0?c0([z],bt,o):l===null?z:z+"[]",d(_t))}),!1}return nd(P)?!0:(t.append(c0(X,z,o),d(P)),!1)}const v=[],S=Object.assign(fgt,{defaultVisitor:_,convertValue:d,isVisitable:nd});function A(P,z){if(!ct.isUndefined(P)){if(v.indexOf(P)!==-1)throw Error("Circular reference detected in "+z.join("."));v.push(P),ct.forEach(P,function(it,tt){(!(ct.isUndefined(it)||it===null)&&i.call(t,it,ct.isString(tt)?tt.trim():tt,z,S))===!0&&A(it,z?z.concat(tt):[tt])}),v.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return A(e),t}function u0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sp(e,t){this._pairs=[],e&&Mu(e,this,t)}const d1=sp.prototype;d1.append=function(t,n){this._pairs.push([t,n])};d1.toString=function(t){const n=t?function(r){return t.call(this,r,u0)}:u0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function dgt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p1(e,t,n){if(!t)return e;const r=n&&n.encode||dgt,i=n&&n.serialize;let o;if(i?o=i(t,n):o=ct.isURLSearchParams(t)?t.toString():new sp(t,n).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class pgt{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ct.forEach(this.handlers,function(r){r!==null&&t(r)})}}const h0=pgt,g1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ggt=typeof URLSearchParams<"u"?URLSearchParams:sp,_gt=typeof FormData<"u"?FormData:null,mgt=typeof Blob<"u"?Blob:null,ygt=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),vgt=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Xr={isBrowser:!0,classes:{URLSearchParams:ggt,FormData:_gt,Blob:mgt},isStandardBrowserEnv:ygt,isStandardBrowserWebWorkerEnv:vgt,protocols:["http","https","file","blob","url","data"]};function bgt(e,t){return Mu(e,new Xr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Xr.isNode&&ct.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function wgt(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Egt(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function _1(e){function t(n,r,i,o){let l=n[o++];const c=Number.isFinite(+l),f=o>=n.length;return l=!l&&ct.isArray(i)?i.length:l,f?(ct.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!ct.isObject(i[l]))&&(i[l]=[]),t(n,r,i[l],o)&&ct.isArray(i[l])&&(i[l]=Egt(i[l])),!c)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const n={};return ct.forEachEntry(e,(r,i)=>{t(wgt(r),i,n,0)}),n}return null}function xgt(e,t,n){if(ct.isString(e))try{return(t||JSON.parse)(e),ct.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const op={transitional:g1,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ct.isObject(t);if(o&&ct.isHTMLForm(t)&&(t=new FormData(t)),ct.isFormData(t))return i&&i?JSON.stringify(_1(t)):t;if(ct.isArrayBuffer(t)||ct.isBuffer(t)||ct.isStream(t)||ct.isFile(t)||ct.isBlob(t))return t;if(ct.isArrayBufferView(t))return t.buffer;if(ct.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bgt(t,this.formSerializer).toString();if((c=ct.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Mu(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),xgt(t)):t}],transformResponse:[function(t){const n=this.transitional||op.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&ct.isString(t)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?pe.from(c,pe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xr.classes.FormData,Blob:Xr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{op.headers[e]={}});const ap=op,Sgt=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Agt=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||t[n]&&Sgt[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},f0=Symbol("internals");function ua(e){return e&&String(e).trim().toLowerCase()}function pc(e){return e===!1||e==null?e:ct.isArray(e)?e.map(pc):String(e)}function kgt(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Cgt=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bf(e,t,n,r,i){if(ct.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ct.isString(t)){if(ct.isString(r))return t.indexOf(r)!==-1;if(ct.isRegExp(r))return r.test(t)}}function Tgt(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Igt(e,t){const n=ct.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,l){return this[r].call(this,t,i,o,l)},configurable:!0})})}class Lu{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(c,f,d){const _=ua(f);if(!_)throw new Error("header name must be a non-empty string");const v=ct.findKey(i,_);(!v||i[v]===void 0||d===!0||d===void 0&&i[v]!==!1)&&(i[v||f]=pc(c))}const l=(c,f)=>ct.forEach(c,(d,_)=>o(d,_,f));return ct.isPlainObject(t)||t instanceof this.constructor?l(t,n):ct.isString(t)&&(t=t.trim())&&!Cgt(t)?l(Agt(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=ua(t),t){const r=ct.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return kgt(i);if(ct.isFunction(n))return n.call(this,i,r);if(ct.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ua(t),t){const r=ct.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||bf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(l){if(l=ua(l),l){const c=ct.findKey(r,l);c&&(!n||bf(r,r[c],c,n))&&(delete r[c],i=!0)}}return ct.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||bf(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return ct.forEach(this,(i,o)=>{const l=ct.findKey(r,o);if(l){n[l]=pc(i),delete n[o];return}const c=t?Tgt(o):String(o).trim();c!==o&&delete n[o],n[c]=pc(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ct.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ct.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[f0]=this[f0]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=ua(l);r[c]||(Igt(i,l),r[c]=!0)}return ct.isArray(t)?t.forEach(o):o(t),this}}Lu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(Lu.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ct.freezeMethods(Lu);const Ci=Lu;function wf(e,t){const n=this||ap,r=t||n,i=Ci.from(r.headers);let o=r.data;return ct.forEach(e,function(c){o=c.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function m1(e){return!!(e&&e.__CANCEL__)}function sl(e,t,n){pe.call(this,e??"canceled",pe.ERR_CANCELED,t,n),this.name="CanceledError"}ct.inherits(sl,pe,{__CANCEL__:!0});function Rgt(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ogt=Xr.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,l,c){const f=[];f.push(n+"="+encodeURIComponent(r)),ct.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),ct.isString(o)&&f.push("path="+o),ct.isString(l)&&f.push("domain="+l),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Dgt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pgt(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function y1(e,t){return e&&!Dgt(t)?Pgt(e,t):t}const Mgt=Xr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let l=o;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(l){const c=ct.isString(l)?i(l):l;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function Lgt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ngt(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,l;return t=t!==void 0?t:1e3,function(f){const d=Date.now(),_=r[o];l||(l=d),n[i]=f,r[i]=d;let v=o,S=0;for(;v!==i;)S+=n[v++],v=v%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),d-l<t)return;const A=_&&d-_;return A?Math.round(S*1e3/A):void 0}}function d0(e,t){let n=0;const r=Ngt(50,250);return i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,f=r(c),d=o<=l;n=o;const _={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&d?(l-o)/f:void 0,event:i};_[t?"download":"upload"]=!0,e(_)}}const Fgt=typeof XMLHttpRequest<"u",Vgt=Fgt&&function(e){return new Promise(function(n,r){let i=e.data;const o=Ci.from(e.headers).normalize(),l=e.responseType;let c;function f(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let d;ct.isFormData(i)&&(Xr.isStandardBrowserEnv||Xr.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?ct.isString(d=o.getContentType())&&o.setContentType(d.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let _=new XMLHttpRequest;if(e.auth){const P=e.auth.username||"",z=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(P+":"+z))}const v=y1(e.baseURL,e.url);_.open(e.method.toUpperCase(),p1(v,e.params,e.paramsSerializer),!0),_.timeout=e.timeout;function S(){if(!_)return;const P=Ci.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),X={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:P,config:e,request:_};Rgt(function(tt){n(tt),f()},function(tt){r(tt),f()},X),_=null}if("onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(S)},_.onabort=function(){_&&(r(new pe("Request aborted",pe.ECONNABORTED,e,_)),_=null)},_.onerror=function(){r(new pe("Network Error",pe.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const X=e.transitional||g1;e.timeoutErrorMessage&&(z=e.timeoutErrorMessage),r(new pe(z,X.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,_)),_=null},Xr.isStandardBrowserEnv){const P=(e.withCredentials||Mgt(v))&&e.xsrfCookieName&&Ogt.read(e.xsrfCookieName);P&&o.set(e.xsrfHeaderName,P)}i===void 0&&o.setContentType(null),"setRequestHeader"in _&&ct.forEach(o.toJSON(),function(z,X){_.setRequestHeader(X,z)}),ct.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),l&&l!=="json"&&(_.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&_.addEventListener("progress",d0(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",d0(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=P=>{_&&(r(!P||P.type?new sl(null,e,_):P),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const A=Lgt(v);if(A&&Xr.protocols.indexOf(A)===-1){r(new pe("Unsupported protocol "+A+":",pe.ERR_BAD_REQUEST,e));return}_.send(i||null)})},rd={http:ugt,xhr:Vgt};ct.forEach(rd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const p0=e=>`- ${e}`,$gt=e=>ct.isFunction(e)||e===null||e===!1,v1={getAdapter:e=>{e=ct.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let l;if(r=n,!$gt(n)&&(r=rd[(l=String(n)).toLowerCase()],r===void 0))throw new pe(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(p0).join(`
`):" "+p0(o[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:rd};function Ef(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sl(null,e)}function g0(e){return Ef(e),e.headers=Ci.from(e.headers),e.data=wf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),v1.getAdapter(e.adapter||ap.adapter)(e).then(function(r){return Ef(e),r.data=wf.call(e,e.transformResponse,r),r.headers=Ci.from(r.headers),r},function(r){return m1(r)||(Ef(e),r&&r.response&&(r.response.data=wf.call(e,e.transformResponse,r.response),r.response.headers=Ci.from(r.response.headers))),Promise.reject(r)})}const _0=e=>e instanceof Ci?e.toJSON():e;function To(e,t){t=t||{};const n={};function r(d,_,v){return ct.isPlainObject(d)&&ct.isPlainObject(_)?ct.merge.call({caseless:v},d,_):ct.isPlainObject(_)?ct.merge({},_):ct.isArray(_)?_.slice():_}function i(d,_,v){if(ct.isUndefined(_)){if(!ct.isUndefined(d))return r(void 0,d,v)}else return r(d,_,v)}function o(d,_){if(!ct.isUndefined(_))return r(void 0,_)}function l(d,_){if(ct.isUndefined(_)){if(!ct.isUndefined(d))return r(void 0,d)}else return r(void 0,_)}function c(d,_,v){if(v in t)return r(d,_);if(v in e)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(d,_)=>i(_0(d),_0(_),!0)};return ct.forEach(Object.keys(Object.assign({},e,t)),function(_){const v=f[_]||i,S=v(e[_],t[_],_);ct.isUndefined(S)&&v!==c||(n[_]=S)}),n}const b1="1.5.1",lp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const m0={};lp.transitional=function(t,n,r){function i(o,l){return"[Axios v"+b1+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(t===!1)throw new pe(i(l," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!m0[l]&&(m0[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,c):!0}};function qgt(e,t,n){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],l=t[o];if(l){const c=e[o],f=c===void 0||l(c,o,e);if(f!==!0)throw new pe("option "+o+" must be "+f,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+o,pe.ERR_BAD_OPTION)}}const id={assertOptions:qgt,validators:lp},Yi=id.validators;class Bc{constructor(t){this.defaults=t,this.interceptors={request:new h0,response:new h0}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=To(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&id.assertOptions(r,{silentJSONParsing:Yi.transitional(Yi.boolean),forcedJSONParsing:Yi.transitional(Yi.boolean),clarifyTimeoutError:Yi.transitional(Yi.boolean)},!1),i!=null&&(ct.isFunction(i)?n.paramsSerializer={serialize:i}:id.assertOptions(i,{encode:Yi.function,serialize:Yi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ct.merge(o.common,o[n.method]);o&&ct.forEach(["delete","get","head","post","put","patch","common"],P=>{delete o[P]}),n.headers=Ci.concat(l,o);const c=[];let f=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(n)===!1||(f=f&&z.synchronous,c.unshift(z.fulfilled,z.rejected))});const d=[];this.interceptors.response.forEach(function(z){d.push(z.fulfilled,z.rejected)});let _,v=0,S;if(!f){const P=[g0.bind(this),void 0];for(P.unshift.apply(P,c),P.push.apply(P,d),S=P.length,_=Promise.resolve(n);v<S;)_=_.then(P[v++],P[v++]);return _}S=c.length;let A=n;for(v=0;v<S;){const P=c[v++],z=c[v++];try{A=P(A)}catch(X){z.call(this,X);break}}try{_=g0.call(this,A)}catch(P){return Promise.reject(P)}for(v=0,S=d.length;v<S;)_=_.then(d[v++],d[v++]);return _}getUri(t){t=To(this.defaults,t);const n=y1(t.baseURL,t.url);return p1(n,t.params,t.paramsSerializer)}}ct.forEach(["delete","get","head","options"],function(t){Bc.prototype[t]=function(n,r){return this.request(To(r||{},{method:t,url:n,data:(r||{}).data}))}});ct.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,c){return this.request(To(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Bc.prototype[t]=n(),Bc.prototype[t+"Form"]=n(!0)});const gc=Bc;class cp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,c){r.reason||(r.reason=new sl(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new cp(function(i){t=i}),cancel:t}}}const Bgt=cp;function Ugt(e){return function(n){return e.apply(null,n)}}function zgt(e){return ct.isObject(e)&&e.isAxiosError===!0}const sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sd).forEach(([e,t])=>{sd[t]=e});const Hgt=sd;function w1(e){const t=new gc(e),n=n1(gc.prototype.request,t);return ct.extend(n,gc.prototype,t,{allOwnKeys:!0}),ct.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return w1(To(e,i))},n}const ln=w1(ap);ln.Axios=gc;ln.CanceledError=sl;ln.CancelToken=Bgt;ln.isCancel=m1;ln.VERSION=b1;ln.toFormData=Mu;ln.AxiosError=pe;ln.Cancel=ln.CanceledError;ln.all=function(t){return Promise.all(t)};ln.spread=Ugt;ln.isAxiosError=zgt;ln.mergeConfig=To;ln.AxiosHeaders=Ci;ln.formToJSON=e=>_1(ct.isHTMLForm(e)?new FormData(e):e);ln.getAdapter=v1.getAdapter;ln.HttpStatusCode=Hgt;ln.default=ln;const xf=ln;var Ea=function(e,t,n){var r=jgt({},n);return r[e]=t,r},jgt=Object.assign||function(e){for(var t=1;t<arguments.length;t+=1){var n=arguments[t];for(var r in n)e[r]=n[r]}return e},Ggt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Wgt(e){return Object.keys(e).reduce(function(t,n){return Ea(n,{isRunning:!1,time:e[n].time||0,instance:null},t)},{})}function Kgt(e){return e?setInterval:setTimeout}function Ygt(e){return e?clearInterval:clearTimeout}function Qgt(e,t){return Kgt(e.repeat)(function(){t.$emit("timer-tick:"+e.name),e.callback()},e.time)}function y0(e,t){return{name:e.name,time:e.time||0,repeat:"repeat"in e&&e.repeat,immediate:"immediate"in e&&e.immediate,autostart:"autostart"in e&&e.autostart,isSwitchTab:"isSwitchTab"in e&&e.isSwitchTab,callback:e.callback&&e.callback.bind(t)||t[e.name]}}function Zgt(e,t){return Ggt(e)?e.reduce(function(n,r){return Ea(r.name,y0(r,t),n)},{}):Object.keys(e).reduce(function(n,r){return Ea(r,y0(Ea("name",r,e[r]),t),n)},{})}var E1={data:function(){return this.$options.timers?(this.$options.timers=Zgt(this.$options.timers,this),{timers:Wgt(this.$options.timers)}):{}},created:function(){if(this.$options.timers){var e=this,t=e.timers,n=e.$options.timers;e.$timer={start:function(r){t[r].isRunning||(t[r].isRunning=!0,t[r].instance=Qgt(Ea("time",t[r].time,n[r]),e),n[r].immediate&&(e.$emit("timer-tick:"+r),n[r].callback()),e.$emit("timer-start:"+r))},stop:function(r){t[r].isRunning&&(Ygt(n[r].repeat)(t[r].instance),t[r].isRunning=!1,e.$emit("timer-stop:"+r))},restart:function(r){this.stop(r),this.start(r),e.$emit("timer-restart:"+r)}}}},mounted:function(){if(this.$options.timers){var e=this,t=e.$options.timers;Object.keys(t).forEach(function(n){t[n].autostart&&e.$timer.start(n)})}},activated:function(){if(this.$options.timers){var e=this,t=e.timers,n=e.$options.timers;Object.keys(n).forEach(function(r){n[r].isSwitchTab&&t[r].instance&&e.$timer.start(r)})}},deactivated:function(){if(this.$options.timers){var e=this,t=e.timers,n=e.$options.timers;Object.keys(n).forEach(function(r){n[r].isSwitchTab&&t[r].instance&&e.$timer.stop(r)})}},beforeDestroy:function(){if(this.$options.timers){var e=this;Object.keys(e.$options.timers).forEach(function(t){e.$timer.stop(t)})}}};function Xgt(e){e.config.optionMergeStrategies.timers=e.config.optionMergeStrategies.methods,e.mixin(E1)}typeof window<"u"&&window.Vue&&Xgt(window.Vue);var Jgt=E1;const t_t={id:"hit"},e_t={class:"cf mt1 hit-header"},n_t={class:"tc f3 mt1 hit-selector"},r_t={class:"hit-instructions"},i_t={class:"f4"},s_t={class:"mr3 hit-browser"},o_t={class:"hit-browser-inner"},a_t=["id","onClick"],l_t={class:"tooltiptext"},c_t={class:"fr hit-file-buttons"},u_t={class:"mt1 mr1 fr"},h_t=ot("i",{class:"fa fa-arrow-down"},null,-1),f_t=[h_t],d_t={class:"mt1 mr2 ml2 fr"},p_t=ot("i",{class:"fa fa-arrow-up"},null,-1),g_t=[p_t],__t={class:"ba b--black-80 br2 pa2"},m_t={class:"fr"},y_t={key:0,class:"mb2"},v_t={key:0,class:"cf"},b_t={class:"fl f3 mt1 mb1"},w_t={class:"f5"},E_t={key:1,class:"cf"},x_t={class:"grid-child"},S_t={key:0,class:"cf"},A_t={class:"fl f3 mt0 mb1 orig-sentence-header"},k_t={class:"f5"},C_t={class:"grid-child"},T_t={class:"f5"},I_t={mixins:[Jgt],timers:{repeat_time:{time:1e3,repeat:!0}},components:{VueMarkdown:xa},props:["hits_data","current_hit","total_hits","edits_dict","set_hit","selected_state","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_edit_html","set_span_category","refresh_interface_edit","set_hits_data","lines","set_lines","config","hit_box_config","toggle_instructions"],data(){return{access_token:null,current_num:0,timer_num:3e3,login_timer:"Login"}},watch:{current_hit(){this.setup_hit_box()},hits_data(){this.setup_hit_box()}},methods:{repeat_time(){this.timer_num>0?(this.timer_num--,this.login_timer=`${Math.floor(this.timer_num/60)}:${this.timer_num%60>=10?this.timer_num%60:"0"+this.timer_num%60}`):(this.login_timer="Login",this.timer_num=3e3,alert("Login Expired: save current annotations and login again."),this.$timer.stop("repeat_time"))},setup_hit_box(){$("#comment_area").val(""),"comment"in this.hits_data[this.current_hit-1]&&$("#comment_area").val(this.hits_data[this.current_hit-1].comment)},get_circle_class(e){let t="circle-"+e;return e==this.current_hit&&(t+=" circle-active"),this.hits_data&&"bookmark"in this.hits_data[e-1]&&this.hits_data[e-1].bookmark&&(t+=" circle-bookmark"),t},get_bookmark_class(){return this.hits_data&&"bookmark"in this.hits_data[this.current_hit-1]&&this.hits_data[this.current_hit-1].bookmark?"bookmark-active":""},go_to_hit(e){e>this.total_hits?this.set_hit(this.total_hits):e<1?this.set_hit(1):this.set_hit(e),this.setup_hit_box()},go_to_hit_circle(e){e>this.total_hits?this.set_hit(this.total_hits):e<1?this.set_hit(1):this.set_hit(e),this.setup_hit_box()},bookmark_hit(){let e=Xe.cloneDeep(this.hits_data);"bookmark"in this.hits_data[this.current_hit-1]?(e[this.current_hit-1].bookmark=!this.hits_data[this.current_hit-1].bookmark,this.set_hits_data(e)):(e[this.current_hit-1].bookmark=!0,this.set_hits_data(e))},restart_hit(){let e=Xe.cloneDeep(this.hits_data);e[this.current_hit-1].edits=[],this.set_hits_data(e),this.refresh_interface_edit(),this.setup_hit_box()},remove_selected(e,t,n){if(this.span_type=="source"){let r=this.hits_data[this.current_hit-1].source,i=this.selected_state.source_idx;for(let l in i){let c=i[l];if(c[0]==t&&c[1]==n){i.splice(l,1);break}}this.set_span_indices(i,"source");let o="";for(let l=0;l<i.length;l++){let[c,f]=i[l];o+=`<span class="bg-${e}-light"> `,o+=`<span @click="remove_selected('${e}',${c},${f})" class="hover-white black br-pill mr1 pointer">✘</span>`,o+=r.substring(c,f)+" ",o+="</span>",o+="&nbsp&nbsp"}this.set_span_text(o,"source")}else if(this.span_type=="target"){let r=this.hits_data[this.current_hit-1].target,i=this.selected_state.target_idx;for(let l in i){let c=i[l];if(c[0]==t&&c[1]==n){i.splice(l,1);break}}this.set_span_indices(i,"target");let o="";for(let l=0;l<i.length;l++){let[c,f]=i[l];o.substring(c,f),o+=`<span class="bg-${e}-light"> `,o+=`<span @click="remove_selected('${e}',${c},${f})" class="hover-white black br-pill mr1 pointer">✘</span>`,o+=r.substring(c,f)+" ",o+="</span>",o+="&nbsp&nbsp"}this.set_span_text(o,"target")}},target_exists(){return this.hits_data&&this.hits_data[this.current_hit-1]&&this.hits_data[this.current_hit-1].target},source_exists(){return this.hits_data&&this.hits_data[this.current_hit-1]&&this.hits_data[this.current_hit-1].source},showAdjacent(){return this.config.hasOwnProperty("display")&&Object.values(this.config.display).includes("text-side-by-side")&&this.source_exists()&&this.target_exists()},file_download(){this.hits_data.length==1&&this.hits_data[0].hasOwnProperty("id")?(this.hits_data[0]._completed=new Date().toISOString(),x_(this.hits_data,`${this.hits_data[0].id}-annotations.json`)):x_(this.hits_data)},async file_upload(e){let t=await jk(e);this.set_hits_data(t),this.set_hit(1),this.setup_hit_box()},async submit_crowsource(){if(this.config.database&&this.config.database.type&&this.config.database.type=="firebase"){const t=iy({databaseURL:this.config.database.url,projectId:this.config.database.project_id}),n=this.config.database.collection||"thresh",r=this.config.database.document||"annotations",i=this.config.database.field;var e=null;if(this.config.crowdsource=="prolific"){const c=new URLSearchParams(window.location.search);var e={completion_code:this.config.prolific_completion_code||null,prolific_pid:c.get("PROLIFIC_PID")||null,study_id:c.get("STUDY_ID")||null,session_id:c.get("SESSION_ID")||null}}const o=gpt(t),l=dpt(o,n,r);await Cpt(l,{[i]:Ipt({annotations:JSON.stringify(this.hits_data,null,2),time_submitted:new Date().toLocaleString(),prolific_metadata:JSON.stringify(e,null,2)})})}if(this.config.crowdsource&&this.config.crowdsource=="prolific"){let t=this.config.prolific_completion_code;window.location.href=`https://app.prolific.co/submissions/complete?cc=${t}`}else alert("You have successfully submitted your annotations.")},g_login(){this.config.gdrive_save&&this.config.gdrive_save.folder_id&&Gk(e=>{e.accounts.oauth2.initTokenClient({client_id:"38151104927-cbl7m0b4ko9hmm7urcnnl7f77do05pm5.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",callback:t=>{console.log("Handle the response",t),this.access_token=t.access_token,console.log(this.config.gdrive_save.folder_id),this.$timer.start("repeat_time"),xf.get("https://www.googleapis.com/drive/v3/files",{params:{trashed:!1,q:`'${this.config.gdrive_save.folder_id}' in parents`},headers:{Authorization:`Bearer ${this.access_token}`}}).then(n=>{console.log(n);const r=n.data.files;if(!(r.length<=0)){if(r.every(i=>{i.name.indexOf("_h")!=-1})){alert("Folder formatted incorrectly. Please contact folder owner.");return}console.log("passed folder test"),r.sort((i,o)=>parseInt(o.name.split("_h")[1])-parseInt(i.name.split("_h")[1])),console.log("sorted"),r.length>0&&(this.current_num=parseInt(r[0].name.split("_h")[1]),this.current_num++,xf.get("https://www.googleapis.com/drive/v3/files/"+r[0].id+"?alt=media",{headers:{Authorization:`Bearer ${this.access_token}`}}).then(i=>{console.log(i.data),this.set_hits_data(i.data),this.set_hit(1),this.setup_hit_box()}).catch(i=>{alert("Error: Cannot access data. Please refresh and try again.")}))}}).catch(n=>{console.log("ERROR"),console.log(n)})}}).requestAccessToken()})},gfile_create(){if(this.config.gdrive_save&&this.config.gdrive_save.folder_id){console.log(this.access_token),console.log(JSON.stringify(this.hits_data,null,2));const t=`${this.config.gdrive_save.file_prefix||"annotation"}_h${this.current_num}_h.json`;this.current_num++;const n=new FormData;n.append("metadata",new Blob([JSON.stringify({name:t,parents:[this.config.gdrive_save.folder_id]})],{type:"application/json"})),n.append("file",new Blob([JSON.stringify(this.hits_data,null,2)],{type:"application/json"})),xf.post("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",n,{headers:{Authorization:`Bearer ${this.access_token}`}}).then(r=>{console.log(r.data),alert("Submitted")}).catch(r=>{console.log(r),alert("Your data has not been submitted due to an error. Do not attempt to login again or refresh the page unless you have a saved copy of your current annotations.")})}}}},R_t=Object.assign(I_t,{__name:"HitBox",setup(e){return(t,n)=>(Nt(),Ut("section",t_t,[ot("div",e_t,[ot("div",n_t,[ot("button",{onClick:n[0]||(n[0]=r=>t.go_to_hit(e.current_hit-1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," < "),gn(" "+Ht(e.config.interface_text.hit_box.hit_label)+" ",1),ot("span",null,Ht(e.current_hit),1),gn(" / "),ot("span",null,Ht(e.total_hits)+" ",1),ot("button",{onClick:n[1]||(n[1]=r=>t.go_to_hit(e.current_hit+1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," > "),e.config.crowdsource?(Nt(),Ut("button",{key:0,onClick:n[2]||(n[2]=r=>t.submit_crowsource()),class:"ml2 pa1 ph3 br-pill-ns ba bw1 grow pointer crowdsource-submit"},"Submit")):_e("",!0),e.config.gdrive_save?(Nt(),Ut("button",{key:1,onClick:n[3]||(n[3]=r=>t.gfile_create()),class:"ml2 pa1 ph3 br-pill-ns ba bw1 grow pointer crowdsource-submit"},"Submit")):_e("",!0),e.config.gdrive_save?(Nt(),Ut("button",{key:2,onClick:n[4]||(n[4]=r=>t.g_login()),class:"ml2 pa1 ph3 br-pill-ns ba bw1 grow pointer crowdsource-submit"},Ht(t.login_timer),1)):_e("",!0)]),ot("div",r_t,[e.config.instructions&&!e.config.prepend_instructions?(Nt(),Ut("button",{key:0,onClick:n[5]||(n[5]=r=>e.toggle_instructions()),class:"pa2 ph3 br-pill-ns ba bw1 grow pointer hit-instructions-btn"},[ot("span",i_t,Ht(e.config.interface_text.buttons.instructions_label),1)])):_e("",!0)]),ot("div",s_t,[ot("div",o_t,[(Nt(!0),Ut(Ei,null,Es(e.total_hits,r=>(Nt(),Ut("span",{key:"circle-"+r,id:"circle-"+r,class:Ce([t.get_circle_class(r),"circle pointer"]),onClick:i=>t.go_to_hit_circle(r,t.$e)},[ot("span",l_t,Ht(r),1)],10,a_t))),128))])]),ot("div",c_t,[ot("div",u_t,[ot("input",{type:"button",id:"download-btn",onClick:n[6]||(n[6]=(...r)=>t.file_download&&t.file_download(...r))}),ot("label",{class:Ce(["file-upload file-download br-100 w2-5 h2-5 pointer",{disabled:e.config.disable&&Object.values(e.config.disable).includes("download")}]),for:"download-btn"},f_t,2)]),ot("div",d_t,[ot("input",{type:"file",id:"upload-btn",onChange:n[7]||(n[7]=(...r)=>t.file_upload&&t.file_upload(...r))},null,32),ot("label",{class:Ce(["file-upload br-100 w2-5 h2-5 pointer",{disabled:e.config.disable&&Object.values(e.config.disable).includes("upload")}]),for:"upload-btn"},g_t,2)])])]),ot("div",null,[ot("div",__t,[ot("div",m_t,[ot("i",{onClick:n[8]||(n[8]=(...r)=>t.restart_hit&&t.restart_hit(...r)),class:"fa-solid fa-arrows-rotate fa-lg pointer mr2"}),ot("i",{onClick:n[9]||(n[9]=(...r)=>t.bookmark_hit&&t.bookmark_hit(...r)),class:Ce(["bookmark fa-regular fa-bookmark fa-lg pointer ml1",t.get_bookmark_class()])},null,2)]),e.hits_data&&e.hits_data[e.current_hit-1]&&e.hits_data[e.current_hit-1].context?(Nt(),Ut("div",y_t,[e.config.interface_text.typology.context_label!=""?(Nt(),Ut("div",v_t,[ot("p",b_t,[ot("span",w_t,Ht(e.config.interface_text.typology.context_label)+":",1)])])):_e("",!0),ir(Cf(xa),{source:e.hits_data[e.current_hit-1].context,class:"mt0 mb0"},null,8,["source"])])):_e("",!0),t.source_exists()?(Nt(),Ut("div",E_t)):_e("",!0),ot("div",{class:Ce({adjacent:t.showAdjacent()})},[ot("div",x_t,[t.source_exists()?(Nt(),Ut("div",S_t,[ot("p",A_t,[ot("span",k_t,Ht(e.config.interface_text.typology.source_label)+":",1)])])):_e("",!0),ir(gm,xi({sent_type:"source"},t.$props,{remove_selected:t.remove_selected}),null,16,["remove_selected"])]),ot("div",C_t,[t.target_exists()?(Nt(),Ut("p",{key:0,class:Ce(["f3 mb1",{mt0:!t.source_exists()||t.showAdjacent()}])},[ot("span",T_t,Ht(e.config.interface_text.typology.target_label)+":",1)],2)):_e("",!0),ir(gm,xi({sent_type:"target"},t.$props,{remove_selected:t.remove_selected}),null,16,["remove_selected"])])],2)])])]))}});const O_t=ot("div",{class:"custom_style",id:"custom_style"},"Custom style has not loaded!",-1),D_t={key:0,class:"tc f3 b mb3 mt3 adjudication-highlight"},P_t={data(){return{total_hits:0,current_hit:1,hits_data:null,config:null,edits_dict:{},lines:{},selected_edits:{},editor_open:!1,selected_edits_html:"",annotating_edit_span_category_id:null,hit_box_config:void 0,selected_state:void 0,annotating_edit_span:void 0,set_hit:this.set_hit,set_hits_data:this.set_hits_data,set_edits_dict:this.set_edits_dict,set_lines:this.set_lines,set_span_text:this.set_span_text,set_span_indices:this.set_span_indices,set_span_category:this.set_span_category,set_edit_html:this.set_edit_html,set_selected_edits:this.set_selected_edits,set_hit_box_config:this.set_hit_box_config,set_editor_state:this.set_editor_state,set_annotating_edit_span_category_id:this.set_annotating_edit_span_category_id,set_annotating_edit_span:this.set_annotating_edit_span,refresh_interface_edit:this.refresh_interface_edit,instructions_open:!1,toggle_instructions:this.toggle_instructions}},props:["input_data","consumed_config","highlight"],watch:{input_data(){this.consume_data()},consumed_config(){this.consume_config()}},methods:{consume_data(){let e=Xe.cloneDeep(this.input_data.data);this.set_hits_data(e),this.set_hit(1)},consume_config(){let e;this.consumed_config.hasOwnProperty("consumed_config")?e=Xe.cloneDeep(this.consumed_config.consumed_config):this.consumed_config.hasOwnProperty("config")?e=Xe.cloneDeep(this.consumed_config.config):e=Xe.cloneDeep(this.consumed_config),this.config=e,this.config.template_label&&$("title").text(this.config.template_label)},set_hit(e){e!=this.current_hit&&this.config.adjudication&&$(`.circle-${e}`).click(),this.current_hit=e},set_hits_data(e){e.forEach(t=>t.edits=t.edits||[]),e.forEach((t,n)=>{t._thresh_id=n+1}),this.hits_data=e,this.total_hits=e.length},set_edits_dict(e){this.edits_dict=e},set_span_text(e,t){t=="source"?this.selected_state.source_span=e:t=="target"&&(this.selected_state.target_span=e)},set_span_indices(e,t){t=="source"?this.selected_state.source_idx=e:t=="target"&&(this.selected_state.target_idx=e)},set_span_category(e,t){t=="source"?this.selected_state.source_category=e:t=="target"&&(this.selected_state.target_category=e)},set_edit_html(e){this.selected_edits_html=e},set_selected_edits(e){this.selected_edits=e},refresh_interface_edit(){const e={enable_select_source_sentence:!1,enable_select_target_sentence:!1,enable_multi_select_source_sentence:!1,enable_multi_select_target_sentence:!1},t={source_span:"",source_idx:[],source_category:"",target_span:"",target_idx:[],target_category:"",split:"",split_id:null},n={source:"",target:"",composite:""};this.selected_edits=[],this.selected_edits_html="",this.selected_state=t,this.hit_box_config=e,this.annotating_edit_span=n},set_hit_box_config(e){this.hit_box_config=e},set_editor_state(e){this.editor_open=e},set_annotating_edit_span_category_id(e){this.annotating_edit_span_category_id=e},set_annotating_edit_span(e,t=null){t=="source"?this.annotating_edit_span.source=e:t=="target"?this.annotating_edit_span.target=e:t=="composite"?this.annotating_edit_span.composite=e:console.warn(`Invalid sent_type : ${t}`)},set_lines(e){this.lines=e},toggle_instructions(){this.instructions_open=!this.instructions_open},compile_style(){if(!this.config.hasOwnProperty("edits"))return;let e="";for(const t of this.config.edits){let n=t.color;_c.hasOwnProperty(n)&&(n=_c[n]);let r=Mt(n).lighten(25).toHexString();e+=`
              :root { --${t.name}: ${n}; --${t.name}-light: ${r}; }
              .border-${t.name} { border-bottom: 3px solid ${n}; }
              .border-${t.name}-all { border: 2px solid ${n}; }
              .bg-${t.name} { background-color: ${n}; }
              .txt-${t.name} { color: ${n}; }
              .bg-${t.name}-light { background-color: ${r}; }
              .border-${t.name}-light { border-bottom: 3px solid ${r}; }
              .border-${t.name}-light-all { border: 2px solid ${r}; }
              .txt-${t.name}-light { color: ${r}; }
              .checkbox-tools-yes-no:checked + label.question-${t.name},
              .checkbox-tools:checked + label.question-${t.name},
              .checkbox-tools:checked + label.txt-${t.name}{
                border: 2px solid var(--${t.name});
              }
              .select-color-${t.name}::selection { background: ${r} !important; }
            `}return this.config.font_size&&(this.config.font_size.source&&(e+=`#source-sentence { font-size: ${this.config.font_size.source}px; }`),this.config.font_size.target&&(e+=`#target-sentence { font-size: ${this.config.font_size.target}px; }`)),e},isAdjacent(){return this.config.hasOwnProperty("display")&&Object.values(this.config.display).includes("side-by-side")}},updated(){$("#custom_style").html(`<style>${this.compile_style()}</style>`),$(`#circle-${this.current_hit}`).addClass("circle-active")},mounted(){this.consume_data(),this.consume_config()},created(){this.consume_config(),this.refresh_interface_edit()}},ryt=Object.assign(P_t,{__name:"Interface",setup(e){return(t,n)=>t.config!=null?(Nt(),Ut("div",{key:0,class:Ce(["container w-100 mb0 card-body",{"w-adjacent":t.isAdjacent()}])},[O_t,e.highlight?(Nt(),Ut("div",D_t,Ht(t.config.interface_text.adjudication.highlight_label),1)):_e("",!0),ot("main",{class:Ce({adjacent:t.isAdjacent()})},[ot("div",{class:Ce({"selection-adjacent":t.isAdjacent()})},[ir(cct,xi(t.$data,{config:t.config}),null,16,["config"]),ir(R_t,xi(t.$data,{config:t.config}),null,16,["config"])],2),ot("div",{class:Ce({"annotation-adjacent":t.isAdjacent()})},[ir(wT,xi(t.$data,{config:t.config}),null,16,["config"]),ir(i2,xi(t.$data,{config:t.config}),null,16,["config"])],2)],2)],2)):_e("",!0)}});/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function x1(e){return typeof e>"u"||e===null}function M_t(e){return typeof e=="object"&&e!==null}function L_t(e){return Array.isArray(e)?e:x1(e)?[]:[e]}function N_t(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function F_t(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function V_t(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var $_t=x1,q_t=M_t,B_t=L_t,U_t=F_t,z_t=V_t,H_t=N_t,_n={isNothing:$_t,isObject:q_t,toArray:B_t,repeat:U_t,isNegativeZero:z_t,extend:H_t};function S1(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Ba(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=S1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ba.prototype=Object.create(Error.prototype);Ba.prototype.constructor=Ba;Ba.prototype.toString=function(t){return this.name+": "+S1(this,t)};var Zn=Ba;function Sf(e,t,n,r,i){var o="",l="",c=Math.floor(i/2)-1;return r-t>c&&(o=" ... ",t=r-c+o.length),n-r>c&&(l=" ...",n=r+c-l.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+l,pos:r-t+o.length}}function Af(e,t){return _n.repeat(" ",t-e.length)+e}function j_t(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,l=-1;o=n.exec(e.buffer);)i.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var c="",f,d,_=Math.min(e.line+t.linesAfter,i.length).toString().length,v=t.maxLength-(t.indent+_+3);for(f=1;f<=t.linesBefore&&!(l-f<0);f++)d=Sf(e.buffer,r[l-f],i[l-f],e.position-(r[l]-r[l-f]),v),c=_n.repeat(" ",t.indent)+Af((e.line-f+1).toString(),_)+" | "+d.str+`
`+c;for(d=Sf(e.buffer,r[l],i[l],e.position,v),c+=_n.repeat(" ",t.indent)+Af((e.line+1).toString(),_)+" | "+d.str+`
`,c+=_n.repeat("-",t.indent+_+3+d.pos)+`^
`,f=1;f<=t.linesAfter&&!(l+f>=i.length);f++)d=Sf(e.buffer,r[l+f],i[l+f],e.position-(r[l]-r[l+f]),v),c+=_n.repeat(" ",t.indent)+Af((e.line+f+1).toString(),_)+" | "+d.str+`
`;return c.replace(/\n$/,"")}var G_t=j_t,W_t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],K_t=["scalar","sequence","mapping"];function Y_t(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function Q_t(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(W_t.indexOf(n)===-1)throw new Zn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Y_t(t.styleAliases||null),K_t.indexOf(this.kind)===-1)throw new Zn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Dn=Q_t;function v0(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(o,l){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=l)}),n[i]=r}),n}function Z_t(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function od(e){return this.extend(e)}od.prototype.extend=function(t){var n=[],r=[];if(t instanceof Dn)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Zn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Dn))throw new Zn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Zn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Zn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof Dn))throw new Zn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(od.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=v0(i,"implicit"),i.compiledExplicit=v0(i,"explicit"),i.compiledTypeMap=Z_t(i.compiledImplicit,i.compiledExplicit),i};var A1=od,k1=new Dn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),C1=new Dn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),T1=new Dn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),I1=new A1({explicit:[k1,C1,T1]});function X_t(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function J_t(){return null}function tmt(e){return e===null}var R1=new Dn("tag:yaml.org,2002:null",{kind:"scalar",resolve:X_t,construct:J_t,predicate:tmt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function emt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function nmt(e){return e==="true"||e==="True"||e==="TRUE"}function rmt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var O1=new Dn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:emt,construct:nmt,predicate:rmt,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function imt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function smt(e){return 48<=e&&e<=55}function omt(e){return 48<=e&&e<=57}function amt(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!imt(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!smt(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!omt(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function lmt(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function cmt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!_n.isNegativeZero(e)}var D1=new Dn("tag:yaml.org,2002:int",{kind:"scalar",resolve:amt,construct:lmt,predicate:cmt,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),umt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function hmt(e){return!(e===null||!umt.test(e)||e[e.length-1]==="_")}function fmt(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var dmt=/^[-+]?[0-9]+e/;function pmt(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(_n.isNegativeZero(e))return"-0.0";return n=e.toString(10),dmt.test(n)?n.replace("e",".e"):n}function gmt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||_n.isNegativeZero(e))}var P1=new Dn("tag:yaml.org,2002:float",{kind:"scalar",resolve:hmt,construct:fmt,predicate:gmt,represent:pmt,defaultStyle:"lowercase"}),M1=I1.extend({implicit:[R1,O1,D1,P1]}),L1=M1,N1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),F1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function _mt(e){return e===null?!1:N1.exec(e)!==null||F1.exec(e)!==null}function mmt(e){var t,n,r,i,o,l,c,f=0,d=null,_,v,S;if(t=N1.exec(e),t===null&&(t=F1.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],l=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(_=+t[10],v=+(t[11]||0),d=(_*60+v)*6e4,t[9]==="-"&&(d=-d)),S=new Date(Date.UTC(n,r,i,o,l,c,f)),d&&S.setTime(S.getTime()-d),S}function ymt(e){return e.toISOString()}var V1=new Dn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:_mt,construct:mmt,instanceOf:Date,represent:ymt});function vmt(e){return e==="<<"||e===null}var $1=new Dn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:vmt}),up=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bmt(e){if(e===null)return!1;var t,n,r=0,i=e.length,o=up;for(n=0;n<i;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function wmt(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=up,l=0,c=[];for(t=0;t<i;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|o.indexOf(r.charAt(t));return n=i%4*6,n===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):n===18?(c.push(l>>10&255),c.push(l>>2&255)):n===12&&c.push(l>>4&255),new Uint8Array(c)}function Emt(e){var t="",n=0,r,i,o=e.length,l=up;for(r=0;r<o;r++)r%3===0&&r&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[r];return i=o%3,i===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):i===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):i===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}function xmt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var q1=new Dn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bmt,construct:wmt,predicate:xmt,represent:Emt}),Smt=Object.prototype.hasOwnProperty,Amt=Object.prototype.toString;function kmt(e){if(e===null)return!0;var t=[],n,r,i,o,l,c=e;for(n=0,r=c.length;n<r;n+=1){if(i=c[n],l=!1,Amt.call(i)!=="[object Object]")return!1;for(o in i)if(Smt.call(i,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Cmt(e){return e!==null?e:[]}var B1=new Dn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:kmt,construct:Cmt}),Tmt=Object.prototype.toString;function Imt(e){if(e===null)return!0;var t,n,r,i,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(r=l[t],Tmt.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[t]=[i[0],r[i[0]]]}return!0}function Rmt(e){if(e===null)return[];var t,n,r,i,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1)r=l[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}var U1=new Dn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Imt,construct:Rmt}),Omt=Object.prototype.hasOwnProperty;function Dmt(e){if(e===null)return!0;var t,n=e;for(t in n)if(Omt.call(n,t)&&n[t]!==null)return!1;return!0}function Pmt(e){return e!==null?e:{}}var z1=new Dn("tag:yaml.org,2002:set",{kind:"mapping",resolve:Dmt,construct:Pmt}),hp=L1.extend({implicit:[V1,$1],explicit:[q1,B1,U1,z1]}),ns=Object.prototype.hasOwnProperty,Uc=1,H1=2,j1=3,zc=4,kf=1,Mmt=2,b0=3,Lmt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Nmt=/[\x85\u2028\u2029]/,Fmt=/[,\[\]\{\}]/,G1=/^(?:!|!!|![a-z\-]+!)$/i,W1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function w0(e){return Object.prototype.toString.call(e)}function Jr(e){return e===10||e===13}function Rs(e){return e===9||e===32}function sr(e){return e===9||e===32||e===10||e===13}function _o(e){return e===44||e===91||e===93||e===123||e===125}function Vmt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function $mt(e){return e===120?2:e===117?4:e===85?8:0}function qmt(e){return 48<=e&&e<=57?e-48:-1}function E0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Bmt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var K1=new Array(256),Y1=new Array(256);for(var ho=0;ho<256;ho++)K1[ho]=E0(ho)?1:0,Y1[ho]=E0(ho);function Umt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||hp,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Q1(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=G_t(n),new Zn(t,n)}function Ft(e,t){throw Q1(e,t)}function Hc(e,t){e.onWarning&&e.onWarning.call(null,Q1(e,t))}var x0={YAML:function(t,n,r){var i,o,l;t.version!==null&&Ft(t,"duplication of %YAML directive"),r.length!==1&&Ft(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ft(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),l=parseInt(i[2],10),o!==1&&Ft(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&Hc(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,o;r.length!==2&&Ft(t,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],G1.test(i)||Ft(t,"ill-formed tag handle (first argument) of the TAG directive"),ns.call(t.tagMap,i)&&Ft(t,'there is a previously declared suffix for "'+i+'" tag handle'),W1.test(o)||Ft(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ft(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Xi(e,t,n,r){var i,o,l,c;if(t<n){if(c=e.input.slice(t,n),r)for(i=0,o=c.length;i<o;i+=1)l=c.charCodeAt(i),l===9||32<=l&&l<=1114111||Ft(e,"expected valid JSON character");else Lmt.test(c)&&Ft(e,"the stream contains non-printable characters");e.result+=c}}function S0(e,t,n,r){var i,o,l,c;for(_n.isObject(n)||Ft(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),l=0,c=i.length;l<c;l+=1)o=i[l],ns.call(t,o)||(t[o]=n[o],r[o]=!0)}function mo(e,t,n,r,i,o,l,c,f){var d,_;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,_=i.length;d<_;d+=1)Array.isArray(i[d])&&Ft(e,"nested arrays are not supported inside keys"),typeof i=="object"&&w0(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&w0(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(d=0,_=o.length;d<_;d+=1)S0(e,t,o[d],n);else S0(e,t,o,n);else!e.json&&!ns.call(n,i)&&ns.call(t,i)&&(e.line=l||e.line,e.lineStart=c||e.lineStart,e.position=f||e.position,Ft(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function fp(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ft(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function an(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Rs(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Jr(i))for(fp(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Hc(e,"deficient indentation"),r}function Nu(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||sr(n)))}function dp(e,t){t===1?e.result+=" ":t>1&&(e.result+=_n.repeat(`
`,t-1))}function zmt(e,t,n){var r,i,o,l,c,f,d,_,v=e.kind,S=e.result,A;if(A=e.input.charCodeAt(e.position),sr(A)||_o(A)||A===35||A===38||A===42||A===33||A===124||A===62||A===39||A===34||A===37||A===64||A===96||(A===63||A===45)&&(i=e.input.charCodeAt(e.position+1),sr(i)||n&&_o(i)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,c=!1;A!==0;){if(A===58){if(i=e.input.charCodeAt(e.position+1),sr(i)||n&&_o(i))break}else if(A===35){if(r=e.input.charCodeAt(e.position-1),sr(r))break}else{if(e.position===e.lineStart&&Nu(e)||n&&_o(A))break;if(Jr(A))if(f=e.line,d=e.lineStart,_=e.lineIndent,an(e,!1,-1),e.lineIndent>=t){c=!0,A=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=f,e.lineStart=d,e.lineIndent=_;break}}c&&(Xi(e,o,l,!1),dp(e,e.line-f),o=l=e.position,c=!1),Rs(A)||(l=e.position+1),A=e.input.charCodeAt(++e.position)}return Xi(e,o,l,!1),e.result?!0:(e.kind=v,e.result=S,!1)}function Hmt(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Xi(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else Jr(n)?(Xi(e,r,i,!0),dp(e,an(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Nu(e)?Ft(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ft(e,"unexpected end of the stream within a single quoted scalar")}function jmt(e,t){var n,r,i,o,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return Xi(e,n,e.position,!0),e.position++,!0;if(c===92){if(Xi(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),Jr(c))an(e,!1,t);else if(c<256&&K1[c])e.result+=Y1[c],e.position++;else if((l=$mt(c))>0){for(i=l,o=0;i>0;i--)c=e.input.charCodeAt(++e.position),(l=Vmt(c))>=0?o=(o<<4)+l:Ft(e,"expected hexadecimal character");e.result+=Bmt(o),e.position++}else Ft(e,"unknown escape sequence");n=r=e.position}else Jr(c)?(Xi(e,n,r,!0),dp(e,an(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Nu(e)?Ft(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ft(e,"unexpected end of the stream within a double quoted scalar")}function Gmt(e,t){var n=!0,r,i,o,l=e.tag,c,f=e.anchor,d,_,v,S,A,P=Object.create(null),z,X,it,tt;if(tt=e.input.charCodeAt(e.position),tt===91)_=93,A=!1,c=[];else if(tt===123)_=125,A=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),tt=e.input.charCodeAt(++e.position);tt!==0;){if(an(e,!0,t),tt=e.input.charCodeAt(e.position),tt===_)return e.position++,e.tag=l,e.anchor=f,e.kind=A?"mapping":"sequence",e.result=c,!0;n?tt===44&&Ft(e,"expected the node content, but found ','"):Ft(e,"missed comma between flow collection entries"),X=z=it=null,v=S=!1,tt===63&&(d=e.input.charCodeAt(e.position+1),sr(d)&&(v=S=!0,e.position++,an(e,!0,t))),r=e.line,i=e.lineStart,o=e.position,Io(e,t,Uc,!1,!0),X=e.tag,z=e.result,an(e,!0,t),tt=e.input.charCodeAt(e.position),(S||e.line===r)&&tt===58&&(v=!0,tt=e.input.charCodeAt(++e.position),an(e,!0,t),Io(e,t,Uc,!1,!0),it=e.result),A?mo(e,c,P,X,z,it,r,i,o):v?c.push(mo(e,null,P,X,z,it,r,i,o)):c.push(z),an(e,!0,t),tt=e.input.charCodeAt(e.position),tt===44?(n=!0,tt=e.input.charCodeAt(++e.position)):n=!1}Ft(e,"unexpected end of the stream within a flow collection")}function Wmt(e,t){var n,r,i=kf,o=!1,l=!1,c=t,f=0,d=!1,_,v;if(v=e.input.charCodeAt(e.position),v===124)r=!1;else if(v===62)r=!0;else return!1;for(e.kind="scalar",e.result="";v!==0;)if(v=e.input.charCodeAt(++e.position),v===43||v===45)kf===i?i=v===43?b0:Mmt:Ft(e,"repeat of a chomping mode identifier");else if((_=qmt(v))>=0)_===0?Ft(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ft(e,"repeat of an indentation width identifier"):(c=t+_-1,l=!0);else break;if(Rs(v)){do v=e.input.charCodeAt(++e.position);while(Rs(v));if(v===35)do v=e.input.charCodeAt(++e.position);while(!Jr(v)&&v!==0)}for(;v!==0;){for(fp(e),e.lineIndent=0,v=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&v===32;)e.lineIndent++,v=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),Jr(v)){f++;continue}if(e.lineIndent<c){i===b0?e.result+=_n.repeat(`
`,o?1+f:f):i===kf&&o&&(e.result+=`
`);break}for(r?Rs(v)?(d=!0,e.result+=_n.repeat(`
`,o?1+f:f)):d?(d=!1,e.result+=_n.repeat(`
`,f+1)):f===0?o&&(e.result+=" "):e.result+=_n.repeat(`
`,f):e.result+=_n.repeat(`
`,o?1+f:f),o=!0,l=!0,f=0,n=e.position;!Jr(v)&&v!==0;)v=e.input.charCodeAt(++e.position);Xi(e,n,e.position,!1)}return!0}function A0(e,t){var n,r=e.tag,i=e.anchor,o=[],l,c=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ft(e,"tab characters must not be used in indentation")),!(f!==45||(l=e.input.charCodeAt(e.position+1),!sr(l))));){if(c=!0,e.position++,an(e,!0,-1)&&e.lineIndent<=t){o.push(null),f=e.input.charCodeAt(e.position);continue}if(n=e.line,Io(e,t,j1,!1,!0),o.push(e.result),an(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&f!==0)Ft(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Kmt(e,t,n){var r,i,o,l,c,f,d=e.tag,_=e.anchor,v={},S=Object.create(null),A=null,P=null,z=null,X=!1,it=!1,tt;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=v),tt=e.input.charCodeAt(e.position);tt!==0;){if(!X&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ft(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(tt===63||tt===58)&&sr(r))tt===63?(X&&(mo(e,v,S,A,P,null,l,c,f),A=P=z=null),it=!0,X=!0,i=!0):X?(X=!1,i=!0):Ft(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,tt=r;else{if(l=e.line,c=e.lineStart,f=e.position,!Io(e,n,H1,!1,!0))break;if(e.line===o){for(tt=e.input.charCodeAt(e.position);Rs(tt);)tt=e.input.charCodeAt(++e.position);if(tt===58)tt=e.input.charCodeAt(++e.position),sr(tt)||Ft(e,"a whitespace character is expected after the key-value separator within a block mapping"),X&&(mo(e,v,S,A,P,null,l,c,f),A=P=z=null),it=!0,X=!1,i=!1,A=e.tag,P=e.result;else if(it)Ft(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=_,!0}else if(it)Ft(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=_,!0}if((e.line===o||e.lineIndent>t)&&(X&&(l=e.line,c=e.lineStart,f=e.position),Io(e,t,zc,!0,i)&&(X?P=e.result:z=e.result),X||(mo(e,v,S,A,P,z,l,c,f),A=P=z=null),an(e,!0,-1),tt=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&tt!==0)Ft(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return X&&mo(e,v,S,A,P,null,l,c,f),it&&(e.tag=d,e.anchor=_,e.kind="mapping",e.result=v),it}function Ymt(e){var t,n=!1,r=!1,i,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&Ft(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,i="!!",l=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):Ft(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!sr(l);)l===33&&(r?Ft(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),G1.test(i)||Ft(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Fmt.test(o)&&Ft(e,"tag suffix cannot contain flow indicator characters")}o&&!W1.test(o)&&Ft(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ft(e,"tag name is malformed: "+o)}return n?e.tag=o:ns.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:Ft(e,'undeclared tag handle "'+i+'"'),!0}function Qmt(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Ft(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!sr(n)&&!_o(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ft(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Zmt(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!sr(r)&&!_o(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ft(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ns.call(e.anchorMap,n)||Ft(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],an(e,!0,-1),!0}function Io(e,t,n,r,i){var o,l,c,f=1,d=!1,_=!1,v,S,A,P,z,X;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=c=zc===n||j1===n,r&&an(e,!0,-1)&&(d=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;Ymt(e)||Qmt(e);)an(e,!0,-1)?(d=!0,c=o,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):c=!1;if(c&&(c=d||i),(f===1||zc===n)&&(Uc===n||H1===n?z=t:z=t+1,X=e.position-e.lineStart,f===1?c&&(A0(e,X)||Kmt(e,X,z))||Gmt(e,z)?_=!0:(l&&Wmt(e,z)||Hmt(e,z)||jmt(e,z)?_=!0:Zmt(e)?(_=!0,(e.tag!==null||e.anchor!==null)&&Ft(e,"alias node should not have any properties")):zmt(e,z,Uc===n)&&(_=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(_=c&&A0(e,X))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ft(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),v=0,S=e.implicitTypes.length;v<S;v+=1)if(P=e.implicitTypes[v],P.resolve(e.result)){e.result=P.construct(e.result),e.tag=P.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ns.call(e.typeMap[e.kind||"fallback"],e.tag))P=e.typeMap[e.kind||"fallback"][e.tag];else for(P=null,A=e.typeMap.multi[e.kind||"fallback"],v=0,S=A.length;v<S;v+=1)if(e.tag.slice(0,A[v].tag.length)===A[v].tag){P=A[v];break}P||Ft(e,"unknown tag !<"+e.tag+">"),e.result!==null&&P.kind!==e.kind&&Ft(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+P.kind+'", not "'+e.kind+'"'),P.resolve(e.result,e.tag)?(e.result=P.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ft(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||_}function Xmt(e){var t=e.position,n,r,i,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(an(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!sr(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&Ft(e,"directive name must not be less than one character in length");l!==0;){for(;Rs(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Jr(l));break}if(Jr(l))break;for(n=e.position;l!==0&&!sr(l);)l=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}l!==0&&fp(e),ns.call(x0,r)?x0[r](e,r,i):Hc(e,'unknown document directive "'+r+'"')}if(an(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,an(e,!0,-1)):o&&Ft(e,"directives end mark is expected"),Io(e,e.lineIndent-1,zc,!1,!0),an(e,!0,-1),e.checkLineBreaks&&Nmt.test(e.input.slice(t,e.position))&&Hc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Nu(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,an(e,!0,-1));return}if(e.position<e.length-1)Ft(e,"end of the stream or a document separator is expected");else return}function Z1(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Umt(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,Ft(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Xmt(n);return n.documents}function Jmt(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=Z1(e,n);if(typeof t!="function")return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])}function t0t(e,t){var n=Z1(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Zn("expected a single document in the stream, but found more")}}var e0t=Jmt,n0t=t0t,X1={loadAll:e0t,load:n0t},J1=Object.prototype.toString,tb=Object.prototype.hasOwnProperty,pp=65279,r0t=9,Ua=10,i0t=13,s0t=32,o0t=33,a0t=34,ad=35,l0t=37,c0t=38,u0t=39,h0t=42,eb=44,f0t=45,jc=58,d0t=61,p0t=62,g0t=63,_0t=64,nb=91,rb=93,m0t=96,ib=123,y0t=124,sb=125,Un={};Un[0]="\\0";Un[7]="\\a";Un[8]="\\b";Un[9]="\\t";Un[10]="\\n";Un[11]="\\v";Un[12]="\\f";Un[13]="\\r";Un[27]="\\e";Un[34]='\\"';Un[92]="\\\\";Un[133]="\\N";Un[160]="\\_";Un[8232]="\\L";Un[8233]="\\P";var v0t=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],b0t=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function w0t(e,t){var n,r,i,o,l,c,f;if(t===null)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)l=r[i],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),f=e.compiledTypeMap.fallback[l],f&&tb.call(f.styleAliases,c)&&(c=f.styleAliases[c]),n[l]=c;return n}function E0t(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Zn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+_n.repeat("0",r-t.length)+t}var x0t=1,za=2;function S0t(e){this.schema=e.schema||hp,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=_n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=w0t(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?za:x0t,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function k0(e,t){for(var n=_n.repeat(" ",t),r=0,i=-1,o="",l,c=e.length;r<c;)i=e.indexOf(`
`,r),i===-1?(l=e.slice(r),r=c):(l=e.slice(r,i+1),r=i+1),l.length&&l!==`
`&&(o+=n),o+=l;return o}function ld(e,t){return`
`+_n.repeat(" ",e.indent*t)}function A0t(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Gc(e){return e===s0t||e===r0t}function Ha(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==pp||65536<=e&&e<=1114111}function C0(e){return Ha(e)&&e!==pp&&e!==i0t&&e!==Ua}function T0(e,t,n){var r=C0(e),i=r&&!Gc(e);return(n?r:r&&e!==eb&&e!==nb&&e!==rb&&e!==ib&&e!==sb)&&e!==ad&&!(t===jc&&!i)||C0(t)&&!Gc(t)&&e===ad||t===jc&&i}function k0t(e){return Ha(e)&&e!==pp&&!Gc(e)&&e!==f0t&&e!==g0t&&e!==jc&&e!==eb&&e!==nb&&e!==rb&&e!==ib&&e!==sb&&e!==ad&&e!==c0t&&e!==h0t&&e!==o0t&&e!==y0t&&e!==d0t&&e!==p0t&&e!==u0t&&e!==a0t&&e!==l0t&&e!==_0t&&e!==m0t}function C0t(e){return!Gc(e)&&e!==jc}function pa(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function ob(e){var t=/^\n* /;return t.test(e)}var ab=1,cd=2,lb=3,cb=4,po=5;function T0t(e,t,n,r,i,o,l,c){var f,d=0,_=null,v=!1,S=!1,A=r!==-1,P=-1,z=k0t(pa(e,0))&&C0t(pa(e,e.length-1));if(t||l)for(f=0;f<e.length;d>=65536?f+=2:f++){if(d=pa(e,f),!Ha(d))return po;z=z&&T0(d,_,c),_=d}else{for(f=0;f<e.length;d>=65536?f+=2:f++){if(d=pa(e,f),d===Ua)v=!0,A&&(S=S||f-P-1>r&&e[P+1]!==" ",P=f);else if(!Ha(d))return po;z=z&&T0(d,_,c),_=d}S=S||A&&f-P-1>r&&e[P+1]!==" "}return!v&&!S?z&&!l&&!i(e)?ab:o===za?po:cd:n>9&&ob(e)?po:l?o===za?po:cd:S?cb:lb}function I0t(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===za?'""':"''";if(!e.noCompatMode&&(v0t.indexOf(t)!==-1||b0t.test(t)))return e.quotingType===za?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),c=r||e.flowLevel>-1&&n>=e.flowLevel;function f(d){return A0t(e,d)}switch(T0t(t,c,e.indent,l,f,e.quotingType,e.forceQuotes&&!r,i)){case ab:return t;case cd:return"'"+t.replace(/'/g,"''")+"'";case lb:return"|"+I0(t,e.indent)+R0(k0(t,o));case cb:return">"+I0(t,e.indent)+R0(k0(R0t(t,l),o));case po:return'"'+O0t(t)+'"';default:throw new Zn("impossible error: invalid scalar style")}}()}function I0(e,t){var n=ob(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),o=i?"+":r?"":"-";return n+o+`
`}function R0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function R0t(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,n.lastIndex=d,O0(e.slice(0,d),t)}(),i=e[0]===`
`||e[0]===" ",o,l;l=n.exec(e);){var c=l[1],f=l[2];o=f[0]===" ",r+=c+(!i&&!o&&f!==""?`
`:"")+O0(f,t),i=o}return r}function O0(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,o,l=0,c=0,f="";r=n.exec(e);)c=r.index,c-i>t&&(o=l>i?l:c,f+=`
`+e.slice(i,o),i=o+1),l=c;return f+=`
`,e.length-i>t&&l>i?f+=e.slice(i,l)+`
`+e.slice(l+1):f+=e.slice(i),f.slice(1)}function O0t(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=pa(e,i),r=Un[n],!r&&Ha(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||E0t(n);return t}function D0t(e,t,n){var r="",i=e.tag,o,l,c;for(o=0,l=n.length;o<l;o+=1)c=n[o],e.replacer&&(c=e.replacer.call(n,String(o),c)),(Ri(e,t,c,!1,!1)||typeof c>"u"&&Ri(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function D0(e,t,n,r){var i="",o=e.tag,l,c,f;for(l=0,c=n.length;l<c;l+=1)f=n[l],e.replacer&&(f=e.replacer.call(n,String(l),f)),(Ri(e,t+1,f,!0,!0,!1,!0)||typeof f>"u"&&Ri(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=ld(e,t)),e.dump&&Ua===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function P0t(e,t,n){var r="",i=e.tag,o=Object.keys(n),l,c,f,d,_;for(l=0,c=o.length;l<c;l+=1)_="",r!==""&&(_+=", "),e.condenseFlow&&(_+='"'),f=o[l],d=n[f],e.replacer&&(d=e.replacer.call(n,f,d)),Ri(e,t,f,!1,!1)&&(e.dump.length>1024&&(_+="? "),_+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ri(e,t,d,!1,!1)&&(_+=e.dump,r+=_));e.tag=i,e.dump="{"+r+"}"}function M0t(e,t,n,r){var i="",o=e.tag,l=Object.keys(n),c,f,d,_,v,S;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Zn("sortKeys must be a boolean or a function");for(c=0,f=l.length;c<f;c+=1)S="",(!r||i!=="")&&(S+=ld(e,t)),d=l[c],_=n[d],e.replacer&&(_=e.replacer.call(n,d,_)),Ri(e,t+1,d,!0,!0,!0)&&(v=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,v&&(e.dump&&Ua===e.dump.charCodeAt(0)?S+="?":S+="? "),S+=e.dump,v&&(S+=ld(e,t)),Ri(e,t+1,_,!0,v)&&(e.dump&&Ua===e.dump.charCodeAt(0)?S+=":":S+=": ",S+=e.dump,i+=S));e.tag=o,e.dump=i||"{}"}function P0(e,t,n){var r,i,o,l,c,f;for(i=n?e.explicitTypes:e.implicitTypes,o=0,l=i.length;o<l;o+=1)if(c=i[o],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(n?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(f=e.styleMap[c.tag]||c.defaultStyle,J1.call(c.represent)==="[object Function]")r=c.represent(t,f);else if(tb.call(c.represent,f))r=c.represent[f](t,f);else throw new Zn("!<"+c.tag+'> tag resolver accepts not "'+f+'" style');e.dump=r}return!0}return!1}function Ri(e,t,n,r,i,o,l){e.tag=null,e.dump=n,P0(e,n,!1)||P0(e,n,!0);var c=J1.call(e.dump),f=r,d;r&&(r=e.flowLevel<0||e.flowLevel>t);var _=c==="[object Object]"||c==="[object Array]",v,S;if(_&&(v=e.duplicates.indexOf(n),S=v!==-1),(e.tag!==null&&e.tag!=="?"||S||e.indent!==2&&t>0)&&(i=!1),S&&e.usedDuplicates[v])e.dump="*ref_"+v;else{if(_&&S&&!e.usedDuplicates[v]&&(e.usedDuplicates[v]=!0),c==="[object Object]")r&&Object.keys(e.dump).length!==0?(M0t(e,t,e.dump,i),S&&(e.dump="&ref_"+v+e.dump)):(P0t(e,t,e.dump),S&&(e.dump="&ref_"+v+" "+e.dump));else if(c==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?D0(e,t-1,e.dump,i):D0(e,t,e.dump,i),S&&(e.dump="&ref_"+v+e.dump)):(D0t(e,t,e.dump),S&&(e.dump="&ref_"+v+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&I0t(e,e.dump,t,o,f);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Zn("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}function L0t(e,t){var n=[],r=[],i,o;for(ud(e,n,r),i=0,o=r.length;i<o;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(o)}function ud(e,t,n){var r,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)ud(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)ud(e[r[i]],t,n)}function N0t(e,t){t=t||{};var n=new S0t(t);n.noRefs||L0t(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ri(n,0,r,!0,!0)?n.dump+`
`:""}var F0t=N0t,V0t={dump:F0t};function gp(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var $0t=Dn,q0t=A1,B0t=I1,U0t=M1,z0t=L1,H0t=hp,j0t=X1.load,G0t=X1.loadAll,W0t=V0t.dump,K0t=Zn,Y0t={binary:q1,float:P1,map:T1,null:R1,pairs:U1,set:z1,timestamp:V1,bool:O1,int:D1,merge:$1,omap:B1,seq:C1,str:k1},Q0t=gp("safeLoad","load"),Z0t=gp("safeLoadAll","loadAll"),X0t=gp("safeDump","dump"),iyt={Type:$0t,Schema:q0t,FAILSAFE_SCHEMA:B0t,JSON_SCHEMA:U0t,CORE_SCHEMA:z0t,DEFAULT_SCHEMA:H0t,load:j0t,loadAll:G0t,dump:W0t,YAMLException:K0t,types:Y0t,safeLoad:Q0t,safeLoadAll:Z0t,safeDump:X0t};export{Xe as _,ryt as a,iyt as j};
